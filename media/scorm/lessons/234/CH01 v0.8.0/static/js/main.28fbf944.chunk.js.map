{"version":3,"sources":["store/popup/actions.ts","constants/defaults.ts","store/user/types.ts","store/timer/types.ts","store/contents/types.ts","core/lti/lti.ts","core/lti/eventHandler.ts","core/lti/index.ts","store/modules/actions.ts","store/timer/actions.ts","assets/figures/Figure.styled.ts","store/app/selectors.ts","components/popups/closeCourse/CloseCourse.styled.ts","components/popups/closeCourse/CloseCourse.tsx","components/popups/closeCourse/index.ts","store/contents/actions.ts","core/mappers/settings.ts","store/questions/responseReducers.ts","store/rootReducer.ts","store/app/reducer.ts","store/course/reducer.ts","store/modules/reducer.ts","store/settings/reducer.ts","store/questions/reducer.ts","store/sections/reducer.ts","store/contents/reducer.ts","store/navigation/reducer.ts","store/treeOfContent/reducer.ts","store/popup/reducer.ts","store/loader/reducer.ts","store/user/reducer.ts","store/resource/reducer.ts","store/resource/checklist/reducer.ts","store/timer/reducer.ts","store/questions/multipleChoice/responseReducer.ts","store/questions/statementChoice/responseReducer.ts","store/questions/dragAndDropText/responseReducer.ts","store/questions/openQuestion/responseReducer.ts","store/questions/rankingText/responseReducer.ts","store/questions/scenario/responseReducer.ts","store/questions/fillInTheBlank/responseReducer.ts","store/questions/textMatching/responseReducer.ts","store/questions/hotspot/responseReducer.ts","store/index.ts","store/navigation/types.ts","store/contents/selectors.ts","core/events/eventEmitter.ts","components/common/Icon/Icon.styled.ts","components/common/SwitchButton/SwitchButton.styled.ts","store/resource/types.ts","components/common/Button/Button.styled.ts","constants/review.ts","components/mixins/placement.ts","utils/navigation.ts","store/user/actions.ts","components/mixins/media.ts","store/treeOfContent/selectors.ts","store/popup/selectors.ts","core/events/eventHandler.ts","store/loader/selectors.ts","utils/logger.ts","store/settings/types.ts","store/treeOfContent/types.ts","store/popup/types.ts","store/loader/types.ts","store/resource/selectors.ts","constants/common.ts","constants/questionTypes.ts","core/http/contentLoader.ts","components/mixins/customScrollbars.ts","components/mixins/backgrounds.ts","components/shell/Layout/index.ts","components/mixins/reviewTypography.ts","store/treeOfContent/actions.ts","core/localization/localization.ts","core/localization/index.ts","store/questions/selectors.ts","store/questions/informationContent/selectors.ts","components/common/Collapse/Collapse.styled.ts","components/common/Collapse/Collapse.tsx","components/common/CssAnimation/CssAnimation.tsx","components/common/Delay/Delay.tsx","components/common/Loader/Loader.styled.ts","components/common/Loader/Loader.tsx","components/common/MultipleChoiceItems/MultipleChoiceItems.styled.ts","components/popups/previewGallery/PreviewGallery.styled.ts","components/popups/previewGallery/PreviewGallery.tsx","components/common/MultipleChoiceItems/MultipleChoiceItems.tsx","components/common/ProgressResult/ProgressResult.styled.ts","components/common/ProgressResult/ProgressResult.tsx","components/common/ShapedIcon/ShapedIcon.styled.ts","components/common/ShapedIcon/ShapedIcon.tsx","components/common/StatusTooltip/StatusTooltip.styled.ts","components/common/StatusTooltip/StatusTooltip.tsx","store/loader/actions.ts","components/common/MainCircleLoader/MainCircleLoader.styled.ts","components/common/MainCircleLoader/MainCircleLoader.tsx","components/common/Routes/PrivateRoute/PrivateRoute.tsx","components/common/Routes/RouteWithRedirect/RouteWithRedirect.tsx","components/common/Tooltip/Tooltip.styled.ts","components/common/Tooltip/Tooltip.tsx","components/common/CourseLogo/CourseLogo.styled.ts","components/common/CourseLogo/CourseLogo.tsx","components/common/index.ts","components/common/SwitchButton/SwitchButton.tsx","components/common/SwitchButton/index.ts","components/common/EditableTextarea/EditableTextarea.tsx","components/common/EditableTextarea/index.ts","assets/figures/Trophy.tsx","components/common/Popup/Popup.styled.ts","components/common/Popup/Popup.tsx","components/common/Popup/index.ts","components/common/NumericList/NumericList.styled.ts","components/common/NumericList/NumericList.tsx","components/common/NumericList/index.ts","store/questions/multipleChoice/types.ts","store/course/selectors.ts","core/events/events.ts","core/fonts/loader.ts","components/common/EditableTextarea/EditableTextarea.styled.ts","constants/components.ts","store/navigation/selectors.ts","utils/window.ts","constants/typeAccess.ts","store/resource/checklist/types.ts","core/schemas/resource/resourceContents.ts","core/schemas/resource/resource.ts","core/mappers/resource.ts","core/analytics/Analytics.ts","core/analytics/events.ts","store/resource/actions.ts","components/hocs/withNavigation.tsx","utils/compression.ts","core/progressStorage/storageInterface.ts","core/progressStorage/externalStorage/auth.ts","core/progressStorage/externalStorage/socialNetworks.ts","core/progressStorage/externalStorage/index.ts","core/progressStorage/idMapper/idShortener.ts","core/progressStorage/idMapper/responseMappers/DragAndDropText.ts","core/progressStorage/idMapper/responseMappers/FillInTheBlank.ts","core/progressStorage/idMapper/responseMappers/HotspotMapper.ts","core/progressStorage/idMapper/responseMappers/InformationContent.ts","core/progressStorage/idMapper/responseMappers/SingleChoice.ts","core/progressStorage/idMapper/responseMappers/MultipleChoice.ts","core/progressStorage/idMapper/responseMappers/OpenQuestion.ts","core/progressStorage/idMapper/responseMappers/StatementChoice.ts","core/progressStorage/idMapper/responseMappers/RankingText.ts","core/progressStorage/idMapper/responseMappers/Scenario.ts","core/progressStorage/idMapper/responseMappers/SingleChoiceImage.ts","core/progressStorage/idMapper/responseMappers/TextMatching.ts","core/progressStorage/idMapper/responseMappers/index.ts","core/progressStorage/idMapper/index.ts","core/progressStorage/localStorage/index.ts","core/progressStorage/progressMapper/responseMappers/ResponseMapperBase.ts","core/progressStorage/progressMapper/responseMappers/DragAndDropTextResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/FillInTheBlankResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/HotspotResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/InformationContentResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/ChoiceResponseMapperBase.ts","core/progressStorage/progressMapper/responseMappers/MultipleChoiceResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/OpenQuestionResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/RankingTextResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/ScenarioResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/SingleChoiceResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/SingleChoiceImageResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/StatementChoiceResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/TextMatchingResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/index.ts","core/progressStorage/progressMapper/responseMapper.ts","core/progressStorage/progressMapper/urlMapper.ts","core/progressStorage/progressStorage.ts","core/progressStorage/EventHandler.ts","core/progressStorage/index.ts","components/common/SkipToContent/SkipToContent.styled.ts","components/common/SkipToContent/SkipToContent.tsx","components/common/SkipToContent/index.ts","components/review/Reviewable/Reviewable.styled.ts","components/review/Reviewable/Reviewable.tsx","components/review/Reviewable/index.ts","components/common/Button/Button.tsx","components/common/Button/index.ts","components/common/DropdownInput/DropdownInput.styled.ts","components/common/DropdownInput/popover/DropdownInputPopover.styled.ts","components/common/DropdownInput/popover/DropdownInputPopover.tsx","components/common/DropdownInput/button/DropdownInputButton.styled.ts","components/common/DropdownInput/button/DropdownInputButton.tsx","components/common/DropdownInput/DropdownInput.tsx","components/common/DropdownInput/index.ts","components/common/Separator/Separator.tsx","components/common/Separator/index.ts","store/questions/multipleChoice/selectors.ts","core/configuration/reader.ts","core/configuration/translationProvider.ts","core/configuration/settingsProcessor.ts","core/connectionAlert/eventHandler.ts","core/connectionAlert/index.ts","store/app/actions.ts","store/settings/actions.ts","store/course/types.ts","components/common/DragDrop/DragDrop.styled.ts","components/common/DragDrop/DragDrop.tsx","components/common/DragDrop/index.ts","components/common/ProgressBar/ProgressBar.styled.ts","components/common/ProgressBar/ProgressBar.tsx","components/common/ProgressBar/index.ts","components/common/Link/Link.styled.ts","components/common/Link/Link.tsx","components/common/Link/index.ts","components/common/TextInput/TextInput.styled.ts","components/common/TextInput/TextInput.tsx","components/common/TextInput/index.ts","components/common/embeddables/PdfDocument/PdfDocument.styled.ts","components/common/embeddables/PdfDocument/PdfDocument.tsx","components/common/embeddables/PdfDocument/index.ts","components/common/Hint/Hint.styled.ts","components/common/Hint/Hint.tsx","store/user/selectors.ts","utils/object.ts","store/initialState.ts","store/questions/statementChoice/types.ts","store/questions/openQuestion/types.ts","store/questions/rankingText/types.ts","constants/progressStatus.ts","store/questions/scenario/types.ts","store/questions/fillInTheBlank/types.ts","store/questions/dragAndDropText/types.ts","store/questions/hotspot/types.ts","store/questions/textMatching/types.ts","store/questions/statementChoice/selectors.ts","store/questions/openQuestion/selectors.ts","store/questions/rankingText/selectors.ts","store/questions/types.ts","store/questions/scenario/selectors.ts","store/questions/fillInTheBlank/selectors.ts","store/questions/textMatching/selectors.ts","store/questions/hotspot/selectors.ts","utils/questions.ts","constants/navigation.ts","components/popups/nps/buttonVote/ButtonVote.styled.ts","components/popups/nps/buttonVote/ButtonVote.tsx","components/popups/nps/evaluateCourse/EvaluateCourse.styled.ts","components/popups/nps/evaluateCourse/EvaluateCourse.tsx","assets/figures/Rate.tsx","components/popups/nps/feedbackStep/FeedbackStep.styled.ts","components/popups/nps/feedbackStep/FeedbackStep.tsx","components/popups/nps/thankForFeedback/ThankForFeedback.styled.ts","components/popups/nps/thankForFeedback/ThankForFeedback.tsx","components/popups/nps/nps.tsx","components/popups/nps/index.ts","utils/getStringHash.ts","utils/sort.ts","store/questions/dragAndDropText/selectors.ts","components/common/Icon/Icon.tsx","components/common/Icon/index.ts","components/popups/descriptionWithBackground/DescriptionWithBackground.styled.ts","components/popups/descriptionWithBackground/DescriptionWithBackground.tsx","components/popups/descriptionWithBackground/index.ts","store/settings/selectors.ts","components/mixins/images.ts","constants/timer.ts","components/mixins/interactivity.ts","components/mixins/typography.ts","constants/screenResolutions.ts","store/sections/selectors.ts","constants/progressStorage.ts","store/modules/types.ts","components/mixins/normalize.ts","core/schemas/course/content.ts","core/schemas/course/explanationBlock.ts","core/schemas/course/question.ts","core/schemas/course/section.ts","core/schemas/course/afterword.ts","core/schemas/course/introductions.ts","core/schemas/course/course.ts","core/mappers/course.ts","utils/shuffle.ts","core/dataProcessors/questionOptions.ts","store/course/actions.ts","core/http/requester.ts","store/sections/types.ts","utils/string.ts","store/modules/selectors.ts","core/http/resourceLoader.ts","store/timer/selectors.ts","constants/popups.ts","store/app/types.ts","components/shell/Layout/Layout.styled.ts","pages/errors/somethingWentWrong/SomethingWentWrongPage.styled.ts","pages/errors/somethingWentWrong/SomethingWentWrongPage.tsx","components/hocs/withScrollOnRedirect.tsx","pages/errors/ConnectionAlert/ConnectionAlert.styled.ts","assets/figures/LostConnection.tsx","pages/errors/ConnectionAlert/ConnectionAlert.tsx","components/shell/Shell.tsx","assets/styles/common.ts","assets/styles/animations.ts","assets/styles/index.ts","index.tsx","store/questions/actions.ts","utils/color.ts","components/common/CircleLoader/CircleLoader.styled.ts","components/common/CircleLoader/CircleLoader.tsx","components/common/CircleLoader/index.ts","store/sections/actions.ts","utils/timer.ts","store/navigation/actions.ts","components/common/Text/Text.styled.ts","components/common/Text/Text.tsx","components/common/Text/index.ts","constants/language.ts","components/timer/Analog/TimerProgressProvider.ts","components/timer/Analog/AnalogTimer.styled.ts","components/timer/Analog/AnalogTimer.tsx","components/timer/Digital/DigitalTimer.styled.ts","components/timer/Digital/DigitalTimer.tsx","components/timer/Timer.styled.ts","components/timer/TimerBlock.tsx","components/timer/useInterval.ts","components/timer/useTimeout.ts","components/timer/Timer.tsx","assets/figures/SecretLink.tsx","components/popups/continueLater/ContinueLater.styled.ts","components/popups/continueLater/ContinueLater.tsx","components/popups/continueLaterInScorm/ContinueLaterInScorm.styled.ts","components/popups/continueLaterInScorm/ContinueLaterInScorm.tsx","components/userMenu/UserMenu.styled.ts","components/userMenu/UserMenu.tsx","components/shell/Layout/Layout.tsx","utils/comparison.ts"],"names":["openPopup","settings","dispatch","type","ActionTypes","OPEN_POPUP","payload","closePopup","CLOSE_POPUP","DEFAULT_ALTERNATIVE_LOGO_URL","DEFAULT_BACKGROUND","header","image","url","option","coverOverlay","enabled","color","opacity","body","DEFAULT_COLORS","textColor","DEFAULT_FONTS","mainFont","fontFamily","DEFAULT_SOMETHING_WENT_WRONG_TITLE_TEXT","DEFAULT_LOGO_TEXT","DEFAULT_PLEASE_TRY_TY_REFRESH_THE_PAGE_TEXT","callbackUrl","submitResultToLti","a","async","score","requestOptions","credentials","data","headers","method","retryOptions","token","progressStorage","getToken","Authorization","requester","post","this","EventHandler","handlers","event","COURSE_FINISHED","instance","bind","lti","initialize","BaseEventHandler","eventHandler","on","off","initializeXapi","getState","state","default","xApi","getXapiSettings","isScoringOfContentPagesAllowed","defaultLrsUrl","getPublishSettings","defaultLRSUrl","defaultNpsUrl","course","getCourse","actor","username","getName","email","getEmail","account","getAccount","MODULE_XAPI_INITIALIZED","subscribeXapi","isResultsTrackingEnabled","subscribeLrs","MODULE_XAPI_LRS_ON","isNpsEnabled","subscribeNps","MODULE_XAPI_NPS_ON","unsubscribeXapi","unsubscribeAll","MODULE_XAPI_LRS_OFF","MODULE_XAPI_NPS_OFF","initializeScorm","scorm","isScorm2004Mode","MODULE_SCORM_INITIALIZED","userActions","name","userInfoProvider","getUsername","getAccountId","homePage","getAccountHomePage","eventEmitter","emit","events","APP_INITIALIZED","isScormMode","USER_AUTHENTICATED","getUser","use","progressProvider","subscribeProgressStorage","isPreviewMode","isReviewMode","subscribe","MODULE_PROGRESS_STORAGE_ON","enableReview","editorWindow","window","parent","locationProtocol","location","protocol","targetOriginUrl","getAuthoringToolUrl","postMessage","supportsNativeReview","loadReviewFont","reviewApiUrl","getValueFromUrl","authoringToolDomain","courseId","getCourseId","ENABLE_REVIEW_MODE","REVIEW_INITIALIZED","subscribeLti","MODULE_LTI_INITIALIZED","isLTI","emitTimerProgress","COURSE_TIMER_PROGRESSED","timer","status","getTimerStatus","elapsed","getTimerElapsed","startTimer","START_TIMER","setTimerStatus","SET_TIMER_STATUS","setTimerElapsed","SET_TIMER_ELAPSED","resetTimer","RESET_TIMER","RESET_TIMER_PROGRESS","updateTimerProgress","Figure","styled","svg","attrs","props","role","arialabel","isAppLoaded","app","isLoaded","isAppLoadingFailed","isLoadingFailed","isAppLoading","isLoading","isLowResolution","isOffline","TextElement","Text","theme","colors","media","mobile","ButtonsWrapper","div","Wrapper","section","CloseCourse","renderCourseCloseText","isLti","isAnonymous","localize","scormMode","navigationActions","learnServiceUrl","previewMode","appearance","onClick","goToUrl","data-test","React","connect","getLearnServiceUrl","isLtiInitialized","bindActionCreators","contentsLoaded","contents","CONTENTS_LOADED","loadAll","loadContent","content","value","contentLoader","loadStaticHtmlContent","CONTENT_LOADED","contentId","id","CONTENT_LOADING_FAILED","loadContents","promises","forEach","push","Promise","all","getContent","contentValue","contentChunks","chunk","Object","values","contentChunk","promiseCollection","then","contentValues","options","publishSettings","manifest","translations","publishMode","template","mapTemplateSettings","publish","fonts","reduce","acc","item","toCamelCase","key","branding","mainLogo","logo","alternativeLogo","allowToShowMainLogo","allowToShowLogo","normalizeColorName","background","languages","saveProgressCrossDevice","loginViaSocialMedia","conductLearnerSatisfactionSurvey","allowUsersToDownloadCertificates","showContentPages","showLearningHints","resultsTracking","numberOfAttempts","allowUserToSkipTrackingAndTracing","allowScoringOfContentPages","answersFromPreviousAttempt","masteryScore","showAllQuestionAndContentItems","submitAnswers","questionPool","randomizeQuestionOrder","answerOptionsOrder","responseReducer","action","hasOwnProperty","question","questionId","response","questionResponseReducers","reducer","reduceQuestionResponse","rootReducer","combineReducers","initialState","APP_LOADED","assign","APP_LOADING_FAILED","APP_RESOLUTION_CHANGED","APP_OFFLINE_OR_SERVER_ERROR","APP_ONLINE","COURSE_DATA_LOADED","COURSE_DATA_LOADING_FAILED","COURSE_PROGRESS_RESTORED","attemptId","hasBeenContinued","COURSE_LAUNCHED","isLaunched","COURSE_SUBMIT_AT_ONCE","isAttemptSubmitted","reAttemptedSubmitAtOnce","COURSE_SUBMIT_AT_ONCE_LIMITED","courseAttempt","COURSE_REATTEMPTED_SUBMIT_AT_ONCE","COURSE_SCORE_UPDATED","COURSE_CLEANUP","ProgressStatus","IN_PROGRESS","isProgressRestoreFailed","isProgressRestoreFetched","isCourseFinished","CLEAR_PREVIEW_QUESTION_ID","previewQuestionId","CERTIFICATE_DOWNLOADED","COURSE_IS_PASSED","COURSE_PROGRESS_RESTORE_FAILED","COURSE_PROGRESS_RESTORE_FETCHED","TIME_SPENT_UPDATED","COURSE_IS_FAILED","COURSE_RANDOMIZED_OPTIONS_LOADED","isRandomizedOptionsLoaded","modules","xapi","isInitialized","isLrsTrackingOn","isNpsTrackingOn","isProgressStorageOn","MODULE_PROGRESS_STORAGE_OFF","review","isReviewModeEnabled","SETTINGS_LOADED","settingsMapper","SETTINGS_LOADING_FAILED","router","routerReducer","questions","QUESTIONS_LOADED","QUESTION_PROGRESS_RESTORE","QUESTION_ANSWERED","isAnswered","isAnsweredCorrectly","attemptNumber","attempt","QUESTION_PROGRESS_RESTORE_BEFORE_SUBMIT","QUESTION_ANSWERED_BEFORE_SUBMIT","QUESTION_UPDATE_SCORE","QUESTION_OPENED","hasBeenOpened","QUESTION_PROGRESS_RESET","isPoolQuestion","getInitialQuestionResponse","QUESTION_PROGRESS_RESET_ATTEMPT","QUESTION_PROGRESS_RESET_KEEP_ANSWER","QUESTION_RESTORE_RESPONSE","QUESTION_RESTORE_SHOW_PREV_ANSWER","FEEDBACK_ANIMATING","isFeedbackAnimating","QUESTION_UPDATE_RETRY","retries","responseReducers","sections","SECTIONS_LOADED","SECTION_SCORE_UPDATED","SECTION_IS_PASSED","SECTION_ANSWERED","isSectionAnswered","SECTION_ANSWERED_SCORE","sectionProgress","navigation","SectionsActions","urls","sectionId","learningObjective","getLearningObjectiveUrl","getQuestionUrl","RESULTS_PATH","chain","NAVIGATED_INSIDE_THE_APP","prevUrl","POOL_URL_LOADED","poolQuestions","ELEMENT_ID_IN_VIEWPORT_UPDATED","elementIdInViewport","treeOfContent","TOC_TOGGLE_VISIBILITY","isExpanded","COURSE_ENABLE_SUBMIT_BUTTON","isSubmitButtonVisible","popup","loader","OPEN_LOADER","CLOSE_LOADER","user","USER_UNAUTHENTICATED","USER_AUTHENTICATION_SKIPPED","authorizationSkipped","USER_AUTHENTICATION_NOT_SKIPPED","resource","RESOURCE_DATA_LOADED","RESOURCE_DATA_LOADING_FAILED","checklist","TOGGLE_CHECK","INIT_CHECKLIST","TimerStatus","STARTED","RESET","startedAt","updatedAt","questionState","QUESTION_MULTIPLECHOICE_TOGGLE_ANSWER_IS_SELECTED","toggleArrayElement","answerId","QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED","SET_SINGLE_ANSWER_SELECTED","splice","length","QUESTION_STATEMENT_ANSWER_IS_SELECTED","toggleArrayStatementElement","isCorrect","QUESTION_DRAG_AND_DROP_ANSWERS_ARE_SELECTED","answers","OPEN_QUESTION_ANSWER_IS_SELECTED","answeredText","QUESTION_RANKING_ANSWERS_ARE_SELECTED","QUESTION_SCENARIO_BRANCHTRACK_DATA","isFinished","FILL_IN_THE_BLANK_ANSWER","QUESTION_MATCHING_ANSWERS_ARE_SELECTED","HOTSPOT_QUESTION_ANSWER","history","createHashHistory","middleware","thunk","routerMiddleware","composedEnhancers","compose","applyMiddleware","store","createStore","getContents","createSelector","ids","Emmitery","eventConstants","IconElement","span","size","getColor","transition","fontSize","CheckIcon","Icon","CheckImageIcon","AnswerImage","img","alt","ButtonElement","selected","layout","SWITCH_BUTTON_LAYOUT","QUESTION","css","mainColor","transparentize","multiple","CHECKLIST","SIZES","SMALL","buttonTextColor","imageUrl","defaultBoxShadowColor","checkMarkAnimate","keyframes","ButtonWrapper","tabIndex","roleValue","ariaLabel","undefined","ariaDisabled","button","disabled","buttonDefaultStyle","textTransform","suffixIcon","MEDIA_LARGE","BUTTON","LAYOUT","PRIMARY","ctaButtonColor","solidColor","SECONDARY","inverted","coverBgOverlayTextColor","MEDIUM","ButtonLinkElement","withComponent","REVIEW_USER_EMAIL","REVIEW_USER_NAME","HINT_FOR_SPOT_COMMENT","HINT_FOR_GENERAL_COMMENT","COMMENT_SENDING_FAILED","STATUS_OK","REVIEW_COMMENT_PROPERTIES","DEFAULT_TITLE","TITLE","INTRODUCTION","LEARNING_CONTENT","VOICE_OVER","CONTENT_ITEM","TITLE_OF_THE_SECTION","GENERAL","REVIEW_COMMENT_TYPES","INFORMATION_CONTENT","COURSE","SECTION","centerAbsoluteElement","centerAbsoluteElementY","QUESTION_PATH","replace","LEARNING_OBJECTIVE_PATH","getQuestionAbsoluteUrl","getCurrentUrl","getSectionAbsoluteUrl","SECTION_PATH","getSectionUrl","getLocationParams","path","keys","match","pathToRegexp","exec","getCurrentLocationHash","index","authenticate","load","getUserFromUrl","shouldSaveCrossDevice","isPublishMode","identifyUser","authorizeUser","signInData","shortTermAccess","registerUser","signUpData","skipAuthentication","notSkipAuthentication","logout","USER_LOGOUT","courseActions","sendSecretLink","toLowerCase","sizes","xsmall","MEDIA_XSMALL","small","MEDIA_SMALL","medium","MEDIA_MEDIUM","large","xlarge","MEDIA_XLARGE","tablet","MEDIA_TABLET","smallFontRatio","MEDIA_SMALL_FONT_RATIO","MEDIA_MOBILE","label","args","getTreeOfContentVisibility","getPopupVisibility","getPopupSettings","handler","isLoaderVisibility","error","console","warn","info","log","getResourceContents","resourceContents","getResourceTitle","title","getResourceType","resourceType","getResourceId","MATERIAL_TYPES","RESOURCE_TYPE","imageResizerQueryPattern","supportedBgSizes","contain","cover","initial","CONTENT_TYPES","JSON","DEFAULT_LANGUAGE_CODE","CUSTOM_LANGUAGE_CODE","NO_SELECTED_ID","IMAGE_DEFAULT_DOMAIN","maxCountTocNavigationElements","minCountTocNavigationElements","DEFAULT_QUESTION_POOL_ID_LENGTH","LTI_CALLBACK_URL_PARAMETER_NAME","FONT_WEIGHTS","SECONDARY_FONT_KEY","MEDIA_FONT_SIZES","heading1","MAXIMUM_VALUE","MULTIPLIER","heading2","heading3","heading4","paragraph","quote","TRANSITION_TIME_DURATION_MS","CIRCLE_DEGREES","HTML_INFINITY_SYMBOL","SVG_XML_NAMESPACE","DEBOUNCE_SCROLL_WAIT_TIME_MS","RECALCULATE_LOCATION_TIME_MS","EULA_PDF_LINK","KEYS","ENTER","SPACEBAR","TAB","ESCAPE","EMAIL_REGEX","RegExp","join","PASSWORD_REGEX","SKIP_TO_CONTENT_IDS","LEARNING_OBJECTIVE_PAGE","QUESTION_PAGE","RESULT_PAGE","ONE_PAGE_COURSE","QUESTION_POOL_START_BUTTON","SINGLE_CHOICE","MULTIPLE_CHOICE","STATEMENT_CHOICE","SINGLE_CHOICE_IMAGE","OPEN_QUESTION","RANKING_TEXT","SCENARIO","FILL_IN_THE_BLANK","DRAG_AND_DROP_TEXT","TEXT_MATCHING","HOTSPOT","loadMaterialData","resourceLoader","getLocalResource","json","xss","text","filter","getCustomScrollbars","scrollColor","backgroundColor","backgroundImage","position","repeat","bodyBackground","texture","headerBackground","headerBackgroundImage","loadFontsFromGoogle","fontWeight","reviewFontText","toggleTreeOfContentVisibility","submitAllAnswerOnce","questionActions","adaptToResolution","isTocExpanded","isLowerResolution","templateData","defaultValue","getTranslations","Error","prop","pattern","regex","applyTemplateData","hasAvailableAttempt","isAttemptsLimited","getLimitedAttemptsNumber","getQuestion","getQuestionSection","getQuestions","objectToArray","getAffectProgressQuestions","isQuestionPoolEnabled","affectsProgress","isAllQuestionsFailed","every","isAllQuestionsTimedOut","getTimerEnabled","STOPPED","isAttemptTimedOut","isAllSurveyQuestionsAnswered","isSurvey","getQuestionResponse","getAffectProgressQuestionsCount","hasReAnswerableQuestions","some","getAnsweredAffectProgressQuestionsCount","getAnsweredQuestionsProgress","affectProgressQuestionsCount","Math","floor","getCorrectlyAffectProgressAnsweredQuestionsCount","isQuestionAnswered","isQuestionAnsweredCorrectly","getQuestionAttempt","hasCourseBeenStarted","getLastOpenedQuestion","getScore","multipleChoiceSelectors","statementChoiceSelectors","openQuestionSelector","rankingTextSelector","scenarioSelector","fillInTheBlankSelector","dragAndDropTextSelector","textMatching","hotspot","informationContent","questionExists","includes","getPoolQuestions","getPoolQuestionIndex","questionsForPoolTemp","poolQuestionIDs","indexOf","getSectionId","isAllAffectedQuestionsAnswered","getUnansweredQuestions","hasAnyQuestionOpened","getQuestionRetries","Content","defaultOpacity","opacityDuration","Container","duration","isVisible","Collapse","containerNode","contentNode","timeout","raf","animateAppear","updateWithAnimation","update","clear","children","ref","getDefaultOpacity","setHeight","setOpacity","delayOpacityTransition","fadeOut","collapse","call","onCollapsed","expand","scrollIntoView","time","align","top","fadeIn","setTimeout","onExpanded","func","clearTimeout","cancelAnimationFrame","animateHeight","isHeightAuto","getContentHeight","requestAnimationFrame","height","current","offsetHeight","style","defaultProps","AnimationTypes","CssAnimation","animateLeave","CSSTransition","in","appear","exit","classNames","unmountOnExit","AnimationType","Delay","componentDidMount","setState","isWaiting","callback","wait","componentWillUnmount","PureComponent","ContentLoader","ReactContentLoader","withTheme","width","speed","primaryColor","secondaryColor","x","y","rx","ry","ListItemsBlock","ul","isImageQuestion","ListItem","li","isTreeOfContentExpanded","TOC","EXPANDED_WIDTH","ZoomIconBg","ZoomIcon","ZoomIconButton","isShown","ImageItem","figure","Image","isImageLoaded","PreviewGalleryPopup","handleImageLoaded","imageUrls","popupSettings","map","CircleLoader","iconSize","src","onLoad","MultipleChoiceItems","items","isOpened","selectItem","isMultiple","showPopup","actions","popupId","POPUP_ID_IMAGE_PREVIEW","popupAriaLabelKey","component","PreviewGallery","disableBottomLine","imageQuestion","SwitchButton","altAnswerImage","onKeyDown","className","nextProps","prevState","StatusIcon","correctColor","passedMark","progress","ProgressWrapper","ProgressBarMark","styles","ProgressResult","passedMarkStyles","progressColor","useState","showTooltip","setShowTooltip","toggleShowTooltip","onMouseEnter","onMouseLeave","ProgressBar","html","mustPercentSuccess","arrow","open","distance","tooltipTheme","roundFullColor","roundOutlined","roundShaded","contentBodyColor","IconShape","getShapeSize","shape","ICON","SHAPES","ROUND_FULL_COLOR","ROUND_OUTLINED","ROUND_SHADED","LARGE","hoverShape","pointerOnHover","getHoverColor","getShapeColor","shapeColor","shapeOpacity","ShapedIcon","shapeSize","getIconSize","secondaryFont","MessageContainer","ContainerMessage","TOOLTIP","INCORRECT","incorrectColor","CORRECT","PopoverButton","PopoverWrapper","StatusTooltip","refButton","popoverPosition","popoverButton","message","onRequestClose","templateTheme","trigger","interactive","font","openLoader","closeLoader","OverLayContainer","MainCircleLoader","loaderActions","isCourseProgressRestoreFetched","isCourseProgressRestoreFailed","courseAccessLimited","isCourseAccessLimited","isLoaderVisible","reviewMode","Component","ComponentNoAccess","componentNoAccess","typeAccess","materialType","rest","Route","render","IS_NO_ACCESS","IS_NOT_AUTHORIZED","Redirect","to","LOGIN_PATH","displayComponents","materialTypeCourseComponents","saveCrossDevice","shouldRedirect","routeTo","INDEX_PATH","canRedirect","pathname","isSignUpPage","SIGNUP_PATH","TooltipContentWrapper","shake","TooltipContentArrow","TooltipElement","newProps","onMouseUp","e","stopPropagation","popperOptions","modifiers","preventOverflow","boundariesElement","computeStyle","gpuAcceleration","positionFixed","isTouchScreenDevice","useContext","stickyDuration","animateFill","Logo","altText","logoUrl","CourseLogo","ariaChecked","EditableTextarea","textAreaNode","isAutofocus","focus","placeholder","onResize","onBlur","onChange","rows","viewBox","version","xmlns","filterUnits","stdDeviation","stroke","strokeWidth","fill","fillRule","transform","d","cx","cy","BottomLine","PopupWrapper","ariaModal","PopupContent","PopupOverlay","CloseBtnWrapper","CloseBtnIcon","CloseBtnText","PopupContainer","containerElement","focusedElementBeforeDialogOpened","handleKeyDown","evt","disablePopupClosing","keyCode","preventActions","popupContainer","document","getElementById","contains","target","activeElement","element","addEventListener","removeEventListener","enableClosePopupByTap","ComponentToRender","aria-label","ListCounter","ListCounterItem","lineHeight","NumericList","getCourseTitle","getCourseIntroductions","introductions","isPassed","comparison","isInProgress","isFailed","getTemplateId","templateId","getAttemptId","getCourseAttempt","getPreviewQuestionId","getTimeSpent","Date","getTime","timeSpent","incrementStartedAt","accumulatedValueInMilliseconds","getCourseStructure","getSections","isInformationContent","getQuestionsStructure","questionsSchema","isAccessLimited","getAllowedUsers","isCertificateDownloaded","getPassedAfterwords","passedAfterwords","getFailedAfterwords","failedAfterwords","isFinalized","isCourseLaunched","isCoursePassed","getAffectProgressSections","getTimerProgressKey","COURSE_TIMER_PROGRESS_KEY","getUserId","COURSE_STARTED","COURSE_FINALIZED","COURSE_EVALUATED","COURSE_PROGRESSED","SUBMIT_ONCE_COURSE_PROGRESSED","COURSE_ATTEMPT_STARTED","COURSE_QUESTION_POOL_SELECTED","COURSE_RANDOMIZED_OPTIONS_SAVED","SECTION_PROGRESSED","SUBMIT_ONCE_QUESTION_ANSWERED","SUBMIT_ONCE_QUESTION_SUBMITTED","SUBMIT_ONCE_QUESTION_ATTEMPTED","INFORMATION_CONTENT_EXPERIENCED","APP_NAVIGATED","RESET_QUESTION_PROGRESS","COMMENT_SENT","REVIEWER_AUTHORIZED","REVIEW_RESTORE_USER","UPDATE_CHECKLIST_PROGRESS","loadFonts","customFontPlace","mappedFonts","mapFonts","webFontConfig","prepareWebFontConfig","constructor","makeLoadFontRequest","presetFonts","mapPresetFont","templateFonts","find","family","place","variant","fontStyle","getTemplateFont","concat","samefont","variants","result","mapVariant","addQueryStringParameter","cacheBuster","places","config","families","fontData","placeData","mapFontName","resolve","baseConfig","active","inactive","WebFont","salt","fontVariants","fontLanguages","fontConfig","google","EditableContentWrapper","OPACITY","PERCENT_30","PERCENT_100","COLLAPSED_WIDTH","TAIL_WIDTH","Z_INDEX","SIDEBAR","COLLAPSED_TOC","TOC_TAIL","BLOCKOUT","LINK","DEFAULT","FORM","INPUT_TYPE","TEXT","PASSWORD","EMAIL","getChain","getPrevUrl","getElementIDInViewPort","resolution","innerWidth","host","hash","test","navigator","userAgent","isIE","hasQueryStringParameter","href","separator","decodeURIComponent","clearQueryString","currentHash","searchIndex","cleanHash","slice","replaceState","closeWindow","close","getFilteredQueryParams","queryKey","parsedParams","search","params","lastIndex","getObjectParsedQueryString","filteredParams","removeQueryStringParam","paramName","isIframe","self","IS_SUCCESSFUL_ACCESS","schema","Entity","processStrategy","define","normalized","normalize","resourceSchema","entities","AnalyticsPlugin","writeKey","Analytics","SegmentPlugin","analytics","plugins","timestamp","now","eventName","category","properties","integrations","Amplitude","session_id","track","err","logger","getInstance","ResourceTypesProperty","RESOURCE_DATA_LOADING_STARTED","resourcesMapper","contentsActions","reason","launch","RESOURCE_PATH","restoreProgress","resourceId","analyticsWriteKey","init","trackEvent","analyticsEvents","withNavigation","WrappedComponent","Navigation","getNextPageUrl","currentUrlIndex","checkHasPrevPage","navigateToPrevPage","navigateToUrl","navigateToNextPage","navigateToIndex","isReplace","navigatedToUrl","isNextPageResults","isPreviousPageResults","updateElementIdInViewPort","scrollToId","offset","scrollIntoViewElement","elementId","scrollElement","topOffset","combinedProps","compress","stringify","decompress","parse","StorageInterface","constants","ExternalStorageAuth","courseTitle","authServiceUrl","courseLink","contentType","bearerToken","getTokenFromAuthService","get","retryOn","getTokenResponse","responseData","getAuthToken","getHeaders","userInfoResponse","query","nocache","password","_setAuthenticationData","returnUrl","PASSWORD_RESET_SENDING_FAILED","IdToUuid","UNKNOWN_ERROR","EMAIL_PASSWORD_COMBINATION_NOT_EXISTS","toString","sessionStorage","setItem","removeItem","getItem","SocialNetworks","authStorageUrl","socialNetwork","isMainHost","addTokenQueryParam","encodeLocation","encodeURIComponent","ExternalStorage","_auth","_socialNetworks","getAuthServiceUrl","responseProgress","jsonProgress","CourseProgressStorageStatus","courseUrl","PASSED","FAILED","shouldSubmitAllQuestions","put","saveProgressResponse","isAuthenticated","exists","identify","userData","authorize","register","resetPassword","getAuthLink","IdShortener","translator","shortId","fromUUID","toUUID","DragAndDropTextResponseMapper","_mapId","convertToShort","_mapItems","convertToOriginal","convert","idShortener","FillInTheBlankResponseMapper","_map","userResponse","convertedId","HotspotResponseMapper","InformationContentResponseMapper","SingleChoiceResponseMapper","MultipleChoiceResponseMapper","OpenQuestionResponseMapper","StatementChoiceResponseMapper","RankingTextResponseMapper","ScenarioResponseMapper","SingleChoiceImageResponseMapper","TextMatchingResponseMapper","StatementChoice","questionTypes","DragAndDropText","FillInTheBlank","HotspotMapper","InformationContent","MultipleChoice","OpenQuestion","RankingText","Scenario","SingleChoice","SingleChoiceImage","TextMatching","questionType","responseMappers","unMap","LocalStorage","progressKey","getProgressKey","localStorage","isCourse","isResource","ResponseMapperBase","mapResponse","answer","Array","isArray","String","hasQuestionResponse","dropspots","responseItem","itemIndex","findIndex","userAnswer","notSelectedItem","isDropDisabled","dropspot","unshift","userAnswerIndexes","answerIndex","answerValues","selectedOptionIndex","answerOption","answerGroups","answerItem","questionAnswer","isEmptyAnswer","itemAnswer","spots","spot","ChoiceResponseMapperBase","_unMapFailedResponse","questionAnswers","hasBeenSelected","correctAnswerId","shownSelectedValue","selectedKey","selectedOption","userAnswers","defaultCourseProgress","attempts","finished","allQuestionsSubmitted","courseAttemptNumber","randomizedOptionsList","defaultChecklistProgress","checklistItem","storage","questionShortIds","questionsIndexToIdSchema","isQuestionPool","questionPoolSize","shouldShowPreviousAnswers","isSubmitAllAtOnce","nonAsciiCharsSupported","timerEnabled","isRandomizeAnswersEnabled","isNewSubsetOnEveryAttempt","getQuestionPoolSize","isAnswersFromPreviousAttemptEnabled","isEmpty","getProgress","isObject","_mapObjectAnswersToArray","decompressProgress","progressIndex","responseMapper","checkItem","isChecked","saveProgress","restoredProgress","hasNonAscii","removeProgress","_clearProgress","_clearProgressLogout","progressAnswers","progressAttempts","_getProgressedQuestion","processedAnswer","_unMapProgress","_hasFullProgressStructure","idMapper","unMapResponse","_rewriteAnswerToShortenStructure","oldStructureResponse","entity","updateQuestionProgress","userExists","getSocialNetworkAuthLink","answersToSave","courseAttempts","questionPoolToSave","originalAnswers","urlMapper","submitOnceAttempt","appInitialize","appNavigated","courseLaunched","courseQuestionPoolSelected","courseRandomizedOptionsSaved","courseProgressed","courseAttemptStarted","updateCourseProgress","updateCourseAttemptProgress","removeQuestionProgress","resetTimerProgress","userAuthorized","updateChecklistProgress","questionPoolIds","ProgressStorage","getAnswers","restoreAnswers","checkScormNonAsciiSupport","SkipToContentElement","left","SkipToContent","preventDefault","onKeyPress","isVoiceOver","isCourseOnOnePage","Reviewable","renderSpot","ReviewSpot","isGeneral","context","hintName","isReviewEnabled","Button","link","onFocus","loaderIconSize","other","Element","ellipsis","Helper","isMatchingOption","isMatching","PopoverContent","typography","DropdownInputPopover","classes","baseSelected","matchingSelected","matchingSelectedCurrent","selectedAnswer","isPopoverOpen","highlightedIndex","setHighlightedIndex","getItemProps","addClasses","pulseAnimationColors","start","middle","end","PlusIcon","DropdownButton","pulse","DropdownInputButton","answeredPlaceholder","matchingAnswer","getToggleButtonProps","getLabelProps","getRootProps","isOpen","buttonAnimation","buttonClasses","base","matchingOption","animation","suppressRefError","DropdownInput","onOptionSelect","onStateChange","prevProps","selectedItem","onSelect","itemToString","getMenuProps","Separator","margin","marginBottom","getUserAnswers","randomizeAnswersEnabled","randomizedOptions","i","getLocalJsonResource","languageCode","loadTranslation","defaultTranslations","deepMerge","customTranslations","documentElement","setAttribute","code","processSettings","themeSettings","deepExtend","preset","presets","defaultThemeSettings","processThemeSettings","templateSettings","defaultTemplateSettings","processTemplateSettings","appOfflineOrServerError","appOnline","loadMaterial","resourcesActions","connectionAlert","modulesActions","ltiCallbackUrl","materialData","createdOn","configurationReader","readManifest","readCustomization","readPublishSettings","readThemeSettings","readSettings","customization","templateThemeSettings","isPreview","isReview","isScorm","isScorm2004","RESOURCE","resolutionChanged","tocActions","launchMaterial","ArrowIcon","DroppableItemStyle","isMultipleList","isDragging","isPlaceholderVisible","DroppableListStyle","DroppableItemWrapper","isAreaEmpty","widthInvisible","ImageWrapper","isImageNotFound","DragDrop","customRefs","imageRefs","move","source","destination","droppableSource","droppableDestination","listsOfItems","from","removed","droppableId","reorder","list","startIndex","endIndex","getItemStyle","draggableStyle","getList","listId","setDisableDroppableArea","results","reorderElementsPosition","reorderedItems","moveItem","allowSubmit","moveElementsBetweenLists","onDragEnd","droppableWidth","onDragUpdate","setNumericListHeights","onDragStart","resultArr","draggableId","offsetWidth","setDraggableWidth","itemId","droppableWidthInvisible","resetListOfItems","getPositionDependingImageScale","getDropspotsPosition","dropspotsPosition","numericListHeights","draggableList","refsArray","previousProps","previousState","listsOfItemsArr","cloneDeep","nonSelected","shift","getDroppableElement","listItem","setRef","direction","listProvided","data-area-empty-text","innerRef","provided","snapshot","draggableProps","dragHandleProps","dangerouslySetInnerHTML","__html","ProgressContainer","Progress","LinkElement","Link","SECTIONS_PATH","restProps","input","TextInput","onChangeHandler","maxLength","DocumentContainer","Document","pdfjs","GlobalWorkerOptions","workerSrc","PdfDocument","pdfDocument","setPdfDocument","rootDomElement","useEffect","getDocument","promise","loadedPdfDocument","parentElement","renderPdf","pages","num","numPages","getPage","page","renderPage","canvasContainer","pageNumber","viewport","getViewport","scale","canvas","canvasWrapper","createElement","classList","add","innerHeight","ctx","getContext","renderContext","canvasContext","appendChild","popupPdf","toggle","ReactDOM","createPortal","HintWrapper","HintContainer","HintElementsContainer","HintButton","Hint","hintShowOnce","showReviewHints","closePopover","hintElements","sticky","isCrossDeviceSavingEnabled","isTrackingEnabled","isMeaningfulString","isIntroduced","isAuthorized","getAvatarLetter","btoa","renameProperty","obj","currPropName","newPropName","modifiedObj","guid","uuidv4","guidWithHyphens","array","s","overwriteMerge","destinationArray","sourceArray","obj1","obj2","deepmerge","arrayMerge","property","hasInternalObjectsOrArrays","destinationObj","sourceObj","getItemPositionValues","deleteNumber","object","counter","sourceKey","shouldReplaceItem","arrayToObject","accum","k","v","createdBy","hasIntroductionContent","isCompleted","NOT_STARTED","responseAnswer","r","userSelected","isTrue","sort","compare","prev","next","getStringHash","charCodeAt","trim","getUserResponse","getEmbedCode","embedCode","getProjectId","projectId","questionContent","newAnswer","group","matchCase","markers","correctMarkers","markIsInSpot","mark","inside","j","xi","yi","xj","yj","isMarkerInsideInSpot","shuffleAnswerOptions","answerOptions","shuffledArray","shuffle","iterationCount","TextLabel","ButtonVote","rating","ratingLabelKey","ButtonsListItem","ButtonsListWrapper","EvaluateCourse","npsScore","Trophy","renderButtonsVote","fillOpacity","strokeOpacity","promoters","textAnchor","number","FeedbackContainer","EditableTextareaContainer","FeedbackStep","onSubmit","ThankForFeedback","fromDownloadCertificateButton","backTo","closeCourse","NpsPopup","steps","updateNpsScore","goToNextStep","updateTextFeedback","textFeedback","submitNpsFeedback","evaluate","backToResult","openClosePopup","closeCourseInScormMode","finalized","currentStep","currentNameBlock","POPUP_ID_CLOSE_COURSE","CloseCoursePopup","closePopupByTap","fadeInDown","string","sortById","getBackground","answerText","article","DescriptionText","secondaryFontText","DescriptionIcon","DescriptionWithBackground","iconName","descriptionText","descriptionTextAppearance","descriptionChildren","ShowAllQuestionAndContentItemsTypes","SubmitAnswerTypes","PreviousAttemptAnswerTypes","AnswerOptionsOrderTypes","QuestionPoolRandomizationTypes","getImageResizeUrl","scaleBySmallerSide","isSettingsLoadingFailed","getFonts","isLimited","attemptsLimit","getColors","getLogo","getAlternativeLogo","isMainLogoShown","isShowContentPagesEnabled","ALL_QUESTIONS_AT_ONCE","authoringToolUrl","accessLimitation","isAllowToSkipTrackingAndTracingEnabled","isLoginViaSocialMediaEnabled","DEFAULT_AUTH_URL","DEFAULT_LEARN_URL","allowedUsers","getSelectedLanguage","isAllowedDownloadCertificate","isOverallMasteryScore","isOverall","getMasteryScoreValue","isAllQuestionsOnOnePage","ONE_PAGE","isShowLearningHintsEnabled","nonSurveyQuestions","isQuestionRandomizeEnabled","subset","SAME_ON_EVERY_ATTEMPT","DIFFERENT_ON_EVERY_ATTEMPT","RANDOMIZE","SHOW","getTimerLimit","getMillisecondsFromTime","PROGRESS_STORAGE_TIMER_UPDATE_INTERVAL","APP_STORE_TIMER_UPDATE_INTERVAL","transitionProperty","transitionDuration","transitionFunction","transitionDelay","toTimeString","bounce","crossFade","animateFrom","animateDuration","animateIteration","fontFamilyWithFallback","fallback","styledColors","fontStyles","isInverted","InvertedColor","styledFonts","textDecoration","textBackgroundColor","mediaFontSize","percentage","limitSize","bold","mainFontH1","mainFontH2","mainFontH3","mainFontH4","mainFontText","mainFontSmallText","secondaryFontH1","normal","secondaryFontSmallText","highlighted","links","getSection","getQuestionIds","getQuestionCount","getCourseQuestionCount","getQuestionIndex","questionIds","getCourseQuestionIndex","questionSelectors","getAffectProgressSectionsCount","getSectionsPassedCount","isSectionsPassed","isSectionsFailed","getAnsweredSectionsCount","getAnsweredOnceQuestionsInSecton","isSectionFailed","getAffectProgressQuestionsCountInSection","getAnsweredSectionQuestionsCount","getSectionProgress","affectProgressQuestionsCountInSection","answeredQuestionsCountInSection","getCorrectlyAffectProgressQuestionsCountInSection","getAffectCorrectlyAnsweredQuestionsCount","ceil","getSectionScore","sectionExists","getCorrectlyAnsweredQuestionsCount","getNonInfoContentQuestions","getSectionQuestions","getAnsweredAffectProgressQuestionsCountInSection","getSectionIndex","isLearningObjective","explanationBlock","answerList","explanationBlockId","explanationBlocks","block","transferPropBetweenObj","currentList","nameOfTargetProp","targetList","instructions","hints","correctFeedback","incorrectFeedback","hasContent","learningContents","questionInstructions","questionCorrectFeedbacks","questionIncorrectFeedbacks","explanation","hasCorrectFeedback","hasIncorrectFeedback","afterword","introduction","filterCourseData","courseSchema","temp","ctr","random","truncate","shortenOptionIds","mapOrder","order","b","mapRandomizedOptionsOrder","randomizedOptionsArray","questionWithRandomizedOptions","buildRandomizedOptions","buildQuestionWithRandomizedOptions","buildQuestionPool","tempQuestion","sortedQuestions","questionPoolId","loadPoolQuestions","questionPoolObjects","getShortenedIds","idLength","maxIdLength","shortenedIds","Set","clearPreviewQuestionId","markCourseAsPassed","affectProgressSections","sectionActions","updateScorePerCourse","affectProgressQuestions","correctlyAnsweredQuestionsCount","updateScorePerSection","totalScore","sum","makeSubmitAtOnce","updateSubmitAtOnceAttemptNumber","courseAttemptedSubmitAtOnce","setTimeSpent","getClickedId","clickedId","split","setTimerProgress","timerProgress","localStorageTimerProgress","elapsedTime","elapsedTimeDelta","parseInt","courseTimerActions","max","emitCourseProgressed","courseStatus","eventToCall","xapiStatus","updateScore","updateProgress","COURSE_DATA_LOADING_STARTED","courseMapper","processPoolQuestions","inProgressQuestionPool","getQuestionPool","randomQuestionsSubset","sampleSize","loadAnswers","showPrevAnswer","sectionIds","processRandomizeAnswers","storedRandomizedAnswersList","getRandomizeAnswers","setCourseAttempt","setCourseAttemptOnTimeOut","isProgressRestored","onCourseLaunched","onCourseStarted","loadPreviouslyAnsweredQuestions","restoreStatus","isCourseEmpty","isQuestionPoolAllowed","previewSectionId","questionUrl","courseEmpty","shouldInitializeXapi","cleanup","isLogout","isXapiInitialized","startNewAttempt","currentAttemptCount","certificateDownloaded","RETRY_DELAY_MILLISECONDS","lastRequestSuccess","defaultRetryOptions","retryDelay","fetchRetry","fetch","originalFetch","getRequestOptions","Requester","mode","queryString","_buildQueryString","_buildHeaders","referrerPolicy","_headers","CACHE_EXPIRATION_DATE_IN_SECONDS","Pragma","Expires","matches","toUpperCase","getShortString","str","countOfSymbols","eos","strLength","substr","getSizeString","sizeStr","toFixed","isMeaningful","isUUID","getTextContent","textElement","innerHTML","textContent","char","decodeJson","ResourceLoader","expires","relativeUrl","responseText","POPUP_ID_NPS_POPUP","POPUP_ID_CONTINUE_LATER","POPUP_ID_START_NEW_ATTEMPT","POPUP_ID_CONTINUE_LATER_IN_SCORM","POPUP_ID_CLOSE_RESOURCE","POPUP_ID_START_OVER","POPUP_ID_TIMED_OUT","LayoutBaseStyles","createGlobalStyle","shouldEnableHyphenation","fullSizeAbsoluteBlock","LayoutContainer","BackgroundContainer","PageSidebarChild","PageContentChild","PageContainer","PageSidebarContainer","aside","PageContentContainer","BasicStylesSidebar","PageSidebar","BasicStyledSidebar","LayoutWrapper","Layout","PageContentWrapper","PageContent","PageSection","LogoSidebar","LogoSidebarWrapper","ErrorContainer","ErrorIcon","ErrorTitle","h1","ErrorDescription","h3","SomethingWentWrongPage","settingsLoadingFailed","alternativeLogoUrl","popupExpanded","isUserAuthenticated","trackingEnabled","isResourceType","withScrollOnRedirect","scrollTo","ReconnectedIcon","ReconnectionWrapper","CircleWrapper","HeaderElement","ContentWrapper","NoteWrapper","Note","x1","x2","y1","y2","stopColor","ConnectionOverlay","popupAction","popupActions","Course","Resource","Shell","windowResizeHandler","throttle","hasError","showAlert","errorInfo","hasUnhandledError","withRouter","userAccessIsLimited","commonCSS","animationsCSS","BaseStyles","resetCss","commonCss","animationsCss","Fragment","HashRouter","querySelector","questionsLoaded","scoreContentPages","answerBeforeSubmit","submitAllAtOnce","informationContentExperienced","markAsOpened","resetProgress","initialScore","cleanupKeepAnswers","loadFeedback","contentActions","CourseTypes","animateFeedback","isAnimating","updateRetries","questionRetries","Color","g","hex","hex2rgba","white","rgba2rgb","hexColor","alpha","shorthandRegex","m","rgbBackground","rgbaColor","getBorderColor","circleRotate","strokeRotate","strokeFix","strokeLeftGrow","strokeRightGrow","getGeneralLineStyle","lineStyle","getLineStyleStrokeRight","getLineStyleStrokeLeft","generalAnimationCircle","generalAnimation","generalAnimationStroke","generalAnimationRight","generalAnimationLeft","LoaderCircle","LoaderStroke","LoaderStrokeLeft","LoaderStrokeRight","settingsSelector","correctQuestions","checkSectionFailed","checkSectionFailedTimedOut","updateSection","sectionAnswered","updateSectionAnsweredProgress","courseSelectors","onSectionIsPassed","sectionsLoaded","hours","minutes","seconds","getTimeFromMilliseconds","milliSeconds","format","totalSeconds","totalMinutes","totalHours","round","calculateTimeLeft","timeLimit","currentTimeElapsed","previousTimeElapsed","calculateTimeElapsed","trunc","getElapsedTimeInPercentage","timeLeft","currentUrl","poolUrlReset","normalizeFocus","Header1","Header2","h2","Header3","Header4","h4","Span","Paragraph","p","ellipsisMixin","components","refElement","ignoreFocus","fontName","HYPHENATED_LANGUAGES","TimerProgressProvider","valueStart","valueEnd","setValue","isTimerStopped","timeElapsed","strokeLinecap","trail","DigitContainer","Digits","Digit","digit","DigitalTimer","PauseIcon","TimerBlock","showDigitalTimer","useInterval","delay","savedCallbackRef","useRef","intervalId","setInterval","clearInterval","useTimeout","timerStatus","isPageVisible","submitAllQuestionsEnabled","courseStructure","unansweredQuestions","courseScore","hasAllQuestionsFailed","timerProgressKey","timerActions","treeOfContentActions","courseQuestionActions","usePageVisibility","setShowDigitalTimer","setStartedAt","setUpdatedAt","setTimeLeft","previousTimerStatus","timeRemaining","performance","TIMED_OUT","EmailWrapper","DescriptionElement","DescriptionWrapper","TitleElement","ContinueLaterWrapper","ContinueLater","onSendSecretLink","emailSent","emailSentError","onCloseCourse","hideMessage","renderDescription","descriptionElements","renderSecretLink","tooltipType","tooltipMessageKey","ContinueLaterInScorm","courseAction","IconContainer","ItemText","ActionListContainer","AvatarLetterElement","AvatarLetterContainer","TimerContainer","ExpandableWrapper","ariaHidden","MenuContainer","closeCoursePopupSettings","npsPopupSettings","UserMenu","onLogout","onContinueLater","onContinueLaterInScorm","onSubmitResult","npsEnabled","keyDown","lastElementChild","clickAction","itemTextKey","iconSettings","additionalProps","avatarLetter","courseIsFinalized","hasCourseLaunched","isTimerEnabled","display","renderListItem","shouldHideListItem","selectedLanguage","bgHeader","aria-hidden","shouldRenderUserMenu","Popup"],"mappings":"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","file":"static/js/main.28fbf944.chunk.js","sourcesContent":["import { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const openPopup = (settings: { [key: string]: any }): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.OPEN_POPUP, payload: { settings } });\n};\n\nexport const closePopup = (): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.CLOSE_POPUP });\n};\n","export const DEFAULT_ALTERNATIVE_LOGO_URL = '//cdn.easygenerator.com/white-logo-v2.png';\n\nexport const DEFAULT_BACKGROUND = {\n  header: {\n    image: {\n      url: '//cdn.easygenerator.com/images/14.jpg',\n      option: 'fullscreen'\n    },\n    coverOverlay: {\n      enabled: false,\n      color: '#EC7111',\n      opacity: 0.8\n    }\n  },\n  body: {\n    enabled: true,\n    color: '#FFFFFF'\n  }\n};\n\nexport const DEFAULT_COLORS = {\n  textColor: '#363E4E'\n};\n\nexport const DEFAULT_FONTS = {\n  mainFont: {\n    fontFamily: 'Arial'\n  }\n};\n\nexport const DEFAULT_SOMETHING_WENT_WRONG_TITLE_TEXT = 'Something went wrong';\nexport const DEFAULT_LOGO_TEXT = 'Logo';\nexport const DEFAULT_PLEASE_TRY_TY_REFRESH_THE_PAGE_TEXT = 'Please try to refresh the page';\n","export interface UserState {\n  account: any | null; //TODO: change type any\n  email: string;\n  name: string;\n  shortTermAccess: boolean;\n  authorizationSkipped: boolean;\n  userId?: string;\n}\n\nexport enum ActionTypes {\n  USER_AUTHENTICATED = 'USER_AUTHENTICATED',\n  USER_UNAUTHENTICATED = 'USER_UNAUTHENTICATED',\n  USER_AUTHENTICATION_SKIPPED = 'USER_AUTHENTICATION_SKIPPED',\n  USER_AUTHENTICATION_NOT_SKIPPED = 'USER_AUTHENTICATION_NOT_SKIPPED'\n}\ntype UserAuthenticated = {\n  type: ActionTypes.USER_AUTHENTICATED;\n  payload: any;\n};\n\ntype UserUnauthenticated = {\n  type: ActionTypes.USER_UNAUTHENTICATED;\n};\n\ntype UserUserAuthenticationSkipped = {\n  type: ActionTypes.USER_AUTHENTICATION_SKIPPED;\n};\n\ntype UserUserAuthenticationNotSkipped = {\n  type: ActionTypes.USER_AUTHENTICATION_NOT_SKIPPED;\n};\n\nexport type UserActionTypes =\n  | UserAuthenticated\n  | UserUnauthenticated\n  | UserUserAuthenticationSkipped\n  | UserUserAuthenticationNotSkipped;\n","import { TimerStatus } from 'constants/timer';\n\nexport enum ActionTypes {\n  START_TIMER = 'START_TIMER',\n  SET_TIMER_ELAPSED = 'SET_TIMER_ELAPSED',\n  SET_TIMER_STATUS = 'SET_TIMER_STATUS',\n  RESET_TIMER = 'RESET_TIMER'\n}\n\nexport type TimerState = {\n  status: TimerStatus;\n  elapsed: number;\n};\n\ntype StartTimer = {\n  type: ActionTypes.START_TIMER;\n};\n\ntype setTimerElapsed = {\n  type: ActionTypes.SET_TIMER_ELAPSED;\n  payload: {\n    elapsed: number;\n  };\n};\n\ntype setTimerStatus = {\n  type: ActionTypes.SET_TIMER_STATUS;\n  payload: {\n    status: TimerStatus;\n  };\n};\n\ntype ResetTimer = {\n  type: ActionTypes.RESET_TIMER;\n};\n\nexport type TimerActionTypes = StartTimer | setTimerElapsed | setTimerStatus | ResetTimer;\n","export type ContentState = {\n    id: string;\n    children: ContentState[];\n    value: string;\n    url: string;\n}\n\nexport type ContentsState = {\n    [key: string]: ContentState\n}\n\nexport enum ActionTypes {\n    CONTENTS_LOADED = 'CONTENTS_LOADED',\n    CONTENT_LOADED = \"CONTENT_LOADED\",\n    CONTENT_LOADING_FAILED = \"CONTENT_LOADING_FAILED\"\n}\n\ntype ContentsLoaded = {\n    type: ActionTypes.CONTENTS_LOADED,\n    payload: {\n        contents: any\n    }\n}\ntype ContentLoadedSuccess = {\n    type: ActionTypes.CONTENT_LOADED;\n    payload: {\n        contentId: string;\n        value: any;\n    }\n}\n\ntype ContentLoadedFailed = {\n    type: ActionTypes.CONTENT_LOADING_FAILED;\n    payload?: {\n        contentId: string;\n    }\n}\n\n\nexport type ContentsActionTypes =  ContentsLoaded | ContentLoadedSuccess | ContentLoadedFailed;\n","import requester from '../http/requester';\nimport progressStorage from '../progressStorage';\n\ntype RequestOptions = {\n  credentials: string;\n  data: { [key: string]: any };\n  headers: { [key: string]: any };\n  retryOptions: { [key: string]: any };\n  method: string;\n}\n\nclass Lti {\n  callbackUrl: any;\n  initialize(callbackUrl: any) {\n    this.callbackUrl = callbackUrl;\n  }\n\n  submitResultToLti = async (score = 0) => {\n    const requestOptions: RequestOptions = {\n      credentials: 'include',\n      data: {\n        score: score / 100\n      },\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      },\n      method: 'POST',\n      retryOptions: {}\n    };\n\n    const token = progressStorage.getToken();\n    if (token) {\n      requestOptions.headers = {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json; charset=utf-8'\n      };\n    }\n\n    return requester.post(this.callbackUrl, requestOptions);\n  };\n}\n\nexport default new Lti();\n","import { COURSE_FINISHED } from 'core/events/events';\nimport BaseEventHandler from 'core/events/eventHandler';\nimport lti from './lti';\n\nexport default class EventHandler extends BaseEventHandler {\n  handlers: any[];\n\n  constructor() {\n    super();\n    this.handlers = [{ event: COURSE_FINISHED, instance: this.submitResultToLti.bind(this) }];\n  }\n\n  initialize(callbackUrl: any) {\n    lti.initialize(callbackUrl);\n  }\n\n  submitResultToLti({ score }: { [key: string]: any }) {\n    lti.submitResultToLti(score);\n  }\n}\n","import EventHandler from './eventHandler';\n\nclass Lti {\n  eventHandler: EventHandler;\n  constructor() {\n    this.eventHandler = new EventHandler();\n  }\n\n  subscribe(callbackUrl: any) {\n    this.eventHandler.on();\n    this.eventHandler.initialize(callbackUrl);\n  }\n\n  unsubscribe() {\n    this.eventHandler.off();\n  }\n}\n\nexport default new Lti();\n","import * as userActions from 'store/user/actions';\nimport { getCourse, getCourseId } from 'store/course/selectors';\nimport { getValueFromUrl } from 'utils/window';\nimport { getUser, getName, getEmail, getAccount } from 'store/user/selectors';\nimport {\n  isNpsEnabled,\n  getXapiSettings,\n  getPublishSettings,\n  isResultsTrackingEnabled,\n  getAuthoringToolUrl,\n  isScorm2004Mode,\n  isScoringOfContentPagesAllowed\n} from 'store/settings/selectors';\nimport progressStorage from 'core/progressStorage';\nimport eventEmitter, { events } from 'core/events/eventEmitter';\nimport { loadReviewFont } from 'components/mixins/reviewTypography';\nimport { isPreviewMode, isReviewMode } from '../settings/selectors';\nimport lti from '../../core/lti';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const initializeXapi = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const state = getState();\n  const { default: xApi } = await import('core/xApi');\n  xApi.initialize({\n    settings: {\n      xApi: getXapiSettings(state),\n      isScoringOfContentPagesAllowed: isScoringOfContentPagesAllowed(state)\n    },\n    defaultLrsUrl: getPublishSettings(state).defaultLRSUrl,\n    defaultNpsUrl: getPublishSettings(state).defaultNpsUrl,\n    course: getCourse(state),\n    actor: {\n      username: getName(state),\n      email: getEmail(state),\n      account: getAccount(state)\n    }\n  });\n  dispatch({ type: ActionTypes.MODULE_XAPI_INITIALIZED });\n};\n\nexport const subscribeXapi = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const { default: xApi } = await import('core/xApi');\n  if (isResultsTrackingEnabled(getState())) {\n    xApi.subscribeLrs();\n    dispatch({ type: ActionTypes.MODULE_XAPI_LRS_ON });\n  }\n  if (isNpsEnabled(getState())) {\n    xApi.subscribeNps();\n    dispatch({ type: ActionTypes.MODULE_XAPI_NPS_ON });\n  }\n};\n\nexport const unsubscribeXapi = (): ThunkResult<Promise<void>> => async (dispatch) => {\n  const { default: xApi } = await import('core/xApi');\n  xApi.unsubscribeAll();\n\n  dispatch({ type: ActionTypes.MODULE_XAPI_LRS_OFF });\n  dispatch({ type: ActionTypes.MODULE_XAPI_NPS_OFF });\n};\n\n// TODO: need refactor\nexport const initializeScorm = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const { default: scorm } = await import('core/scorm');\n  await scorm.initialize(isScorm2004Mode(getState()));\n  dispatch({ type: ActionTypes.MODULE_SCORM_INITIALIZED });\n  dispatch(\n    userActions.authenticate({\n      name: scorm.userInfoProvider.getUsername(),\n      email: scorm.userInfoProvider.getAccountId(),\n      account: {\n        homePage: scorm.userInfoProvider.getAccountHomePage(),\n        name: scorm.userInfoProvider.getAccountId()\n      }\n    })\n  );\n  await eventEmitter.emit(events.APP_INITIALIZED, { state: getState(), isScormMode: true });\n  await eventEmitter.emit(events.USER_AUTHENTICATED, getUser(getState()));\n  progressStorage.use(scorm.progressProvider);\n};\n\nexport const subscribeProgressStorage = (): ThunkResult => (dispatch, getState) => {\n  if (isPreviewMode(getState()) || isReviewMode(getState())) {\n    return;\n  }\n\n  progressStorage.subscribe();\n  dispatch({ type: ActionTypes.MODULE_PROGRESS_STORAGE_ON });\n};\n\nexport const unsubscribeProgressStorage = (): ThunkResult => dispatch => {\n  progressStorage.unsubscribe();\n  dispatch({ type: ActionTypes.MODULE_PROGRESS_STORAGE_OFF });\n};\n\nexport const enableReview = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const editorWindow = window.parent;\n  const locationProtocol = window.location.protocol;\n  const targetOriginUrl = `${locationProtocol}//${getAuthoringToolUrl(getState())}`;\n  editorWindow.postMessage({ supportsNativeReview: true }, targetOriginUrl);\n  await loadReviewFont();\n  const reviewApiUrl = getValueFromUrl('reviewApiUrl');\n  const authoringToolDomain = getValueFromUrl('authoringToolDomain');\n  const courseId = getCourseId(getState());\n  const { default: review } = await import('core/review');\n  review.subscribe();\n\n  dispatch({ type: ActionTypes.ENABLE_REVIEW_MODE, payload: { reviewApiUrl } as any });\n  eventEmitter.emit(events.REVIEW_INITIALIZED, { reviewApiUrl, courseId, authoringToolDomain });\n};\n\nexport const subscribeLti = (callbackUrl: any): ThunkResult => dispatch => {\n  lti.subscribe(callbackUrl);\n  dispatch({ type: ActionTypes.MODULE_LTI_INITIALIZED, payload: { isLTI: true } });\n};\n","import eventEmitter, { events } from 'core/events/eventEmitter';\nimport { TimerStatus } from 'constants/timer';\nimport { RootAppState } from 'store/types';\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\nimport { getTimerElapsed, getTimerStatus } from './selectors';\n\nconst emitTimerProgress = async (state: RootAppState) => {\n  await eventEmitter.emit(events.COURSE_TIMER_PROGRESSED, {\n    ...state,\n    timer: {\n      status: getTimerStatus(state),\n      elapsed: getTimerElapsed(state)\n    }\n  });\n};\n\nexport const startTimer = (): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.START_TIMER\n  });\n};\n\nexport const setTimerStatus = (status: TimerStatus): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.SET_TIMER_STATUS,\n    payload: {\n      status\n    }\n  });\n};\n\nexport const setTimerElapsed = (elapsed: number): ThunkResult => async dispatch => {\n  dispatch({\n    type: ActionTypes.SET_TIMER_ELAPSED,\n    payload: {\n      elapsed\n    }\n  });\n};\n\nexport const resetTimer = (): ThunkResult => async dispatch => {\n  dispatch({\n    type: ActionTypes.RESET_TIMER\n  });\n  await eventEmitter.emit(events.RESET_TIMER_PROGRESS);\n};\n\nexport const updateTimerProgress = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  await emitTimerProgress(getState());\n};\n","import styled from 'styled-components';\n\n/* eslint-disable import/prefer-default-export */\n\ntype FigureProps = {\n  arialabel: string;\n  role: string\n}\nexport const Figure = styled.svg.attrs((props: FigureProps) => ({\n  role: props.role,\n  'aria-label': props.arialabel\n})) <FigureProps>`\n  max-width: 100%;\n`;\n","import { RootAppState } from '../types';\n\nexport const isAppLoaded = (state: RootAppState) => state.app.isLoaded;\nexport const isAppLoadingFailed = (state: RootAppState) => state.app.isLoadingFailed;\nexport const isAppLoading = (state: RootAppState) => state.app.isLoading;\nexport const isLowResolution = (state: RootAppState) => state.app.isLowResolution;\nexport const isOffline = (state: RootAppState) => state.app.isOffline;\n","import styled from 'styled-components';\nimport { Text } from 'components/common';\nimport media from 'components/mixins/media';\n\nexport const TextElement = styled(Text)`\n  &&& {\n    font-weight: 300;\n    color: ${props => props.theme.colors.textColor};\n    font-size: 20px;\n    ${media.mobile`\n    padding: 0 40px;\n    text-align: center;\n  `};\n  }\n`;\n\nexport const ButtonsWrapper = styled.div`\n  display: inline-block;\n  margin-top: 40px;\n\n  & > button {\n    width: 100%;\n    display: block;\n    margin: 0 0 20px;\n  }\n`;\n\nexport const Wrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  z-index: 1;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { localize } from 'core/localization';\nimport { RootAppState } from 'store/types';\nimport { Button } from 'components/common';\nimport { isScormMode, getLearnServiceUrl, isPreviewMode } from 'store/settings/selectors';\nimport * as navigationActions from 'store/navigation/actions';\nimport { isLtiInitialized } from 'store/modules/selectors';\nimport { isAnonymous } from 'store/user/selectors';\nimport { TextElement, Wrapper, ButtonsWrapper } from './CloseCourse.styled';\n\ntype CloseCourseProps = {\n  scormMode: boolean;\n  isLti: boolean;\n  previewMode: boolean;\n  learnServiceUrl?: string;\n  navigationActions: { [key: string]: any };\n  isAnonymous: boolean;\n};\n\nexport class CloseCourse extends React.PureComponent<CloseCourseProps, {}> {\n  renderCourseCloseText = () => {\n    const { isLti, isAnonymous } = this.props;\n    if (isAnonymous) {\n      return localize('[close anonymous user course text]');\n    }\n    return isLti ? localize('[close lti course text]') : localize('[close course text]');\n  };\n\n  render() {\n    const {\n      scormMode,\n      navigationActions,\n      learnServiceUrl,\n      previewMode,\n      isLti,\n      isAnonymous\n    } = this.props;\n    return (\n      <Wrapper>\n        <TextElement appearance=\"span\">{this.renderCourseCloseText()}</TextElement>\n        {!scormMode && !previewMode && !isLti && !isAnonymous && (\n          <ButtonsWrapper>\n            <Button\n              onClick={() => navigationActions.goToUrl(learnServiceUrl)}\n              data-test=\"my-courses-button\"\n            >\n              {localize('[my courses]')}\n            </Button>\n          </ButtonsWrapper>\n        )}\n      </Wrapper>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    learnServiceUrl: getLearnServiceUrl(state),\n    scormMode: isScormMode(state),\n    isLti: isLtiInitialized(state),\n    previewMode: isPreviewMode(state),\n    isAnonymous: isAnonymous(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    navigationActions: bindActionCreators(navigationActions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CloseCourse);\n","export { default } from './CloseCourse';\n","import contentLoader from 'core/http/contentLoader';\nimport chunk from 'lodash.chunk';\nimport { ActionTypes, ContentState } from './types';\nimport { ThunkResult } from '../types';\nconst CONTENT_LOAD_BATCH_SIZE = 100;\n\nexport const contentsLoaded = (contents: any): ThunkResult => async dispatch => {\n  dispatch({ type: ActionTypes.CONTENTS_LOADED, payload: contents });\n  await loadAll(contents, dispatch);\n};\n\nconst loadContent = async (content: ContentState, dispatch: any) => {\n  if (content.value) {\n    return;\n  }\n  try {\n    const value = await contentLoader.loadStaticHtmlContent(content.url);\n    dispatch({ type: ActionTypes.CONTENT_LOADED, payload: { contentId: content.id, value } });\n  } catch (e) {\n    dispatch({ type: ActionTypes.CONTENT_LOADING_FAILED, payload: { contentId: content.id } });\n  }\n};\n\nexport const loadContents = (contents: any): ThunkResult => async dispatch => {\n  const promises: any[] = [];\n  contents.forEach((content: ContentState) => {\n    promises.push(loadContent(content, dispatch));\n  });\n\n  return Promise.all(promises);\n};\n\nconst getContent = async (content: any, dispatch: any) => {\n  const { value = '', id, url } = content;\n  if (value) {\n    return value;\n  }\n\n  let contentValue = '';\n  try {\n    contentValue = await contentLoader.loadStaticHtmlContent(url);\n  } catch (e) {\n    dispatch({ type: ActionTypes.CONTENT_LOADING_FAILED, payload: { contentId: id } });\n  }\n  return { id, value: contentValue };\n};\n\nasync function loadAll(contents: any, dispatch: any) {\n  if (!contents) {\n    return;\n  }\n  const contentChunks = chunk(Object.values(contents), CONTENT_LOAD_BATCH_SIZE);\n  for (const contentChunk of contentChunks) {\n    const promiseCollection = [];\n    for (const content of contentChunk) {\n      promiseCollection.push(getContent(content, dispatch));\n    }\n    await Promise.all(promiseCollection).then(contentValues => {\n      contentValues.forEach(contentValue => {\n        if (contentValue.value) {\n          contents[contentValue.id].value = contentValue.value;\n        }\n      });\n    });\n  }\n  dispatch({ type: ActionTypes.CONTENTS_LOADED, payload: { contents } });\n}\n","import { normalizeColorName, toCamelCase } from 'utils/string';\n\nexport default {\n  map(options: any) {\n    const { settings, publishSettings, manifest, translations, publishMode } = options;\n    return {\n      template: mapTemplateSettings(settings),\n      publish: publishSettings,\n      manifest,\n      translations,\n      publishMode\n    };\n  }\n};\n\nfunction mapTemplateSettings(settings: any) {\n  return {\n    fonts: mapFonts(settings.fonts),\n    branding: {\n      mainLogo: settings.branding.logo.url,\n      alternativeLogo: settings.branding.alternativeLogo.url,\n      allowToShowMainLogo: settings.branding.logo.allowToShowLogo,\n      colors: mapColors(settings.branding.colors)\n    },\n    background: settings.branding.background,\n    languages: settings.languages,\n    saveProgressCrossDevice: settings.saveProgressCrossDevice,\n    loginViaSocialMedia: settings.loginViaSocialMedia,\n    conductLearnerSatisfactionSurvey: settings.conductLearnerSatisfactionSurvey,\n    allowUsersToDownloadCertificates: settings.allowUsersToDownloadCertificates,\n    showContentPages: settings.showContentPages,\n    showLearningHints: settings.showLearningHints,\n    resultsTracking: settings.resultsTracking,\n    numberOfAttempts: settings.numberOfAttempts,\n    allowUserToSkipTrackingAndTracing: settings.allowUserToSkipTrackingAndTracing,\n    allowScoringOfContentPages: settings.allowScoringOfContentPages,\n    answersFromPreviousAttempt: settings.answersFromPreviousAttempt,\n    masteryScore: settings.masteryScore,\n    showAllQuestionAndContentItems: settings.showAllQuestionAndContentItems,\n    submitAnswers: settings.submitAnswers,\n    xApi: settings.xApi,\n    questionPool: settings.questionPool,\n    randomizeQuestionOrder: settings.randomizeQuestionOrder,\n    timer: settings.timer,\n    answerOptionsOrder: settings.answerOptionsOrder\n  };\n}\n\nfunction mapFonts(fonts: any) {\n  return fonts.reduce((acc: any, item: any) => {\n    acc[toCamelCase(item.key)] = item;\n    return acc;\n  }, {});\n}\n\nfunction mapColors(colors: any) {\n  return colors.reduce((acc: any, item: any) => {\n    acc[normalizeColorName(item.key)] = item.value;\n    return acc;\n  }, {});\n}\n","import { questionResponseReducers } from 'store/rootReducer';\nimport { QuestionsState } from './types';\n\nexport default function responseReducer(state: QuestionsState, action?: any) {\n  if (!action || !action.payload || !action.payload.hasOwnProperty('questionId')) {\n    return state;\n  }\n\n  const question = state[action.payload.questionId];\n  if (!question) {\n    return state;\n  }\n  question.response = reduceQuestionResponse(question.response, action);\n\n  return state;\n}\n\nfunction reduceQuestionResponse(response: any, action: any) {\n  questionResponseReducers.forEach(reducer => {\n    response = reducer(response, action);\n  });\n\n  return response;\n}\n","import { combineReducers } from 'redux';\nimport { routerReducer } from 'react-router-redux';\n\nimport app from './app/reducer';\nimport settings from './settings/reducer';\nimport navigation from './navigation/reducer';\nimport course from './course/reducer';\nimport sections from './sections/reducer';\nimport contents from './contents/reducer';\nimport modules from './modules/reducer';\nimport treeOfContent from './treeOfContent/reducer';\nimport popup from './popup/reducer';\nimport loader from './loader/reducer';\nimport questions from './questions/reducer';\nimport multipleChoice from './questions/multipleChoice/responseReducer';\nimport StatementChoice from './questions/statementChoice/responseReducer';\nimport openQuestion from './questions/openQuestion/responseReducer';\nimport rankingText from './questions/rankingText/responseReducer';\nimport scenario from './questions/scenario/responseReducer';\nimport fillInTheBlank from './questions/fillInTheBlank/responseReducer';\nimport dragAndDropText from './questions/dragAndDropText/responseReducer';\nimport hotspot from './questions/hotspot/responseReducer';\nimport user from './user/reducer';\nimport textMatching from './questions/textMatching/responseReducer';\nimport resource from './resource/reducer';\nimport checklist from './resource/checklist/reducer';\nimport timer from './timer/reducer';\n\nconst rootReducer = combineReducers({\n  app,\n  course,\n  modules,\n  settings,\n  router: routerReducer,\n  questions,\n  sections,\n  contents,\n  navigation,\n  treeOfContent,\n  popup,\n  loader,\n  user,\n  resource,\n  checklist,\n  timer\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport default rootReducer;\n\nexport const questionResponseReducers = [\n  multipleChoice,\n  StatementChoice,\n  dragAndDropText,\n  openQuestion,\n  rankingText,\n  scenario,\n  fillInTheBlank,\n  textMatching,\n  hotspot\n];\n","import initialState from 'store/initialState';\nimport { ActionTypes, AppActionTypes } from './types';\n\nexport default function appReducer(state = initialState.app, action: AppActionTypes) {\n  switch (action.type) {\n    case ActionTypes.APP_LOADED:\n      return Object.assign({}, state, {\n        isLoading: false,\n        isLoaded: true\n      });\n    case ActionTypes.APP_LOADING_FAILED:\n      return Object.assign({}, state, {\n        isLoading: false,\n        isLoadingFailed: true\n      });\n    case ActionTypes.APP_RESOLUTION_CHANGED:\n      return Object.assign({}, state, {\n        ...action.payload\n      });\n    case ActionTypes.APP_OFFLINE_OR_SERVER_ERROR:\n      return Object.assign({}, state, {\n        isOffline: true\n      });\n    case ActionTypes.APP_ONLINE:\n      return Object.assign({}, state, {\n        isOffline: false\n      });\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ProgressStatus } from 'constants/progressStatus';\nimport { ActionTypes, CourseActionTypes } from './types';\n\nexport default function courseReducer(state = initialState.course, action: CourseActionTypes) {\n  switch (action.type) {\n    case ActionTypes.COURSE_DATA_LOADED:\n      return { ...state, ...action.payload };\n    case ActionTypes.COURSE_DATA_LOADING_FAILED:\n      return { ...state, ...{ isLoadingFailed: true } };\n    case ActionTypes.COURSE_PROGRESS_RESTORED:\n      return { ...state, ...{ attemptId: action.payload.attemptId, hasBeenContinued: true } };\n    case ActionTypes.COURSE_LAUNCHED:\n      return { ...state, ...{ attemptId: action.payload.attemptId, isLaunched: true } };\n    case ActionTypes.COURSE_SUBMIT_AT_ONCE:\n      return {\n        ...state,\n        ...{ isAttemptSubmitted: true, reAttemptedSubmitAtOnce: false }\n      };\n    case ActionTypes.COURSE_SUBMIT_AT_ONCE_LIMITED:\n      return {\n        ...state,\n        ...{\n          courseAttempt: action.payload.courseAttempt\n        }\n      };\n    case ActionTypes.COURSE_REATTEMPTED_SUBMIT_AT_ONCE:\n      return {\n        ...state,\n        ...{ isAttemptSubmitted: false, reAttemptedSubmitAtOnce: true }\n      };\n    case ActionTypes.COURSE_SCORE_UPDATED:\n      return {\n        ...state,\n        ...{\n          score: action.payload.score,\n          status: action.payload.status\n        }\n      };\n    case ActionTypes.COURSE_CLEANUP:\n      return {\n        ...state,\n        ...{\n          score: 0,\n          status: ProgressStatus.IN_PROGRESS,\n          attemptId: null,\n          hasBeenContinued: false,\n          isLaunched: false,\n          isProgressRestoreFailed: false,\n          isProgressRestoreFetched: false,\n          isAttemptSubmitted: false,\n          reAttemptedSubmitAtOnce: false,\n          courseAttempt: 0,\n          isCourseFinished: false\n        }\n      };\n    case ActionTypes.CLEAR_PREVIEW_QUESTION_ID:\n      delete state.previewQuestionId;\n      return state;\n    case ActionTypes.CERTIFICATE_DOWNLOADED:\n      return { ...state, ...action.payload };\n    case ActionTypes.COURSE_IS_PASSED:\n      return { ...state, ...action.payload };\n    case ActionTypes.COURSE_PROGRESS_RESTORE_FAILED:\n      return { ...state, ...{ isProgressRestoreFailed: true } };\n    case ActionTypes.COURSE_PROGRESS_RESTORE_FETCHED:\n      return { ...state, ...{ isProgressRestoreFetched: true } };\n    case ActionTypes.TIME_SPENT_UPDATED:\n      return { ...state, ...action.payload };\n    case ActionTypes.COURSE_IS_FAILED:\n      return { ...state, ...action.payload };\n    case ActionTypes.COURSE_RANDOMIZED_OPTIONS_LOADED:\n      return { ...state, ...{ isRandomizedOptionsLoaded: true } };\n    case ActionTypes.COURSE_FINISHED:\n      return { ...state, ...{ isCourseFinished: true } };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, ModulesActionTypes} from './types';\n\nexport default function modulesReducer(state = initialState.modules, action: ModulesActionTypes) {\n  switch (action.type) {\n    case ActionTypes.MODULE_XAPI_INITIALIZED:\n      return {\n        ...state,\n        xapi: { ...state.xapi, isInitialized: true }\n      };\n    case ActionTypes.MODULE_XAPI_LRS_ON:\n      return {\n        ...state,\n        xapi: { ...state.xapi, isLrsTrackingOn: true }\n      };\n    case ActionTypes.MODULE_XAPI_LRS_OFF:\n      return {\n        ...state,\n        xapi: { ...state.xapi, isLrsTrackingOn: false }\n      };\n    case ActionTypes.MODULE_XAPI_NPS_ON:\n      return {\n        ...state,\n        xapi: { ...state.xapi, isNpsTrackingOn: true }\n      };\n    case ActionTypes.MODULE_XAPI_NPS_OFF:\n      return {\n        ...state,\n        xapi: { ...state.xapi, isNpsTrackingOn: false }\n      };\n    case ActionTypes.MODULE_SCORM_INITIALIZED:\n      return {\n        ...state,\n        scorm: { ...state.scorm, isInitialized: true }\n      };\n    case ActionTypes.MODULE_PROGRESS_STORAGE_ON:\n      return {\n        ...state,\n        progressStorage: { ...state.progressStorage, isProgressStorageOn: true }\n      };\n    case ActionTypes.MODULE_PROGRESS_STORAGE_OFF:\n      return {\n        ...state,\n        progressStorage: { ...state.progressStorage, isProgressStorageOn: false }\n      };\n    case ActionTypes.ENABLE_REVIEW_MODE:\n      return {\n        ...state,\n        review: {\n          ...{\n            ...state.review,\n            isReviewModeEnabled: true,\n            reviewApiUrl: action.payload.reviewApiUrl\n          }\n        }\n      };\n    case ActionTypes.MODULE_LTI_INITIALIZED:\n      return {\n        ...state,\n        lti: { isInitialized: true }\n      };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport settingsMapper from 'core/mappers/settings';\nimport { ActionTypes, SettingsActionTypes } from './types';\n\nexport default function settingsReducer(\n  state = initialState.settings,\n  action: SettingsActionTypes\n) {\n  switch (action.type) {\n    case ActionTypes.SETTINGS_LOADED: {\n      return { ...state, ...settingsMapper.map(action.settings) };\n    }\n    case ActionTypes.SETTINGS_LOADING_FAILED:\n      return {\n        ...state,\n        ...{\n          isLoadingFailed: true\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import initialState, { getInitialQuestionResponse } from 'store/initialState';\n\nimport responseReducers from './responseReducers';\nimport { QuestionActionTypes, ActionTypes, QuestionsState } from './types';\n\nexport default function questionReducer(\n  state: QuestionsState = initialState.questions,\n  action: QuestionActionTypes\n) {\n  switch (action.type) {\n    case ActionTypes.QUESTIONS_LOADED:\n      return Object.assign({}, action.payload);\n    case ActionTypes.QUESTION_PROGRESS_RESTORE:\n    case ActionTypes.QUESTION_ANSWERED:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          isAnswered: true,\n          score: action.payload.score,\n          isAnsweredCorrectly: action.payload.score === 100,\n          attemptNumber: action.payload.attempt\n        }\n      };\n    case ActionTypes.QUESTION_PROGRESS_RESTORE_BEFORE_SUBMIT:\n    case ActionTypes.QUESTION_ANSWERED_BEFORE_SUBMIT:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          isAnswered: true,\n          score: 0,\n          isAnsweredCorrectly: false,\n          attemptNumber: action.payload.attempt\n        }\n      };\n    case ActionTypes.QUESTION_UPDATE_SCORE:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          isAnswered: true,\n          score: action.payload.score,\n          isAnsweredCorrectly: action.payload.score === 100\n        }\n      };\n    case ActionTypes.QUESTION_OPENED:\n      return {\n        ...state,\n        [action.payload.questionId]: {\n          ...state[action.payload.questionId],\n          hasBeenOpened: action.payload.hasBeenOpened\n        }\n      };\n    case ActionTypes.QUESTION_PROGRESS_RESET:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          isAnswered: false,\n          isAnsweredCorrectly: false,\n          score: 0,\n          isPoolQuestion: action.payload.isPoolQuestion,\n          response: getInitialQuestionResponse(action.payload.type)\n        }\n      };\n    case ActionTypes.QUESTION_PROGRESS_RESET_ATTEMPT:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          attemptNumber: 0\n        }\n      };\n    case ActionTypes.QUESTION_PROGRESS_RESET_KEEP_ANSWER:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          hasBeenOpened: false,\n          isAnswered: false,\n          isAnsweredCorrectly: false,\n          score: 0\n        }\n      };\n    case ActionTypes.QUESTION_RESTORE_RESPONSE:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          response: action.payload.response,\n          hasBeenOpened: true,\n          attemptNumber: action.payload.attempt\n        }\n      };\n    case ActionTypes.QUESTION_RESTORE_SHOW_PREV_ANSWER:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          response: action.payload.response\n        }\n      };\n    case ActionTypes.FEEDBACK_ANIMATING:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          isFeedbackAnimating: action.payload.isFeedbackAnimating\n        }\n      };\n    case ActionTypes.QUESTION_UPDATE_RETRY:\n      return {\n        ...state,\n        [action.payload.questionId]: {\n          ...state[action.payload.questionId],\n          retries: action.payload.retries\n        }\n      };\n    default:\n      return responseReducers(state, action);\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, SectionsActionTypes } from './types';\n\nexport default function sectionsReducer(\n  state = initialState.sections,\n  action: SectionsActionTypes\n) {\n  switch (action.type) {\n    case ActionTypes.SECTIONS_LOADED:\n      return { ...state, ...action.payload };\n    case ActionTypes.SECTION_SCORE_UPDATED:\n      state[action.payload.id] = {\n        ...state[action.payload.id],\n        score: action.payload.score,\n        status: action.payload.status\n      };\n      return { ...state };\n    case ActionTypes.SECTION_IS_PASSED:\n      state[action.payload.id] = {\n        ...state[action.payload.id],\n        status: action.payload.status\n      };\n      return { ...state };\n    case ActionTypes.SECTION_ANSWERED:\n      state[action.payload.id] = {\n        ...state[action.payload.id],\n        isSectionAnswered: action.payload.isSectionAnswered\n      };\n      return { ...state };\n    case ActionTypes.SECTION_ANSWERED_SCORE:\n      state[action.payload.id] = {\n        ...state[action.payload.id],\n        sectionProgress: action.payload.sectionProgress\n      };\n      return { ...state };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, ContentsActionTypes } from './types';\n\nexport default function contentReducer(state = initialState.contents, action: ContentsActionTypes) {\n  switch (action.type) {\n    case ActionTypes.CONTENTS_LOADED:\n      return { ...state, ...action.payload };\n    case ActionTypes.CONTENT_LOADED:\n      return {\n        ...state,\n        [action.payload.contentId]: {\n          ...state[action.payload.contentId],\n          value: action.payload.value\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { getQuestionUrl, getLearningObjectiveUrl } from 'utils/navigation';\nimport { RESULTS_PATH } from 'constants/navigation';\nimport { ActionTypes as SectionsActions, SectionsActionTypes } from 'store/sections/types';\nimport { ActionTypes, NavigationActionTypes } from './types';\n\nexport default function navigationReducer(\n  state = initialState.navigation,\n  action: NavigationActionTypes | SectionsActionTypes\n) {\n  switch (action.type) {\n    case SectionsActions.SECTIONS_LOADED: {\n      const urls = [];\n      for (const sectionId in action.payload) {\n        if (action.payload[sectionId].learningObjective) {\n          urls.push(getLearningObjectiveUrl(sectionId));\n        }\n        action.payload[sectionId].questions.forEach((questionId: string) => {\n          urls.push(getQuestionUrl(sectionId, questionId));\n        });\n      }\n\n      urls.push(RESULTS_PATH);\n      return { ...state, ...{ chain: urls } };\n    }\n    case ActionTypes.NAVIGATED_INSIDE_THE_APP: {\n      return { ...state, ...{ prevUrl: action.payload.prevUrl } };\n    }\n    case ActionTypes.POOL_URL_LOADED: {\n      const urls = [];\n      for (const poolQuestions in action.payload) {\n        if (action.payload[poolQuestions].isPoolQuestion === true) {\n          urls.push(\n            getQuestionUrl(\n              action.payload[poolQuestions].sectionId,\n              action.payload[poolQuestions].id\n            )\n          );\n        }\n      }\n\n      urls.push(RESULTS_PATH);\n      return { ...state, ...{ chain: urls } };\n    }\n    case ActionTypes.ELEMENT_ID_IN_VIEWPORT_UPDATED: {\n      return { ...state, ...{ elementIdInViewport: action.payload.elementIdInViewport } };\n    }\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, TOCActionTypes } from './types';\n\nexport default function treeOfContentReducer(\n  state = initialState.treeOfContent,\n  action: TOCActionTypes\n) {\n  switch (action.type) {\n    case ActionTypes.TOC_TOGGLE_VISIBILITY:\n      return { ...state, ...{ isExpanded: !state.isExpanded } };\n    case ActionTypes.COURSE_ENABLE_SUBMIT_BUTTON:\n      return {\n        ...state,\n        ...{\n          isSubmitButtonVisible: action.payload.isSubmitButtonVisible\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, PopupActionTypes } from './types';\n\nexport default function popupReducer(state = initialState.popup, action: PopupActionTypes) {\n  switch (action.type) {\n    case ActionTypes.OPEN_POPUP:\n      return {\n        ...state,\n        ...{ isExpanded: !state.isExpanded, settings: action.payload.settings }\n      };\n    case ActionTypes.CLOSE_POPUP:\n      delete state.settings;\n      return { ...state, ...{ isExpanded: !state.isExpanded } };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, LoaderActionTypes } from './types';\n\nexport default function loaderReducer(state = initialState.loader, action: LoaderActionTypes) {\n  switch (action.type) {\n    case ActionTypes.OPEN_LOADER:\n      return { ...state, ...{ isLoaded: true } };\n    case ActionTypes.CLOSE_LOADER:\n      return { ...state, ...{ isLoaded: false } };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, UserActionTypes } from './types';\n\nexport default function loginReducer(state = initialState.user, action: UserActionTypes) {\n  switch (action.type) {\n    case ActionTypes.USER_AUTHENTICATED:\n      return { ...state, ...action.payload };\n    case ActionTypes.USER_UNAUTHENTICATED:\n      return { ...state, ...initialState.user };\n    case ActionTypes.USER_AUTHENTICATION_SKIPPED:\n      return { ...state, ...initialState.user, ...{ authorizationSkipped: true } };\n    case ActionTypes.USER_AUTHENTICATION_NOT_SKIPPED:\n      return { ...state, ...initialState.user, ...{ authorizationSkipped: false } };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ResourceActionTypes, ActionTypes } from './types';\n\nexport default function resourcesReducer(\n  state = initialState.resource,\n  action: ResourceActionTypes\n) {\n  switch (action.type) {\n    case ActionTypes.RESOURCE_DATA_LOADED:\n      return { ...state, ...action.payload };\n    case ActionTypes.RESOURCE_DATA_LOADING_FAILED:\n      return { ...state, ...{ isLoadingFailed: true } };\n    default:\n      return state;\n  }\n}\n","\nimport initialState from 'store/initialState';\nimport { ActionTypes, ChecklistActionTypes } from './types';\n\nexport default function checklistReducer(\n    state= initialState.checklist,\n    action: ChecklistActionTypes\n) {\n    switch (action.type) {\n        case ActionTypes.TOGGLE_CHECK:\n        case ActionTypes.INIT_CHECKLIST:\n            return { ...state, ...action.payload };\n        default:\n            return state;\n    }\n}\n","import initialState from 'store/initialState';\nimport { TimerStatus } from 'constants/timer';\nimport { ActionTypes, TimerActionTypes } from './types';\n\nexport default function timerReducer(state = initialState.timer, action: TimerActionTypes) {\n  switch (action.type) {\n    case ActionTypes.START_TIMER: {\n      return {\n        ...state,\n        status: TimerStatus.STARTED\n      };\n    }\n    case ActionTypes.SET_TIMER_STATUS: {\n      const { status } = action.payload;\n      return {\n        ...state,\n        status\n      };\n    }\n    case ActionTypes.SET_TIMER_ELAPSED: {\n      const { elapsed } = action.payload;\n      return {\n        ...state,\n        elapsed\n      };\n    }\n    case ActionTypes.RESET_TIMER:\n      return {\n        ...state,\n        status: TimerStatus.RESET,\n        elapsed: 0,\n        startedAt: 0,\n        updatedAt: 0\n      };\n    default:\n      return state;\n  }\n}\n","import { toggleArrayElement } from 'utils/object';\nimport { ActionTypes, MultipleChoiceActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: MultipleChoiceActionTypes) {\n  const questionState: any = state;\n\n  switch (action.type) {\n    case ActionTypes.QUESTION_MULTIPLECHOICE_TOGGLE_ANSWER_IS_SELECTED:\n      return toggleArrayElement(questionState, action.payload.answerId);\n    case ActionTypes.QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED:\n    case ActionTypes.SET_SINGLE_ANSWER_SELECTED:\n      questionState.splice(0, questionState.length, action.payload.answerId);\n      return state;\n    default:\n      return state;\n  }\n}\n","import { toggleArrayStatementElement } from 'utils/object';\nimport { ActionTypes, StatementChoiceActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: StatementChoiceActionTypes) {\n  switch (action.type) {\n    case ActionTypes.QUESTION_STATEMENT_ANSWER_IS_SELECTED:\n      return toggleArrayStatementElement(state as any, {\n        id: action.payload.answerId,\n        isCorrect: action.payload.isCorrect\n      });\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, DragAndDropActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\n\nexport default function reducer(state: QuestionsState, action: DragAndDropActionTypes) {\n  switch (action.type) {\n    case ActionTypes.QUESTION_DRAG_AND_DROP_ANSWERS_ARE_SELECTED:\n      return action.payload.answers;\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, OpenQuestionActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: OpenQuestionActionTypes) {\n  switch (action.type) {\n    case ActionTypes.OPEN_QUESTION_ANSWER_IS_SELECTED:\n      return {\n        id: action.payload.questionId,\n        answeredText: action.payload.answeredText\n      };\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, RankingTextActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: RankingTextActionTypes) {\n  switch (action.type) {\n    case ActionTypes.QUESTION_RANKING_ANSWERS_ARE_SELECTED:\n      return action.payload.answers;\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, ScenarioActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: ScenarioActionTypes) {\n  switch (action.type) {\n    case ActionTypes.QUESTION_SCENARIO_BRANCHTRACK_DATA:\n      return {\n        score: action.payload.score,\n        isFinished: action.payload.isFinished\n      };\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, FillInTheBlankActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: FillInTheBlankActionTypes) {\n  switch (action.type) {\n    case ActionTypes.FILL_IN_THE_BLANK_ANSWER:\n      return {\n        data: action.payload.data\n      };\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, TextMatchingActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: TextMatchingActionTypes) {\n  switch (action.type) {\n    case ActionTypes.QUESTION_MATCHING_ANSWERS_ARE_SELECTED:\n      return action.payload.answers;\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, HotspotActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: HotspotActionTypes) {\n  switch (action.type) {\n    case ActionTypes.HOTSPOT_QUESTION_ANSWER:\n      return action.payload.data;\n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport { routerMiddleware } from 'react-router-redux';\nimport thunk from 'redux-thunk';\nimport { createHashHistory } from 'history';\nimport rootReducer from './rootReducer';\nimport initialState, { initialize } from './initialState';\n\nexport const history = createHashHistory();\n\nconst enhancers = [];\nconst middleware = [thunk, routerMiddleware(history)];\n\nif (process.env.NODE_ENV === 'development') {\n  const devToolsExtension = window.devToolsExtension; // eslint-disable-line prefer-destructuring\n\n  if (typeof devToolsExtension === 'function') {\n    enhancers.push(devToolsExtension());\n  }\n}\n\nconst composedEnhancers = compose(applyMiddleware(...middleware), ...enhancers);\n\ninitialize();\nconst store = createStore(rootReducer, initialState, composedEnhancers);\n\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","export enum ActionTypes {\n  NAVIGATED_INSIDE_THE_APP = 'NAVIGATED_INSIDE_THE_APP',\n  POOL_URL_LOADED = 'POOL_URL_LOADED',\n  ELEMENT_ID_IN_VIEWPORT_UPDATED = 'ELEMENT_ID_IN_VIEWPORT_UPDATED'\n}\n\ntype NavigatedInsideApp = {\n  type: ActionTypes.NAVIGATED_INSIDE_THE_APP;\n  payload: {\n    prevUrl: string;\n    currentUrl: string;\n  };\n};\n\ntype PoolUrlLoaded = {\n  type: ActionTypes.POOL_URL_LOADED;\n  payload: {\n    [poolQuestions: string]: any;\n  };\n};\n\ntype elementIdInViewPortUpdated = {\n  type: ActionTypes.ELEMENT_ID_IN_VIEWPORT_UPDATED;\n  payload: {\n    elementIdInViewport: string;\n  };\n};\n\nexport type NavigationActionTypes = NavigatedInsideApp | elementIdInViewPortUpdated | PoolUrlLoaded;\n","import { createSelector } from 'reselect';\nimport { RootAppState } from '../types';\n/* eslint-disable import/prefer-default-export */\nexport const getContents = createSelector(\n  state => state,\n  (state: RootAppState, ids: string[]) => ids,\n  (state, ids) => {\n    let contents: any[] = [];\n    if (ids) ids.forEach(id => contents.push(state.contents[id]));\n    return contents;\n  }\n);\n/* eslint-enable */\n","import Emmitery from 'emittery';\nimport * as eventConstants from './events';\n\nconst eventEmitter = new Emmitery();\nexport default eventEmitter;\n\nexport const events = eventConstants;\n","import styled from 'styled-components';\nimport { transition } from 'components/mixins/interactivity';\n\ntype IconElementProps = {\n  size: number;\n  opacity: any;\n};\n/* eslint-disable import/prefer-default-export */\nexport const IconElement = styled.span<IconElementProps>`\n  position: relative;\n  font-size: ${props => `${props.size}px`};\n  color: ${props => getColor(props)};\n  opacity: ${props => props.opacity};\n  ${transition('color')};\n`;\n\ntype TextElementProps = {\n  fontSize: number;\n  theme?: { [key: string]: any };\n};\nexport const TextElement = styled.span<TextElementProps>`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-weight: 600;\n  font-size: ${props => `${props.fontSize}px`};\n  color: ${props => getColor(props)};\n  ${transition('color')};\n`;\n\nfunction getColor(props: any) {\n  if (props.getColor) {\n    return props.getColor(props.theme.colors);\n  }\n\n  return props.theme.colors[props.color];\n}\n","import styled, { keyframes, css } from 'styled-components';\nimport Text from 'components/common/Text';\nimport Icon from 'components/common/Icon';\nimport { transition } from 'components/mixins/interactivity';\nimport { transparentize } from 'utils/color';\nimport { SIZES, SWITCH_BUTTON_LAYOUT } from 'constants/components';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nexport const CheckIcon = styled(Icon)``;\n\nexport const CheckImageIcon = styled(Icon)`\n  opacity: 0;\n  transition: 0.3s;\n  position: absolute;\n  top: 0;\n  left: 0;\n`;\n\ntype TextElement = {\n  selected: boolean;\n}\nexport const TextElement = styled(Text) <TextElement>`\n  color: ${props => props.theme.colors.textColor};\n  ${transition('padding-right')};\n`;\n\nexport const AnswerImage = styled.img.attrs((props: any) => ({\n  alt: props.alt\n}))`\n  position: absolute;\n  top: -6000px;\n  bottom: -6000px;\n  right: -6000px;\n  left: -6000px;\n  margin: auto;\n`;\n\ntype ButtonElementProps = {\n  selected: boolean;\n  multiple: boolean;\n  size: any;\n  layout: string;\n  imageUrl?: string;\n}\n\nexport const ButtonElement = styled.div.attrs((props: ButtonElementProps) => ({\n  'data-test': 'button-element',\n  'data-state': (props.selected ? 'selected' : 'not-selected')\n})) <ButtonElementProps>`\n  flex-shrink: 0;\n  align-self: self-start;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ${props =>\n    props.layout === SWITCH_BUTTON_LAYOUT.QUESTION &&\n    css`\n    width: 30px;\n    height: 30px;\n    background-color: ${props.selected\n        ? props.theme.colors.mainColor\n        : transparentize(props.theme.colors.textColor, 0.06)};\n    border-radius: ${props.multiple ? '2px' : '50%'};\n    margin-right: 20px;\n    `\n  }\n\n  ${props =>\n    props.layout === SWITCH_BUTTON_LAYOUT.CHECKLIST\n      ? css`\n      width: 32px;\n      height: 32px;\n      background-color: ${props.selected\n          ? props.theme.colors.mainColor\n          : 'transparent'};\n      border-radius: 8px;\n      border: ${!props.selected\n          ? `3px solid ${props.theme.colors.mainColor}`\n          : `none`};\n    `\n      : css`\n      position: absolute;\n      top: 50%;\n      left: 10px;\n      margin-top: -15px;\n    `\n  }\n  \n  ${props =>\n    props.size === SIZES.SMALL &&\n    css`\n      width: 15px;\n      height: 15px;\n      margin-right: 8px;\n\n      & ${CheckIcon} {\n        font-size: 5px;\n      }\n    `};\n\n  ${props =>\n    props.multiple\n      ? css`\n          & ${CheckIcon} {\n            opacity: ${props.selected ? '1' : '0'};\n            color: ${props.selected\n          ? props.theme.colors.buttonTextColor\n          : transparentize(props.theme.colors.textColor, 0.2)};\n\n          ${props.layout === SWITCH_BUTTON_LAYOUT.CHECKLIST &&\n        `\n              color:${props.selected\n          ? props.theme.colors.buttonTextColor\n          : transparentize(props.theme.colors.mainColor, 0.3)};\n                }\n              &:hover {\n                cursor: pointer;\n                box-shadow: 0 0 8px 0 ${transparentize(props.theme.colors.mainColor, 0.3)}\n              }\n            `\n        }\n          }\n        `\n      : css`\n          & ${CheckIcon} {\n            display: none;\n          }\n\n          &:before {\n            content: '';\n            display: inline-block;\n            width: 10px;\n            height: 10px;\n            background-color: #fff ${props.selected ? '!important' : ''};\n            border-radius: 50%;\n            opacity: ${props.selected ? '1' : '0'};\n          }\n        `};\n        \n  ${props =>\n    props.imageUrl\n      ? css`\n          position: absolute;\n          width: 60px;\n          height: 60px;\n          top: 50%;\n          left: 50%;\n          margin-top: -30px;\n          margin-left: -30px;\n          margin-right: 0;\n          box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n          transition: 0.3s;\n\n          ${props.selected\n          ? css`\n                background-color: ${props.theme.colors.mainColor};\n                opacity: 1 !important;\n              `\n          : css`\n                opacity: 0;\n                background-color: transparent !important;\n              `};\n\n          & ${CheckIcon} {\n            display: block;\n            transition: 0.3s;\n            ${props.selected ? 'opacity: 1 !important' : 'opacity: 0 !important'};\n            font-size: 14px;\n          }\n          & ${CheckImageIcon} {\n            ${!props.selected ? 'opacity: 1' : ''};\n          }\n\n          &:before {\n            display: none;\n          }\n        `\n      : css``};\n  }\n`;\n\nconst checkMarkAnimate = keyframes`\n  0% {\n        transform: scale(1);\n  }\n  50% {\n        transform: scale(0.85);\n  }\n  100% {\n        transform: rotate(1);\n  }\n`;\n\ntype ButtonWrapperProps = {\n  tabIndex: number;\n  roleValue: string;\n  imageUrl?: string;\n  ariaLabel?: string;\n  ariaDisabled: boolean;\n  selected: boolean;\n  ariaChecked: boolean;\n  layout: string;\n}\nexport const ButtonWrapper = styled.div.attrs((props: ButtonWrapperProps) => ({\n  tabIndex: props.tabIndex,\n  role: props.roleValue,\n  'aria-label': (props.imageUrl ? props.ariaLabel : undefined),\n  'data-state': (props.selected ? 'selected' : 'not-selected'),\n  'aria-disabled': props.ariaDisabled,\n  'data-test': 'switch-button'\n})) <ButtonWrapperProps>`\n  height: 100%;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n  display: flex;\n\n  ${props =>\n    props.layout === SWITCH_BUTTON_LAYOUT.QUESTION &&\n    css`\n      padding: 10px;\n      padding-left: 60px;\n    `\n  }\n\n  &:hover {\n    & ${CheckIcon} {\n      opacity: 1;\n    }\n    ${ButtonElement}:before {\n      opacity: 1;\n      background-color: ${props => transparentize(props.theme.colors.textColor, 0.2)};\n    }\n  }\n\n  ${props =>\n    props.selected && props.imageUrl\n      ? css`\n          ${ButtonElement} {\n            animation: ${checkMarkAnimate} 0.4s linear 1 both;\n          }\n        `\n      : css``};\n  &:focus {\n    .show-on-hover {\n      opacity: 0.75;\n    }\n`;\n","export enum ActionTypes {\n  RESOURCE_DATA_LOADING_STARTED = 'RESOURCE_DATA_LOADING_STARTED',\n  RESOURCE_DATA_LOADED = 'RESOURCE_DATA_LOADED',\n  RESOURCE_DATA_LOADING_FAILED = 'RESOURCE_DATA_LOADING_FAILED',\n}\n\nexport type ResourceState = {\n  id: string;\n  resourceType: string; // enum\n  title: string;\n  createdBy: string;\n  createdOn: Date;\n  contentId: string;\n  resourceContents: [];\n};\n\ninterface ResourceDataLoadingStarted {\n  type: ActionTypes.RESOURCE_DATA_LOADING_STARTED;\n}\n\ninterface ResourceDataLoaded {\n  type: ActionTypes.RESOURCE_DATA_LOADED;\n  payload: ResourceState;\n}\n\ninterface ResourceDataLoadedFailed {\n  type: ActionTypes.RESOURCE_DATA_LOADING_FAILED;\n  reason: any;\n}\n\nexport type ResourceActionTypes =\n  | ResourceDataLoadingStarted\n  | ResourceDataLoaded\n  | ResourceDataLoadedFailed;\n","import styled, { css } from 'styled-components';\nimport Text from 'components/common/Text';\nimport { BUTTON, SIZES } from 'constants/components';\nimport Icon from 'components/common/Icon';\nimport { transition } from 'components/mixins/interactivity';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { MEDIA_LARGE } from 'constants/screenResolutions';\nimport { transparentize } from 'utils/color';\nimport { Layout, Size } from './Button';\n\ntype TextElementProps = {\n  layout: keyof Layout;\n};\nexport const TextElement = styled(Text)<TextElementProps>`\n  color: ${props => props.theme.colors.buttonTextColor};\n  font-size: 14px;\n  font-weight: 600;\n  ${transition('padding-right')};\n`;\n\nexport const IconElement = styled(Icon)`\n  visibility: hidden;\n  position: absolute;\n  opacity: 0;\n  top: 50%;\n  transform: translate(0, -250%);\n  right: 30px;\n  transition: transform 0.1s ease-out, opacity 0.2s ease-out;\n  transition-delay: 0.1s;\n`;\ntype ButtonElementProps = {\n  tabIndex: number;\n  'data-test': string;\n  textTransform: string;\n  suffixIcon: string;\n  isLoading: boolean;\n  layout: keyof Layout;\n  size: keyof Size;\n  inverted: boolean;\n  disabled: boolean;\n};\nexport const ButtonElement = styled.button.attrs((props: ButtonElementProps) => ({\n  tabIndex: props.tabIndex,\n  disabled: props.disabled,\n  'data-test': props['data-test']\n}))<ButtonElementProps>`\n  ${buttonDefaultStyle};\n  display: inline-flex;\n  position: relative;\n  overflow: hidden;\n  border-radius: 30px;\n  cursor: pointer;\n  transition: all 0.1s ease-out, focus 0s;\n  align-items: center;\n  text-transform: ${props => (props.textTransform ? props.textTransform : 'none')};\n\n  ${props =>\n    props.disabled &&\n    css`\n      pointer-events: none;\n    `}\n\n  ${props =>\n    props.suffixIcon &&\n    css`\n      @media (min-width: ${MEDIA_LARGE}px) {\n        &:hover ${TextElement}, &:focus ${TextElement} {\n          padding-right: 20px;\n        }\n\n        &:hover ${IconElement}, &:focus ${IconElement} {\n          visibility: visible;\n          opacity: 1;\n          transform: translate(0, -50%);\n        }\n      }\n    `};\n\n  ${props =>\n    props.isLoading &&\n    css`\n      pointer-events: none;\n\n      ${TextElement}, ${IconElement} {\n        visibility: hidden;\n      }\n    `};\n\n  ${props =>\n    props.layout === BUTTON.LAYOUT.PRIMARY &&\n    css`\n      background-color: ${props.theme.colors.ctaButtonColor};\n\n      &:hover,\n      &:focus {\n        background-color: ${() =>\n          transparentize(props.theme.colors.ctaButtonColor, 0.85, { solidColor: true })};\n      }\n\n      &:focus {\n        outline: 1px solid black;\n      }\n\n      &:focus:not(:focus-visible) {\n        outline: none;\n      }\n\n      &:disabled {\n        opacity: 0.5;\n      }\n\n      ${props.isLoading &&\n        css`\n          background-color: ${() => transparentize(props.theme.colors.ctaButtonColor, 0.05)};\n\n          &:hover,\n          &:focus {\n            background-color: ${() => transparentize(props.theme.colors.ctaButtonColor, 0.05)};\n          }\n        `};\n    `};\n\n  ${props =>\n    props.layout === BUTTON.LAYOUT.SECONDARY &&\n    css`\n      border: 2px solid\n        ${props.inverted\n          ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.5)\n          : transparentize(props.theme.colors.textColor, 0.5)};\n      background-color: transparent;\n\n      &:hover,\n      &:focus {\n        background-clip: padding-box;\n        border: 2px solid\n          ${props.inverted\n            ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.1)\n            : transparentize(props.theme.colors.textColor, 0.1)};\n      }\n\n      ${TextElement} {\n        color: ${props.inverted\n          ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.7)\n          : transparentize(props.theme.colors.textColor, 0.7)};\n      }\n\n      &:hover,\n      &:focus {\n        &,\n        &:active {\n          background-color: ${props.inverted\n            ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.1)\n            : transparentize(props.theme.colors.textColor, 0.1)};\n        }\n\n        ${TextElement},\n        ${IconElement} {\n          color: ${props.inverted\n            ? props.theme.colors.coverBgOverlayTextColor\n            : props.theme.colors.textColor};\n        }\n      }\n\n      &:active ${TextElement}, &:active ${IconElement} {\n        color: ${props.inverted\n          ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.6)\n          : transparentize(props.theme.colors.textColor, 0.6)};\n      }\n\n      &:focus {\n        background-color: ${props.inverted\n          ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.1)\n          : transparentize(props.theme.colors.textColor, 0.1)};\n        outline: 1px solid black;\n      }\n\n      &:focus:not(:focus-visible) {\n        background-color: ${props.inverted\n          ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.1)\n          : transparentize(props.theme.colors.textColor, 0.1)};\n        outline: none;\n      }\n\n      &:disabled {\n        opacity: 0.5;\n      }\n    `};\n  ${props =>\n    props.size === SIZES.MEDIUM &&\n    css`\n      height: 50px;\n      padding: 0 40px;\n      line-height: 14px;\n    `};\n\n  ${props =>\n    props.size === SIZES.SMALL &&\n    css`\n      height: 30px;\n      padding: 0 23px;\n      line-height: 10px;\n    `};\n`;\n\nexport const ButtonLinkElement = styled(ButtonElement.withComponent('a'))`\n  text-decoration: none !important;\n\n  ${TextElement} {\n    margin-top: 1px;\n  }\n`;\n","export const REVIEW_USER_EMAIL = 'reviewerUsermail';\nexport const REVIEW_USER_NAME = 'reviewerUsername';\nexport const HINT_FOR_SPOT_COMMENT = 'hintForSpotComment';\nexport const HINT_FOR_GENERAL_COMMENT = 'hintForGeneralComment';\n\nexport const COMMENT_SENDING_FAILED = 'commentSendingFailed';\nexport const STATUS_OK = 'statusOk';\nexport const REFERRER_POLICY = 'no-referrer-when-downgrade';\n\nexport const REVIEW_COMMENT_PROPERTIES: { [key: string]: string } = {\n  DEFAULT_TITLE: 'defaultTitle',\n  TITLE: 'title',\n  INTRODUCTION: 'introduction',\n  LEARNING_CONTENT: 'learningContent',\n  QUESTION: 'question',\n  VOICE_OVER: 'voiceOver',\n  CONTENT_ITEM: 'contentItem',\n  TITLE_OF_THE_SECTION: 'titleOfTheSection',\n  GENERAL: 'general'\n};\n\nexport const REVIEW_COMMENT_TYPES: { [key: string]: string } = {\n  QUESTION: 'question',\n  INFORMATION_CONTENT: 'informationContent',\n  COURSE: 'course',\n  SECTION: 'section'\n};\n","import { css } from 'styled-components';\n\nexport const centerAbsoluteElement = css`\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n`;\n\nexport const centerAbsoluteElementY = css`\n  top: 50%;\n  transform: translate(0, -50%);\n`;\n","import { QUESTION_PATH, SECTION_PATH, LEARNING_OBJECTIVE_PATH } from 'constants/navigation';\nimport pathToRegexp from 'path-to-regexp';\nimport { getCurrentLocationHash, getCurrentUrl } from 'utils/window';\n\nconst SECTION_ID = ':sectionId';\n\nexport const getQuestionUrl = (sectionId: string, questionId: string) =>\n  QUESTION_PATH.replace(SECTION_ID, sectionId).replace(':questionId', questionId);\n\nexport const getLearningObjectiveUrl = (sectionId: string) =>\n  LEARNING_OBJECTIVE_PATH.replace(SECTION_ID, sectionId);\n\nexport const getQuestionAbsoluteUrl = (sectionId: string, questionId: string) =>\n  `${getCurrentUrl()}#${getQuestionUrl(sectionId, questionId)}`;\n\nexport const getSectionUrl = (sectionId: string) => SECTION_PATH.replace(SECTION_ID, sectionId);\n\nexport const getSectionAbsoluteUrl = (sectionId: string) =>\n  `${getCurrentUrl()}#${getSectionUrl(sectionId)}`;\n\nexport const getLocationParams = (path: string) => {\n  const keys: any[] = [];\n  const match = pathToRegexp(path, keys).exec(getCurrentLocationHash().replace('#', ''));\n  return keys.reduce((acc, key, index) => {\n    acc[key.name] = (match ? match[index + 1] : null) || null;\n    return acc;\n  }, {});\n};\n","import progressStorage from 'core/progressStorage';\nimport { getValueFromUrl } from 'utils/window';\nimport { STATUS_OK } from 'constants/progressStorage';\nimport { getUser, shouldSaveCrossDevice } from 'store/user/selectors';\nimport { isPublishMode } from 'store/settings/selectors';\nimport * as courseActions from 'store/course/actions';\nimport eventEmitter, { events } from 'core/events/eventEmitter';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const authenticate = (payload: any): ThunkResult<Promise<void>> => async dispatch => {\n  dispatch({\n    type: ActionTypes.USER_AUTHENTICATED,\n    payload\n  });\n};\n\nexport const load = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  let user = getUserFromUrl();\n\n  if (shouldSaveCrossDevice(getState()) && isPublishMode(getState())) {\n    user = (await progressStorage.identifyUser()) || user;\n  }\n\n  if (user) {\n    dispatch(authenticate(user));\n    eventEmitter.emit(events.USER_AUTHENTICATED, getUser(getState()));\n  }\n};\n\nexport const authorizeUser = (signInData: any): ThunkResult<Promise<string>> => async (\n  dispatch,\n  getState\n) => {\n  let status = STATUS_OK;\n  if (shouldSaveCrossDevice(getState())) {\n    status = await progressStorage.authorizeUser(signInData);\n    if (status === STATUS_OK) {\n      const user = await progressStorage.identifyUser();\n      if (user) {\n        signInData.name = user.name;\n        eventEmitter.emit(events.USER_AUTHENTICATED, getUser(getState()));\n      }\n    }\n  }\n\n  if (status === STATUS_OK) {\n    dispatch(\n      authenticate({\n        email: signInData.email,\n        name: signInData.name,\n        shortTermAccess: signInData.shortTermAccess\n      })\n    );\n  }\n\n  return status;\n};\n\nexport const registerUser = (signUpData: any): ThunkResult<Promise<any>> => async (\n  dispatch,\n  getState\n) => {\n  let status = await progressStorage.registerUser(signUpData);\n  if (status === STATUS_OK) {\n    dispatch(\n      authenticate({\n        email: signUpData.email,\n        name: signUpData.name,\n        shortTermAccess: true\n      })\n    );\n\n    eventEmitter.emit(events.USER_AUTHENTICATED, getUser(getState()));\n  }\n\n  return status;\n};\n\nexport const skipAuthentication = (): ThunkResult<Promise<void>> => async dispatch => {\n  dispatch({ type: ActionTypes.USER_AUTHENTICATION_SKIPPED });\n};\n\nexport const notSkipAuthentication = (): ThunkResult<Promise<void>> => async dispatch => {\n  dispatch({ type: ActionTypes.USER_AUTHENTICATION_NOT_SKIPPED });\n};\n\nexport const logout = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  await eventEmitter.emit(events.USER_LOGOUT, { state: getState() });\n  dispatch({ type: ActionTypes.USER_UNAUTHENTICATED });\n  await dispatch(courseActions.cleanup(true));\n};\n\nexport const sendSecretLink = async () => {\n  progressStorage.sendSecretLink();\n};\n\nfunction getUserFromUrl() {\n  const email = getValueFromUrl('email');\n  const name = getValueFromUrl('name');\n  if (!email || !name) {\n    return null;\n  }\n\n  return {\n    name,\n    email: email.toLowerCase()\n  };\n}\n","import { css } from 'styled-components';\nimport {\n  MEDIA_XSMALL,\n  MEDIA_SMALL,\n  MEDIA_MEDIUM,\n  MEDIA_LARGE,\n  MEDIA_XLARGE,\n  MEDIA_SMALL_FONT_RATIO,\n  MEDIA_TABLET,\n  MEDIA_MOBILE\n} from 'constants/screenResolutions';\n\nconst sizes: { [key: string]: any } = {\n  xsmall: MEDIA_XSMALL,\n  small: MEDIA_SMALL,\n  medium: MEDIA_MEDIUM,\n  large: MEDIA_LARGE,\n  xlarge: MEDIA_XLARGE,\n  tablet: MEDIA_TABLET,\n  smallFontRatio: MEDIA_SMALL_FONT_RATIO,\n  mobile: MEDIA_MOBILE\n};\n\nconst media = Object.keys(sizes).reduce((acc: { [key: string]: any }, label: any) => {\n  acc[label] = (...args: any) => css`\n    @media (max-width: ${sizes[label]}px) {\n      ${css(args[0], ...args)};\n    }\n  `;\n\n  return acc;\n}, {});\n\nexport default media;\n","import { RootAppState } from 'store/types';\n\nexport const getTreeOfContentVisibility = (state: RootAppState) => state.treeOfContent.isExpanded; // eslint-disable-line\n","import { RootAppState } from '../types';\n\nexport const getPopupVisibility = (state: RootAppState) => state.popup.isExpanded;\n\nexport const getPopupSettings = (state: RootAppState) => state.popup.settings;\n","import eventEmitter from 'core/events/eventEmitter';\n\nexport default abstract class BaseEventHandler {\n  abstract handlers: any[];\n\n  on() {\n    this.handlers.forEach((handler: any) => eventEmitter.on(handler.event, handler.instance));\n  }\n\n  off() {\n    this.handlers.forEach((handler: any) => eventEmitter.off(handler.event, handler.instance));\n  }\n}\n","import { RootAppState } from '../types';\n\nexport const isLoaderVisibility = (state: RootAppState) => state.loader.isLoaded;\n","/* eslint-disable prefer-destructuring */\nconst error = console.error;\nconst warn = console.warn;\nconst info = console.info;\nconst log = console.log;\n\nexport default {\n  log,\n  warn,\n  info,\n  error\n};\n","export type SettingsState = {\n    isLoadingFailed: boolean;\n    template: any;\n    publish: any;\n    manifest: any;\n    translations: any;\n    publishMode: any;\n    materialType: string;\n}\nexport enum ActionTypes {\n    SETTINGS_LOADED = 'SETTINGS_LOADED',\n    SETTINGS_LOADING_FAILED = 'SETTINGS_LOADING_FAILED'\n}\n\ntype SettingsLoaded = {\n    type: ActionTypes.SETTINGS_LOADED;\n    settings: {\n        manifest: {[key: string]: any};\n        publishSettings: {[key: string]: any};\n        settings: {[key: string]: any};\n        customization: {[key: string]: any};\n        translations: {[key: string]: any};\n        publishMod: {[key: string]: any};\n    }\n}\n\ntype SettingsLoadedFailed = {\n    type: ActionTypes.SETTINGS_LOADING_FAILED;\n    reason: any\n}\n\nexport type SettingsActionTypes = SettingsLoaded | SettingsLoadedFailed;\n","export type TreeOfContentState = {\n  isExpanded: boolean;\n  isSubmitButtonVisible: boolean;\n};\n\nexport enum ActionTypes {\n  TOC_TOGGLE_VISIBILITY = 'TOC_TOGGLE_VISIBILITY',\n  COURSE_ENABLE_SUBMIT_BUTTON = 'COURSE_ENABLE_SUBMIT_BUTTON'\n}\n\ntype ToggleTOCVisibility = {\n  type: ActionTypes.TOC_TOGGLE_VISIBILITY;\n};\n\ntype EnableSubmitButton = {\n  type: ActionTypes.COURSE_ENABLE_SUBMIT_BUTTON;\n  payload: {\n    isSubmitButtonVisible: boolean;\n  };\n};\n\nexport type TOCActionTypes = ToggleTOCVisibility | EnableSubmitButton;\n","export enum ActionTypes {\n    OPEN_POPUP = 'OPEN_POPUP',\n    CLOSE_POPUP = 'CLOSE_POPUP'\n}\n\ntype OpenPopup = {\n    type: ActionTypes.OPEN_POPUP,\n    payload: {\n        settings: { [key: string]: any }\n    }\n}\n\ntype ClosePopup = {\n    type: ActionTypes.CLOSE_POPUP\n}\n\nexport type PopupActionTypes = OpenPopup | ClosePopup;\n","export enum ActionTypes {\n  OPEN_LOADER = 'OPEN_LOADER',\n  CLOSE_LOADER = 'CLOSE_LOADER'\n}\n\ntype OpenLoader = {\n  type: ActionTypes.OPEN_LOADER\n}\n\ntype CloseLoader = {\n  type: ActionTypes.CLOSE_LOADER\n}\n\nexport type LoaderActionTypes = OpenLoader | CloseLoader;\n","import { RootAppState } from '../types';\n\nexport const getResourceContents = (state: RootAppState) => state.resource.resourceContents;\n\nexport const getResourceTitle = (state: RootAppState) => state.resource.title;\n\nexport const getResourceType = (state: RootAppState) => state.resource.resourceType;\n\nexport const getResourceId = (state: RootAppState) => state.resource.id;\n","export * from './screenResolutions';\n/* eslint-disable no-useless-escape */\nexport const imageResizerQueryPattern = /\\?width=\\d+\\&height=\\d+&scaleBySmallerSide=\\w+/;\nexport const supportedBgSizes = {\n  contain: 'contain',\n  cover: 'cover',\n  initial: 'initial'\n};\nexport const CONTENT_TYPES = {\n  JSON: 'application/json'\n};\n\nexport const DEFAULT_LANGUAGE_CODE = 'en';\nexport const CUSTOM_LANGUAGE_CODE = 'xx';\nexport const NO_SELECTED_ID = 'no-selected-elements';\nexport const IMAGE_DEFAULT_DOMAIN = 'easygenerator.com';\n\nexport const maxCountTocNavigationElements = 8;\nexport const minCountTocNavigationElements = 5;\n\nexport const DEFAULT_QUESTION_POOL_ID_LENGTH = 7;\nexport const defaultBoxShadowColor = '#000';\n\nexport const MASTERY_SCORE = 50;\n\nexport const LTI_CALLBACK_URL_PARAMETER_NAME = 'ltiResultCallbackUrl';\n\nexport const FONT_WEIGHTS = ['300', '600'];\n\nexport const SECONDARY_FONT_KEY = 'secondary-font';\n\nexport const MEDIA_FONT_SIZES = {\n  heading1: {\n    MAXIMUM_VALUE: 36,\n    MULTIPLIER: 0.94\n  },\n  heading2: {\n    MAXIMUM_VALUE: 30,\n    MULTIPLIER: 0.93\n  },\n  heading3: {\n    MAXIMUM_VALUE: 26,\n    MULTIPLIER: 0.91\n  },\n  heading4: {\n    MAXIMUM_VALUE: 24,\n    MULTIPLIER: 0.9\n  },\n  paragraph: {\n    MAXIMUM_VALUE: 22,\n    MULTIPLIER: 1\n  },\n  quote: {\n    MAXIMUM_VALUE: 24,\n    MULTIPLIER: 0.92\n  }\n};\n\nexport const TRANSITION_TIME_DURATION_MS = 300;\n\nexport enum MATERIAL_TYPES {\n  RESOURCE = 'resource',\n  COURSE = 'course'\n}\n\nexport enum RESOURCE_TYPE {\n  CHECKLIST = 'checklist',\n  HOWTO = 'howTo'\n}\n\nexport const CIRCLE_DEGREES = 360;\n\nexport const HTML_INFINITY_SYMBOL = '&#8734;';\nexport const SVG_XML_NAMESPACE = 'http://www.w3.org/2000/svg';\n\nexport const DEBOUNCE_SCROLL_WAIT_TIME_MS = 200;\n\nexport const RECALCULATE_LOCATION_TIME_MS = 1000;\n\nexport const EULA_PDF_LINK = '//cdn.easygenerator.com/eula/Easygenerator_Eula_for_Learners.pdf';\n\nexport const KEYS: { [key: string]: string } = {\n  ENTER: 'Enter',\n  SPACEBAR: ' ',\n  TAB: 'Tab',\n  ESCAPE: 'Escape'\n};\n\nexport const EMAIL_REGEX = new RegExp(\n  [\n    \"(?=^[a-z0-9@.!#$%&'*+\\\\/=?^_‘{|}~-]{6,100}$)\",\n    \"(?=^[a-z0-9.!#$%&'*+\\\\/=?^_‘{|}~-]{1,64}@)\",\n    \"^[a-z0-9!#$%&'*+\\\\/=?^_‘{|}~-]+\",\n    \"(?:\\\\.[a-z0-9!#$%&'*+\\\\/=?^_‘{|}~-]+)\",\n    '*@((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9]\\\\.)+',\n    '[a-zA-Z]{2,63}$'\n  ].join('')\n);\n\nexport const PASSWORD_REGEX = '\\\\S{7,}';\n\nexport const SKIP_TO_CONTENT_IDS = {\n  LEARNING_OBJECTIVE_PAGE: 'sectionTitle',\n  QUESTION_PAGE: 'questionTitleWrapper',\n  RESULT_PAGE: 'resultHeader',\n  ONE_PAGE_COURSE: 'stickyContainer',\n  QUESTION_POOL_START_BUTTON: 'qpStart'\n};\n","export const INFORMATION_CONTENT = 'informationContent';\nexport const SINGLE_CHOICE = 'singleSelectText';\nexport const MULTIPLE_CHOICE = 'multipleSelect';\nexport const STATEMENT_CHOICE = 'statement';\nexport const SINGLE_CHOICE_IMAGE = 'singleSelectImage';\nexport const OPEN_QUESTION = 'openQuestion';\nexport const RANKING_TEXT = 'rankingText';\nexport const SCENARIO = 'scenario';\nexport const FILL_IN_THE_BLANK = 'fillInTheBlank';\nexport const DRAG_AND_DROP_TEXT = 'dragAndDropText';\nexport const TEXT_MATCHING = 'textMatching';\nexport const HOTSPOT = 'hotspot';\n\nexport default [\n  INFORMATION_CONTENT,\n  SINGLE_CHOICE,\n  MULTIPLE_CHOICE,\n  STATEMENT_CHOICE,\n  SINGLE_CHOICE_IMAGE,\n  OPEN_QUESTION,\n  RANKING_TEXT,\n  SCENARIO,\n  FILL_IN_THE_BLANK,\n  DRAG_AND_DROP_TEXT,\n  TEXT_MATCHING,\n  HOTSPOT\n];\n","import xss from '@easygenerator/xss';\nimport resourceLoader from './resourceLoader';\n\nexport default {\n  async loadMaterialData() {\n    let response = await resourceLoader.getLocalResource(`content/data.js`);\n    return response.json();\n  },\n  async loadStaticHtmlContent(url: string) {\n    let response = await resourceLoader.getLocalResource(`content/${url}`);\n    return xss.filter(await response.text());\n  }\n};\n","import { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\n\nexport function getCustomScrollbars(scrollColor?: any) {\n  return css`\n    overflow-y: auto;\n    &::-webkit-scrollbar {\n      width: 8px;\n      background-color: transparent;\n    }\n    &::-webkit-scrollbar-thumb {\n      margin-right: 8px;\n      background-color: ${props =>\n        transparentize(`${scrollColor || props.theme.colors.textColor}`, 0.2)};\n      border-radius: 6px;\n    }\n\n    &:hover {\n      &::-webkit-scrollbar-thumb {\n        background-color: ${props =>\n          transparentize(`${scrollColor || props.theme.colors.textColor}`, 0.4)};\n      }\n    }\n  `;\n}\nexport default getCustomScrollbars;\n","import { css } from 'styled-components';\n\nconst backgroundColor = (color: any) => css`\n  background-color: ${color};\n`;\n\nconst backgroundImage = (\n  imageUrl: string,\n  position = '0px 0px',\n  size = 'auto',\n  repeat = 'repeat',\n  color = 'transparent'\n) => css`\n  background-image: url(${imageUrl});\n  background-position: ${position};\n  background-size: ${size};\n  background-repeat: ${repeat};\n  ${backgroundColor(color)};\n`;\n\nconst headerBackgroundImage = (image: any) => {\n  let position = '0px 0px';\n  let size = 'auto';\n  let repeat = 'no-repeat';\n\n  if (image.option === 'fullscreen') {\n    position = 'top center';\n    size = 'cover';\n    repeat = 'no-repeat';\n  } else if (image.option === 'repeat') {\n    repeat = 'repeat';\n  }\n\n  return backgroundImage(image.url, position, size, repeat);\n};\n\nexport function bodyBackground(body: any) {\n  return body.color ? backgroundColor(body.color) : backgroundImage(body.texture);\n}\n\nexport function headerBackground(header: any) {\n  return header.color ? backgroundColor(header.color) : headerBackgroundImage(header.image);\n}\n\nexport default {\n  bodyBackground,\n  headerBackground\n};\n","export { default } from './Layout';\n\nexport { PageContent } from './Layout';\nexport { PageSidebar } from './Layout';\nexport { BasicStyledSidebar } from './Layout';\nexport { Layout } from './Layout';\n","import { css } from 'styled-components';\nimport { loadFontsFromGoogle } from 'core/fonts/loader';\n\nexport const loadReviewFont = async () => {\n  await loadFontsFromGoogle({\n    fontFamily: 'Open Sans',\n    fontWeight: [400, 600]\n  });\n};\n\nexport const reviewFontText = css`\n  font-family: 'Open Sans';\n  font-size: 11px;\n  line-height: 11px;\n  color: #42515f;\n`;\n\nexport default reviewFontText;\n","import { isLowerResolution } from 'utils/window';\nimport { MEDIA_TABLET } from 'constants/screenResolutions';\nimport * as questionActions from 'store/questions/actions';\nimport { getTreeOfContentVisibility } from 'store/treeOfContent/selectors';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const toggleTreeOfContentVisibility = (): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.TOC_TOGGLE_VISIBILITY });\n};\nexport const submitAllAnswerOnce = (): ThunkResult => dispatch => {\n  dispatch(questionActions.submitAllAtOnce());\n};\n\nexport const adaptToResolution = (): ThunkResult => (dispatch, getState) => {\n  const isTocExpanded = getTreeOfContentVisibility(getState());\n  const isLowResolution = isLowerResolution(MEDIA_TABLET);\n  if ((isLowResolution && isTocExpanded) || (!isLowResolution && !isTocExpanded)) {\n    dispatch({ type: ActionTypes.TOC_TOGGLE_VISIBILITY });\n  }\n};\n","import store from 'store';\nimport { getTranslations } from 'store/settings/selectors';\n\nconst applyTemplateData = (value: any, templateData: any) => {\n  for (let prop in templateData) {\n    const pattern = `{\\\\s*${prop}\\\\s*}`;\n    const regex = new RegExp(pattern, 'gmi');\n    value = value.replace(regex, templateData[prop]);\n  }\n  return value;\n};\n\n/* eslint-disable import/prefer-default-export */\nexport const localize = (key: any, templateData?: any, defaultValue?: any) => {\n  const translations = getTranslations(store.getState());\n  if (process.env.NODE_ENV === 'development' && !translations) {\n    return defaultValue || key;\n  }\n  if (!translations.hasOwnProperty(key)) {\n    throw new Error(\n      `Localization error appeared. Translation for key '${key}' has not been found.`\n    );\n  }\n  const value = translations[key];\n  return templateData ? applyTemplateData(value, templateData) : value;\n};\n","/* eslint-disable import/prefer-default-export */\nexport { localize } from './localization';\n","import { createSelector } from 'reselect';\nimport { objectToArray } from 'utils/object';\nimport {\n  MULTIPLE_CHOICE,\n  SINGLE_CHOICE,\n  SINGLE_CHOICE_IMAGE,\n  STATEMENT_CHOICE,\n  OPEN_QUESTION,\n  RANKING_TEXT,\n  SCENARIO,\n  FILL_IN_THE_BLANK,\n  DRAG_AND_DROP_TEXT,\n  TEXT_MATCHING,\n  HOTSPOT,\n  INFORMATION_CONTENT\n} from 'constants/questionTypes';\nimport { TimerStatus } from 'constants/timer';\nimport { getTimerStatus } from 'store/timer/selectors';\nimport * as multipleChoiceSelectors from './multipleChoice/selectors';\nimport * as statementChoiceSelectors from './statementChoice/selectors';\nimport * as openQuestionSelector from './openQuestion/selectors';\nimport * as rankingTextSelector from './rankingText/selectors';\nimport * as scenarioSelector from './scenario/selectors';\nimport * as fillInTheBlankSelector from './fillInTheBlank/selectors';\nimport * as dragAndDropTextSelector from './dragAndDropText/selectors';\nimport * as textMatching from './textMatching/selectors';\nimport * as hotspot from './hotspot/selectors';\nimport * as informationContent from './informationContent/selectors';\nimport { RootAppState } from '../types';\nimport {\n  isAttemptsLimited,\n  getLimitedAttemptsNumber,\n  isQuestionPoolEnabled,\n  getTimerEnabled\n} from '../settings/selectors';\n\nexport const hasAvailableAttempt = (state: RootAppState, question: any) =>\n  isAttemptsLimited(state)\n    ? question.type !== INFORMATION_CONTENT &&\n      question.score < 100 &&\n      question.attemptNumber < getLimitedAttemptsNumber(state)\n    : true;\n\nexport const isAttemptTimedOut = (state: RootAppState, question: any) =>\n  getTimerEnabled(state)\n    ? question.score < 100 && getTimerStatus(state) !== TimerStatus.STOPPED\n    : true;\n\nexport const getQuestion = (state: RootAppState, questionId: string) => state.questions[questionId];\n\nexport const getQuestionSection = (state: RootAppState, questionId: string) =>\n  state.questions[questionId].sectionId;\n\nexport const getQuestions = createSelector(\n  (state: RootAppState) => state.questions,\n  questions => objectToArray(questions)\n);\n\nexport const getAffectProgressQuestions = createSelector(\n  getQuestions,\n  state => state,\n  (questions, state) => {\n    if (isQuestionPoolEnabled(state)) {\n      return questions.filter(\n        (question: any) => question.affectsProgress && question.isPoolQuestion\n      );\n    }\n    return questions.filter((question: any) => question.affectsProgress);\n  }\n);\n\nexport const isAllQuestionsFailed = createSelector(\n  getAffectProgressQuestions,\n  state => state,\n  (questions, state) => questions.every((question: any) => !hasAvailableAttempt(state, question))\n);\n\nexport const isAllQuestionsTimedOut = createSelector(\n  getAffectProgressQuestions,\n  state => state,\n  (questions, state) => questions.every((question: any) => !isAttemptTimedOut(state, question))\n);\n\nexport const isAllQuestionsAnswered = createSelector(\n  getQuestions,\n  questions =>\n    !questions.filter((question: any) => !question.isAnswered && question.affectsProgress).length\n);\n\nexport const isAllSurveyQuestionsAnswered = createSelector(\n  getQuestions,\n  state => state,\n  (questions, state) => {\n    if (isQuestionPoolEnabled(state)) {\n      return true; // When questionPool is enabled there are no survey questions\n    }\n    return !questions.filter((question: any) => question.isSurvey && !question.isAnswered).length;\n  }\n);\n\nexport const getQuestionsCount = createSelector(getQuestions, questions => questions.length);\n\nexport const getQuestionAnswers = (state: RootAppState, questionId: string) =>\n  state.questions[questionId].answers;\n\nexport const getQuestionResponse = (state: RootAppState, questionId: string) =>\n  state.questions && state.questions[questionId] && state.questions[questionId].response;\n\nexport const getAffectProgressQuestionsCount = createSelector(\n  getQuestions,\n  state => state,\n  (questions, state) => {\n    if (isQuestionPoolEnabled(state)) {\n      return questions.filter(\n        (question: any) => question.affectsProgress && question.isPoolQuestion\n      ).length;\n    }\n    return questions.filter((question: any) => question.affectsProgress).length;\n  }\n);\n\nexport const hasReAnswerableQuestions = createSelector(\n  getQuestions,\n  state => state,\n  (questions, state) => {\n    if (!isAttemptsLimited(state)) {\n      return true;\n    }\n    return questions.some(\n      (question: any) =>\n        !question.isAnsweredCorrectly &&\n        question.type !== INFORMATION_CONTENT &&\n        question.attemptNumber < getLimitedAttemptsNumber(state)\n    );\n  }\n);\n\nexport const getAnsweredAffectProgressQuestionsCount = createSelector(\n  getQuestions,\n  state => state,\n  (questions, state) => {\n    if (isQuestionPoolEnabled(state)) {\n      return questions.filter(\n        (question: any) =>\n          question.isAnswered && question.affectsProgress && question.isPoolQuestion\n      ).length;\n    }\n    return questions.filter((question: any) => question.isAnswered && question.affectsProgress)\n      .length;\n  }\n);\n\nexport const getAnsweredQuestionsCount = createSelector(\n  getQuestions,\n  questions => questions.filter((question: any) => question.isAnswered).length\n);\n\nexport const getAnsweredQuestionsProgress = (state: RootAppState) => {\n  const affectProgressQuestionsCount = getAffectProgressQuestionsCount(state);\n  return affectProgressQuestionsCount > 0\n    ? Math.floor(\n        (getAnsweredAffectProgressQuestionsCount(state) * 100) / affectProgressQuestionsCount\n      )\n    : 0;\n};\n\nexport const getCorrectlyAffectProgressAnsweredQuestionsCount = createSelector(\n  getQuestions,\n  questions =>\n    questions.filter((question: any) => question.affectsProgress && question.isAnsweredCorrectly)\n      .length\n);\n\nexport const isQuestionAnswered = createSelector(\n  getQuestion,\n  question => question && question.isAnswered\n);\n\nexport const isQuestionAnsweredCorrectly = createSelector(\n  getQuestion,\n  question => question && question.isAnsweredCorrectly\n);\n\nexport const getQuestionAttempt = createSelector(\n  getQuestion,\n  question => question && question.attemptNumber\n);\n\nexport const hasBeenOpened = createSelector(\n  getQuestion,\n  question => question && question.hasBeenOpened\n);\n\nexport const hasCourseBeenStarted = createSelector(\n  getQuestions,\n  questions => questions.filter((question: any) => question.hasBeenOpened).length > 0\n);\n\nexport const getLastOpenedQuestion = (questions: any[]) =>\n  questions.reduce((acc, question) => (question.hasBeenOpened ? question : acc));\n\n// TODO: should be Question type\nexport const getScore = (state: RootAppState, question: any) => {\n  switch (question.type) {\n    case SINGLE_CHOICE_IMAGE:\n    case SINGLE_CHOICE:\n    case MULTIPLE_CHOICE:\n      return multipleChoiceSelectors.getScore(state, question);\n    case STATEMENT_CHOICE:\n      return statementChoiceSelectors.getScore(state, question);\n    case OPEN_QUESTION:\n      return openQuestionSelector.getScore(state, question);\n    case RANKING_TEXT:\n      return rankingTextSelector.getScore(state, question);\n    case SCENARIO:\n      return scenarioSelector.getScore(state, question);\n    case FILL_IN_THE_BLANK:\n      return fillInTheBlankSelector.getScore(state, question);\n    case DRAG_AND_DROP_TEXT:\n      return dragAndDropTextSelector.getScore(state, question);\n    case TEXT_MATCHING:\n      return textMatching.getScore(state, question);\n    case HOTSPOT:\n      return hotspot.getScore(state, question);\n    case INFORMATION_CONTENT:\n      return informationContent.getScore(state, question);\n    default:\n      throw new Error(`Unable to calculate score for ${question.type} question`);\n  }\n};\n\nexport const questionExists = (state: RootAppState, questionId: string) =>\n  questionId && Object.keys(state.questions).includes(questionId);\n\nexport const isFeedbackAnimating = createSelector(\n  getQuestion,\n  question => question.isFeedbackAnimating\n);\n\nexport const getPoolQuestions = (state: RootAppState) =>\n  objectToArray(state.questions).filter((question: any) => question.isPoolQuestion);\n\nexport const getPoolQuestionIndex = (state: RootAppState, questionId: string) => {\n  const questionsForPoolTemp: any = getPoolQuestions(state);\n  const poolQuestionIDs: any = [];\n\n  for (const question of questionsForPoolTemp) {\n    poolQuestionIDs.push(question.id);\n  }\n  return poolQuestionIDs.indexOf(questionId);\n};\nexport const getSectionId = (state: RootAppState, questionId: string) =>\n  state.questions[questionId].sectionId;\n\nexport const isAllAffectedQuestionsAnswered = createSelector(\n  getAffectProgressQuestions,\n  state => state,\n  (questions, state) => {\n    if (isQuestionPoolEnabled(state)) {\n      return questions.every(({ isAnswered, isPoolQuestion }: any) => isAnswered && isPoolQuestion);\n    }\n    return questions.every((question: any) => question.isAnswered);\n  }\n);\n\nexport const getUnansweredQuestions = createSelector(\n  getQuestions,\n  state => state,\n  (questions, state) => {\n    if (isQuestionPoolEnabled(state)) {\n      return questions.filter(\n        ({ isAnswered, isPoolQuestion }: any) => !isAnswered && isPoolQuestion\n      );\n    }\n    return questions.filter(({ isAnswered }: any) => !isAnswered);\n  }\n);\n\nexport const hasAnyQuestionOpened = createSelector(getQuestions, questions =>\n  questions.some(question => question.hasBeenOpened)\n);\n\nexport const getQuestionRetries = createSelector(getQuestion, question => question?.retries || 0);\n","import { isScoringOfContentPagesAllowed } from 'store/settings/selectors';\nimport { hasBeenOpened } from 'store/questions/selectors';\nimport { RootAppState } from '../../types';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const getScore = (state: RootAppState, question: any) => {\n  if (isScoringOfContentPagesAllowed(state)) {\n    return hasBeenOpened(state, question.id) ? 100 : 0;\n  }\n\n  return 0;\n};\n","import styled, { css } from 'styled-components';\nimport { transition } from 'components/mixins/interactivity';\n\ntype ContentProps = {\n  defaultOpacity: number;\n  opacityDuration: string;\n  ref: any\n}\nexport const Content = styled.div`\n  ${(props: ContentProps) =>\n    css`\n      opacity: ${props.defaultOpacity};\n      ${transition('opacity, height', props.opacityDuration)};\n    `};\n`;\n\ntype ContainerProps = {\n  duration: number;\n  isVisible: boolean;\n  ref: any;\n}\nexport const Container = styled.div`\n  height: 0px;\n  overflow: hidden;\n  ${(props: ContainerProps) =>\n    css`\n      ${transition('height, visibility', props.duration)};\n    `};\n  visibility: ${props => (props.isVisible ? 'visible' : 'hidden')};\n`;\n","import * as React from 'react';\nimport scrollIntoView from 'scroll-into-view';\nimport { Container, Content } from './Collapse.styled';\n\nexport type CollapseProps = {\n  isExpanded: boolean,\n  scrollIntoView: boolean,\n  duration: number,\n  opacityDuration: string,\n  delayOpacityTransition?: boolean,\n  children: React.ReactNode,\n  onExpanded?(): void,\n  onCollapsed?(): void\n  animateAppear?: boolean,\n}\n\nexport class Collapse extends React.PureComponent<CollapseProps, {}> {\n  isExpanded: boolean;\n  containerNode: any;\n  contentNode: any;\n  timeout: any;\n  raf: any;\n\n  constructor(props: CollapseProps) {\n    super(props);\n    this.isExpanded = false;\n    this.containerNode = React.createRef();\n    this.contentNode = React.createRef();\n  }\n\n  static defaultProps = {\n    isExpanded: true,\n    animateAppear: true,\n    scrollIntoView: false,\n    duration: 300,\n    opacityDuration: 100,\n    delayOpacityTransition: false\n  }\n\n  componentDidMount() {\n    if (this.props.animateAppear) {\n      this.updateWithAnimation();\n    } else {\n      this.update();\n    }\n    this.isExpanded = this.props.isExpanded;\n  }\n\n  componentDidUpdate() {\n    this.updateWithAnimation();\n    this.isExpanded = this.props.isExpanded;\n  }\n\n  componentWillUnmount() {\n    this.clear();\n  }\n\n  render() {\n    const { isExpanded, children, opacityDuration, duration } = this.props;\n    return (\n      <Container\n        isVisible={isExpanded}\n        duration={duration}\n        ref={this.containerNode}\n      >\n        {\n          <Content\n            defaultOpacity={this.getDefaultOpacity()}\n            opacityDuration={opacityDuration}\n            ref={this.contentNode}\n          >\n            {children}\n          </Content>\n        }\n      </Container>\n    );\n  }\n\n  update() {\n    const { isExpanded } = this.props;\n    this.setHeight(isExpanded ? 'auto' : 0);\n    this.setOpacity(isExpanded ? 1 : 0);\n  }\n\n  updateWithAnimation() {\n    const { isExpanded, duration, delayOpacityTransition } = this.props;\n    if (this.isExpanded === isExpanded) {\n      return;\n    }\n\n    this.clear();\n    if (!isExpanded) {\n      this.fadeOut();\n      this.collapse();\n      this.call(this.props.onCollapsed);\n      return;\n    }\n\n    this.expand();\n    if (this.props.scrollIntoView) {\n      scrollIntoView(this.containerNode, { time: this.props.duration, align: { top: 0 } });\n    }\n\n    if (!delayOpacityTransition) {\n      this.fadeIn();\n    }\n    this.timeout = setTimeout(() => {\n      this.fadeIn();\n      this.setHeight('auto');\n      this.call(this.props.onExpanded);\n    }, duration);\n  }\n\n  call(func: any) {\n    if (func) {\n      func();\n    }\n  }\n\n  clear() {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n      this.timeout = null;\n    }\n    if (this.raf) {\n      window.cancelAnimationFrame(this.raf);\n      this.raf = null;\n    }\n  }\n\n  expand() {\n    this.animateHeight(true);\n  }\n\n  collapse() {\n    this.animateHeight(false);\n  }\n\n  animateHeight(isExpanded: boolean) {\n    if (this.raf) {\n      window.cancelAnimationFrame(this.raf);\n    }\n\n    if (!isExpanded && this.isHeightAuto()) {\n      this.setHeight(this.getContentHeight());\n    }\n\n    this.raf = window.requestAnimationFrame(() => {\n      const height = isExpanded ? this.getContentHeight() : 0;\n      this.raf = window.requestAnimationFrame(() => {\n        this.raf = window.requestAnimationFrame(() => {\n          this.setHeight(height);\n          this.raf = null;\n        });\n      });\n    });\n  }\n\n  fadeIn() {\n    this.setOpacity(1);\n  }\n\n  fadeOut() {\n    this.setOpacity(this.getDefaultOpacity());\n  }\n\n  getContentHeight() {\n    return this.contentNode.current && this.contentNode.current.offsetHeight;\n  }\n\n  setHeight(height: number | string) {\n    if (this.containerNode.current) {\n      this.containerNode.current.style.height = typeof height === 'string' ? height : `${height}px`;\n    }\n  }\n\n  isHeightAuto() {\n    return this.containerNode.current && this.containerNode.current.style.height === 'auto';\n  }\n\n  setOpacity(opacity: number) {\n    if (this.contentNode.current) {\n      this.contentNode.current.style.opacity = opacity;\n    }\n  }\n\n  getDefaultOpacity() {\n    return this.props.delayOpacityTransition ? 0.3 : 0;\n  }\n}\n\nexport default Collapse;\n","import * as React from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\nexport enum AnimationTypes {\n  slideInDown = 'slideInDown',\n  fade = 'fade',\n  fadeInDown = 'fadeInDown'\n};\n\ninterface Types {\n  [AnimationTypes.slideInDown]: string;\n  [AnimationTypes.fade]: string;\n  [AnimationTypes.fadeInDown]: string;\n}\n\ntype CssAnimationProps = {\n  isVisible?: boolean;\n  type: keyof Types;\n  animateAppear?: boolean;\n  animateLeave?: boolean;\n  timeout?: number;\n  children: any;\n};\n\nclass CssAnimation extends React.Component<CssAnimationProps, {}> {\n  static AnimationType = AnimationTypes\n  static defaultProps = {\n    timeout: 300,\n    isVisible: true,\n    animateAppear: true,\n    animateLeave: true\n  }\n\n  render() {\n    const { isVisible, animateAppear, animateLeave, children, type, timeout = 0 } = this.props;\n\n    return (\n      <CSSTransition\n        in={isVisible}\n        appear={animateAppear}\n        exit={animateLeave}\n        classNames={type}\n        timeout={timeout}\n        unmountOnExit\n      >\n        {children}\n      </CSSTransition>\n    );\n  }\n}\n\nexport default CssAnimation;\n","import { PureComponent } from 'react';\n\ntype DelayProps = {\n  children?: any;\n  wait?: number;\n  callback?(): void;\n};\n\ntype DelayState = {\n  isWaiting: boolean;\n}\nexport class Delay extends PureComponent<DelayProps, DelayState> {\n  timer: any;\n  constructor(props: DelayProps) {\n    super(props);\n    this.state = { isWaiting: true };\n    this.timer = () => {};\n  }\n\n  static defaultProps = {\n    wait: 250\n  };\n\n  componentDidMount = () => {\n    this.timer = setTimeout(() => {\n      this.setState({\n        isWaiting: false\n      });\n      if (this.props.callback) {\n        this.props.callback();\n      }\n    }, this.props.wait);\n  };\n\n  componentWillUnmount = () => {\n    clearTimeout(this.timer);\n  };\n\n  render() {\n    return this.state.isWaiting ? null : this.props.children;\n  }\n}\n\nexport default Delay;\n","import styled from 'styled-components';\nimport ReactContentLoader from 'react-content-loader';\n\nexport const Container = styled.div`\n  max-width: 400px;\n  width: 100%;\n`;\n\nexport const ContentLoader = styled(ReactContentLoader)`\n  display: flex;\n  opacity: 0.3;\n`;\n","import * as React from 'react';\nimport { withTheme } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { Container, ContentLoader } from './Loader.styled';\n\ntype LoaderProps = {\n  height?: number;\n  width?: number;\n  speed?: number;\n  theme: { [key: string]: any };\n};\n\nexport const Loader = (props: LoaderProps) => {\n  const { height = 8, width = 400, speed = 2 } = props;\n  const space = 16;\n  return (\n    <Container>\n      <ContentLoader\n        height={height * 2 + space}\n        width={width}\n        speed={speed}\n        primaryColor={transparentize(props.theme.colors.textColor, 0.08, { solidColor: true })}\n        secondaryColor={transparentize(props.theme.colors.textColor, 0.1, { solidColor: true })}\n      >\n        <rect x=\"0\" y=\"0\" rx=\"3\" ry=\"3\" width={width / 2 - 10} height={height} />\n        <rect x=\"0\" y={height + space} rx=\"3\" ry=\"3\" width={width} height={height} />\n      </ContentLoader>\n    </Container>\n  );\n};\n\nexport default withTheme(Loader);\n","import styled, { css } from 'styled-components';\nimport Icon from 'components/common/Icon';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport { MEDIA_TABLET } from 'constants/screenResolutions';\nimport { TOC } from 'constants/components';\nimport buttonDefaultStyle from 'components/mixins/normalize';\n\ntype ListItemsBlockProps = {\n  isImageQuestion: boolean;\n  isTreeOfContentExpanded: boolean\n}\nexport const ListItemsBlock = styled.ul<ListItemsBlockProps>`\n  width: 100%;\n\n  ${(props) =>\n    props.isImageQuestion\n      ? css`\n          display: flex;\n          flex-wrap: wrap;\n\n          ${media.small`\n            justify-content: space-around;\n          `};\n        `\n      : css``};\n`;\n\n\ntype ListItemProps = {\n  selected: boolean;\n  key: number;\n  isImageQuestion: boolean;\n  isTreeOfContentExpanded: boolean;\n}\nexport const ListItem = styled.li<ListItemProps>`\n  display: flex;\n  align-items: center;\n  min-height: 50px;\n  transition: background-color 0.2s linear;\n  cursor: pointer;\n  position: relative;\n\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.textColor, 0.06)};\n  }\n\n  ${(props) =>\n    props.isImageQuestion &&\n    css`\n          width: 260px;\n          height: 260px;\n          background: #f1f1f1;\n          margin-top: 10px;\n          margin-left: 50px;\n          border: solid 2px #fff;\n          border-radius: 4px;\n          overflow: hidden;\n\n          ${\n      props.selected\n        ? css`\n                  border: solid 2px ${props.theme.colors.mainColor};\n                `\n        : css``\n      } &:hover {\n            .show-on-hover {\n              opacity: 0.75;\n            }\n\n            .zoom-button {\n              opacity: 0.5;\n            }\n          }\n          ${media.xlarge`\n            width: 224px;\n            height: 224px;\n            margin-left: 38px;\n          `}\n\n          @media (min-width: ${MEDIA_TABLET +\n      (props.isTreeOfContentExpanded ? TOC.EXPANDED_WIDTH : 0)}px) {\n            &:nth-child(3n + 1) {\n              margin-left: 0;\n            }\n          }\n\n          @media (max-width: ${MEDIA_TABLET +\n      (props.isTreeOfContentExpanded ? TOC.EXPANDED_WIDTH : 0)}px) {\n            width: 260px;\n            height: 260px;\n            margin-left: 40px;\n\n            &:nth-child(2n + 1) {\n              margin-left: 0;\n            }\n          }\n\n          ${media.small`\n            margin-left: 0;\n            margin-bottom: 30px;\n          `};\n        `};\n`;\n\nexport const ZoomIconBg = styled(Icon)`\ncolor: #271100;\n`;\n\nexport const ZoomIcon = styled(Icon)`\ncolor: #d8d8d8;\nposition: absolute;\ntop: 0;\nleft: 0;\n`;\n\ntype ZoomIconButton = {\n  className: string;\n  ariaLabel: string;\n  tabIndex: number;\n  isShown: boolean;\n}\nexport const ZoomIconButton = styled.button.attrs((props: ZoomIconButton) => ({\n  tabIndex: props.tabIndex,\n  'aria-label': props.ariaLabel,\n  'data-test': 'zoom-button'\n}))`\n${ buttonDefaultStyle};\nbackground: none;\nborder: 0;\ndisplay: none;\npadding: 0;\nposition: absolute;\nright: 5px;\nbottom: 5px;\nopacity: 0;\ntransition: 0.3s;\n\n  &: hover,\n  &: focus {\n  opacity: 0.8!important;\n}\n\n  &: focus {\n  outline: none;\n}\n\n${\n  media.tablet`\n    opacity: 0.5;\n  `};\n\n${\n  (props: ZoomIconButton) =>\n    props.isShown\n      ? css`\n          & {\n            display: block;\n          }\n        `\n      : css``\n  };\n`;\n","import styled, { css } from 'styled-components';\n\nexport const ImageItem = styled.figure`\n  height: 100%;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  padding: 30px;\n`;\n\ntype ImageProps = {\n  alt: string;\n  isImageLoaded: boolean;\n}\nexport const Image = styled.img.attrs((props: ImageProps) => ({\n  alt: props.alt\n}))<ImageProps>`\n  max-width: 100%;\n  max-height: 100%;\n  display: block;\n  z-index: 1;\n\n  ${props =>\n    props.isImageLoaded\n      ? css`\n          & {\n            display: block;\n          }\n        `\n      : css`\n          display: none;\n        `};\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport CircleLoader from 'components/common/CircleLoader';\nimport { localize } from 'core/localization';\nimport { ImageItem, Image } from './PreviewGallery.styled';\n\ntype PreviewGalleryPopupProps = {\n  popupSettings: { [key: string]: any };\n};\n\ntype PreviewGalleryPopupState = {\n  isImageLoaded: boolean\n}\n\nexport class PreviewGalleryPopup extends React.Component<PreviewGalleryPopupProps, PreviewGalleryPopupState> {\n  constructor(props: PreviewGalleryPopupProps) {\n    super(props);\n    this.state = {\n      isImageLoaded: false\n    };\n  }\n\n  handleImageLoaded = () => {\n    this.setState({ isImageLoaded: true });\n  };\n\n  render() {\n    const { imageUrls } = this.props.popupSettings;\n    const { isImageLoaded } = this.state;\n    return (\n      <>\n        {imageUrls.map((image: any, index: any) => (\n          <ImageItem key={index}>\n            {!isImageLoaded && <CircleLoader iconSize={48} />}\n            <Image\n              src={image}\n              alt={localize('[alt answer image]')}\n              onLoad={() => this.handleImageLoaded()}\n              isImageLoaded={isImageLoaded}\n            />\n          </ImageItem>\n        ))}\n      </>\n    );\n  }\n}\n\nexport default connect()(PreviewGalleryPopup);\n","import * as React from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport SwitchButton from 'components/common/SwitchButton';\nimport { getTreeOfContentVisibility } from 'store/treeOfContent/selectors';\nimport * as actions from 'store/popup/actions';\nimport { localize } from 'core/localization';\nimport { POPUP_ID_IMAGE_PREVIEW } from 'constants/popups';\nimport { KEYS } from 'constants/common';\nimport { RootAppState } from 'store/types';\nimport {\n  ListItemsBlock,\n  ListItem,\n  ZoomIconButton,\n  ZoomIconBg,\n  ZoomIcon\n} from './MultipleChoiceItems.styled';\nimport PreviewGallery from '../../popups/previewGallery/PreviewGallery';\n\nexport type MultipleChoiceItemsProps = {\n  items: any[];\n  id: string;\n  isMultiple: boolean;\n  imageQuestion: boolean;\n  selectItem(id: string, itemId?: string, isMultiple?: boolean): void;\n  actions: { [key: string]: any };\n  isTreeOfContentExpanded: boolean;\n  ariaDisabled: boolean;\n  tabIndex: number;\n};\n\nexport class MultipleChoiceItems extends React.Component<MultipleChoiceItemsProps, {}> {\n  state = {\n    items: this.props.items,\n    isOpened: false,\n    imageUrl: []\n  };\n\n  static defaultProps = {\n    imageQuestion: false,\n    ariaDisabled: false\n  };\n\n  selectItem = (item: any) => {\n    const { id, isMultiple, selectItem } = this.props;\n    const { items } = this.state;\n\n    if (isMultiple) {\n      items.forEach(a => {\n        if (item.id === a.id) {\n          a.selected = !a.selected;\n        }\n      });\n    } else {\n      items.forEach(a => {\n        if (item.id === a.id) {\n          a.selected = true;\n        } else {\n          a.selected = false;\n        }\n      });\n    }\n    if (typeof selectItem === 'function') {\n      selectItem(id, item.id, isMultiple);\n    }\n    this.setState({\n      items\n    });\n  };\n\n  static getDerivedStateFromProps(\n    nextProps: MultipleChoiceItemsProps,\n    prevState: MultipleChoiceItemsProps\n  ) {\n    if (prevState.id !== nextProps.id && prevState.items !== nextProps.items) {\n      return {\n        items: nextProps.items\n      };\n    }\n    return null;\n  }\n\n  showPopup = (imageUrl: string) => {\n    this.props.actions.openPopup({\n      popupId: POPUP_ID_IMAGE_PREVIEW,\n      popupAriaLabelKey: '[aria label gallery popup]',\n      component: PreviewGallery,\n      imageUrls: [imageUrl],\n      disableBottomLine: true\n    });\n  };\n\n  render() {\n    const {\n      isMultiple,\n      imageQuestion,\n      isTreeOfContentExpanded,\n      ariaDisabled,\n      tabIndex\n    } = this.props;\n    const { items } = this.state;\n    return (\n      <ListItemsBlock\n        isImageQuestion={imageQuestion}\n        isTreeOfContentExpanded={isTreeOfContentExpanded}\n      >\n        {items.map((item, index) => (\n          <ListItem\n            selected={item.selected}\n            key={index}\n            isImageQuestion={imageQuestion}\n            isTreeOfContentExpanded={isTreeOfContentExpanded}\n          >\n            <SwitchButton\n              multiple={isMultiple}\n              selected={item.selected}\n              text={item.text}\n              imageUrl={item.image}\n              ariaDisabled={ariaDisabled}\n              altAnswerImage={`${localize('[alt answer image]')} ${++index}`}\n              tabIndex={tabIndex}\n              onClick={() => {\n                if (!ariaDisabled) {\n                  this.selectItem(item);\n                }\n              }}\n              onKeyDown={(event: any) => {\n                if (\n                  (event.key?.toLowerCase() === KEYS.SPACEBAR.toLowerCase() ||\n                    event.key?.toLowerCase() === KEYS.ENTER.toLowerCase()) &&\n                  !ariaDisabled\n                ) {\n                  this.selectItem(item);\n                }\n              }}\n            />\n            <ZoomIconButton\n              className=\"zoom-button\"\n              ariaLabel={localize('[aria label zoom button]')}\n              onClick={() => this.showPopup(item.image)}\n              tabIndex={0}\n              isShown={!!item.image}\n            >\n              <ZoomIconBg size={41} name=\"zoom-bg\" />\n              <ZoomIcon size={41} name=\"zoom\" />\n            </ZoomIconButton>\n          </ListItem>\n        ))}\n      </ListItemsBlock>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    isTreeOfContentExpanded: getTreeOfContentVisibility(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return { actions: bindActionCreators(actions, dispatch) };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MultipleChoiceItems);\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\n\ntype StatusIconProps = {\n  passedMark: any;\n  progress: any;\n}\nexport const StatusIcon = styled.div<StatusIconProps>`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  bottom: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 16px;\n  height: 16px;\n  background: ${props => props.theme.colors.correctColor};\n  border-radius: 50%;\n  visibility: hidden;\n  opacity: 0;\n  transform: translate(-50%, -50%) scale(0);\n  ${props =>\n    props.passedMark <= props.progress &&\n    css`\n      visibility: visible;\n      opacity: 1;\n      transform: translate(-50%, -50%) scale(1);\n    `}\n`;\n\nexport const ProgressWrapper = styled.div`\n  padding: 10px 0 8px;\n  ${StatusIcon} {\n    transition: all 0.3s;\n  }\n  &:hover ${StatusIcon} {\n    visibility: visible;\n    opacity: 1;\n    transform: translate(-50%, -50%) scale(1);\n  }\n`;\ntype ProgressBarMarkProps = {\n  top: number;\n  passedMark: any;\n  height: any;\n  styles: any;\n}\nexport const ProgressBarMark = styled.div<ProgressBarMarkProps>`\n  position: absolute;\n  top: ${props => (props.top ? props.top : 0)}px;\n  left: ${props => (props.passedMark ? props.passedMark : 0)}%;\n  height: ${props => (props.height ? props.height : 2)}px;\n  width: 2px;\n  border-radius: 1px;\n  background-color: ${props =>\n    props.styles\n      ? transparentize(props.theme.colors[props.styles.color], props.styles.opacity)\n      : transparentize(props.theme.colors.coverBgOverlayTextColor, 0.5)};\n`;\n","import React, { useState } from 'react';\nimport { localize } from 'core/localization';\nimport { Icon, ProgressBar, Tooltip } from 'components/common';\nimport { ProgressWrapper, ProgressBarMark, StatusIcon } from './ProgressResult.styled';\n\ntype ProgressResultProps = {\n  height?: number;\n  progress: number;\n  className?: string;\n  passedMark: number;\n  passedMarkStyles?: { [key: string]: any };\n  forwardedRef?: any;\n  progressColor?: string;\n  opacity?: any;\n};\nconst ProgressResult = ({\n  height = 2,\n  progress = 0,\n  className = '',\n  passedMark,\n  passedMarkStyles,\n  progressColor,\n  opacity\n}: ProgressResultProps) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  const toggleShowTooltip = () => {\n    setShowTooltip(!showTooltip);\n  };\n\n  return (\n    <ProgressWrapper onMouseEnter={toggleShowTooltip} onMouseLeave={toggleShowTooltip}>\n      <ProgressBar\n        className={className}\n        height={height}\n        progress={progress}\n        progressColor={progressColor}\n        opacity={opacity}\n      >\n        <ProgressBarMark height={8} top={-2} passedMark={passedMark} styles={passedMarkStyles}>\n          <Tooltip\n            html={localize('[reach x to pass the course]', {\n              mustPercentSuccess: passedMark\n            })}\n            arrow={true}\n            open={showTooltip}\n            distance={15}\n            tooltipTheme={'light'}\n            size={'small'}\n          >\n            <StatusIcon progress={progress} passedMark={passedMark}>\n              <Icon name=\"ok\" size={6} />\n            </StatusIcon>\n          </Tooltip>\n        </ProgressBarMark>\n      </ProgressBar>\n    </ProgressWrapper>\n  );\n};\n\nexport default ProgressResult;\n","import styled, { css } from 'styled-components';\nimport { ICON, SIZES } from 'constants/components';\nimport { transparentize } from 'utils/color';\nimport { IconElement } from 'components/common/Icon/Icon.styled';\nimport media from 'components/mixins/media';\nimport { pointerOnHover, transition } from 'components/mixins/interactivity';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nconst roundFullColor = css`\n  border-radius: 50%;\n  background-color: ${props => getColor(props)};\n`;\n\nconst roundOutlined = css`\n  border-radius: 50%;\n  border: 1px solid ${props => getColor(props)};\n`;\n\nconst roundShaded = css`\n  border-radius: 50%;\n  background: ${props => props.theme.colors.contentBodyColor};\n  box-shadow: 0 2px 4px 0 ${transparentize(defaultBoxShadowColor, 0.15)};\n`;\n\ntype IconShapeProps = {\n  size: any;\n  shape?: any;\n  hoverShape?: any;\n  getHoverColor?: any;\n  shapeColor?: any;\n  shapeOpacity?: any;\n};\n/* eslint-disable import/prefer-default-export */\nexport const IconShape = styled.div<IconShapeProps>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n\n  width: ${props => getShapeSize(props.size)}px;\n  height: ${props => getShapeSize(props.size)}px;\n\n  ${transition('border, background-color, box-shadow')};\n\n  & ${IconElement} {\n    ${transition('none')};\n  }\n\n  ${props => props.shape === ICON.SHAPES.ROUND_FULL_COLOR && roundFullColor};\n  ${props => props.shape === ICON.SHAPES.ROUND_OUTLINED && roundOutlined};\n  ${props => props.shape === ICON.SHAPES.ROUND_SHADED && roundShaded};\n\n  ${props =>\n    props.size === SIZES.LARGE &&\n    media.xsmall`\n      width: 20px;\n      height: 20px;\n  `};\n\n  ${props =>\n    props.hoverShape &&\n    css`\n      ${pointerOnHover};\n      &:hover,\n      &:focus {\n        background-color: ${props.theme.colors.contentBodyColor};\n        border: none;\n        box-shadow: none;\n        ${props.hoverShape === ICON.SHAPES.ROUND_SHADED && roundShaded};\n      }\n    `};\n\n  ${props =>\n    props.getHoverColor &&\n    css`\n      ${pointerOnHover};\n      &:hover ${IconElement}, &:focus ${IconElement} {\n        color: ${getHoverColor(props)};\n      }\n    `};\n`;\n\nfunction getHoverColor(props: any) {\n  if (props.getHoverColor) {\n    return props.getHoverColor(props.theme.colors);\n  }\n}\n\nfunction getColor(props: any) {\n  if (props.getShapeColor) {\n    return props.getShapeColor(props.theme.colors);\n  }\n\n  return transparentize(props.theme.colors[props.shapeColor], props.shapeOpacity || 1);\n}\n\nfunction getShapeSize(size: any) {\n  if (typeof size === 'number') {\n    return size;\n  }\n\n  switch (size) {\n    case SIZES.SMALL:\n      return 16;\n    case SIZES.MEDIUM:\n      return 24;\n    default:\n      return 30;\n  }\n}\n","import * as React from 'react';\nimport { ICON, SIZES } from 'constants/components';\nimport Icon from 'components/common/Icon';\nimport { IconShape } from './ShapedIcon.styled';\n\ninterface Size {\n  [SIZES.SMALL]: string;\n  [SIZES.MEDIUM]: string;\n  [SIZES.LARGE]: string;\n}\n\ninterface Shape {\n  [ICON.SHAPES.ROUND_FULL_COLOR]: string;\n  [ICON.SHAPES.ROUND_OUTLINED]: string;\n  [ICON.SHAPES.ROUND_SHADED]: string;\n}\n\ntype ShapedIconProps = {\n  name: string;\n  color?: string;\n  getColor?(): void;\n  getHoverColor?(): void;\n  className?: string;\n  size: keyof Size | number;\n  fontSize?: number;\n  shape?: keyof Shape;\n  hoverShape?: keyof Shape;\n  shapeColor: string;\n  getShapeColor?(): void;\n};\n\nexport const ShapedIcon = (props: ShapedIconProps) => {\n  const { name = 'ok', shapeColor = 'mainColor', shape = ICON.SHAPES.ROUND_FULL_COLOR, size = SIZES.SMALL, fontSize, color = 'buttonTextColor', getColor } = props;\n\n  return (\n    <IconShape shapeColor={shapeColor} shape={shape} {...props}>\n      <Icon\n        shapeSize={size}\n        size={getIconSize(fontSize, size)}\n        name={name}\n        color={color}\n        getColor={getColor}\n      />\n    </IconShape>\n  );\n};\n\nfunction getIconSize(fontSize: any, size: any) {\n  if (typeof size === 'number' && !fontSize) {\n    throw new Error('fontSize must be specified when size is set as numeric value');\n  }\n\n  if (fontSize) return fontSize;\n  switch (size) {\n    case SIZES.SMALL:\n      return 6;\n    case SIZES.MEDIUM:\n      return 10;\n    default:\n      return 12;\n  }\n}\n\nShapedIcon.SHAPES = ICON.SHAPES;\nShapedIcon.SIZES = SIZES;\n\nexport default ShapedIcon;\n","import styled from 'styled-components';\nimport Text from 'components/common/Text';\nimport Icon from 'components/common/Icon';\nimport { transparentize } from 'utils/color';\nimport { TOOLTIP } from 'constants/components';\nimport { secondaryFont } from 'components/mixins/typography';\nimport media from 'components/mixins/media';\nimport { LayoutType } from './StatusTooltip';\n\nexport const IconElement = styled(Icon)`\n  ${secondaryFont};\n  position: absolute;\n  display: inline;\n  top: 50%;\n  left: 16px;\n  transform: translateY(-50%);\n  font-weight: bold;\n  line-height: 1.5px;\n`;\n\nexport const MessageContainer = styled(Text)`\n  && {\n    color: ${props => props.theme.colors.textColor};\n    font-size: 10px;\n    font-weight: normal;\n    line-height: 1.5;\n    white-space: pre-line;\n    word-break: break-word;\n    word-wrap: break-word;\n  }\n`;\n\ntype ContainerMessageProps = {\n  layout: keyof LayoutType\n}\nexport const ContainerMessage = styled.div<ContainerMessageProps>`\n  position: relative;\n  display: block;\n  width: 320px;\n  padding: 10px 32px 10px 37px;\n  background: ${props =>\n    transparentize(\n      (props.layout === TOOLTIP.INCORRECT && props.theme.colors.incorrectColor) ||\n      (props.layout === TOOLTIP.CORRECT && props.theme.colors.correctColor),\n      0.1\n    )};\n  border: 1px solid\n    ${props =>\n    transparentize(\n      (props.layout === TOOLTIP.INCORRECT && props.theme.colors.incorrectColor) ||\n      (props.layout === TOOLTIP.CORRECT && props.theme.colors.correctColor),\n      0.3\n    )};\n  ${media.mobile`\n      width: 260px;\n    `};\n`;\n\nexport const PopoverButton = styled.div`\n  display: inline-block;\n`;\n\nexport const PopoverWrapper = styled.div`\n  display: block;\n`;\n","import * as React from 'react';\nimport { withTheme } from 'styled-components';\nimport { TOOLTIP } from 'constants/components';\nimport { Tooltip } from 'components/common';\nimport {\n  ContainerMessage,\n  MessageContainer,\n  IconElement,\n  PopoverWrapper,\n  PopoverButton\n} from './StatusTooltip.styled';\n\nexport interface LayoutType {\n  [TOOLTIP.CORRECT]: string;\n  [TOOLTIP.INCORRECT]: string;\n}\ntype StatusTooltipProps = {\n  popoverPosition: any;\n  message: string | React.ReactElement;\n  popoverButton: React.ReactElement;\n  layout: keyof LayoutType;\n  showTooltip: boolean;\n  theme?: any;\n  interactive?: boolean\n};\n\nexport class StatusTooltip extends  React.Component<any, {}> {\n  refButton: any;\n  constructor(props: StatusTooltipProps) {\n    super(props);\n    this.refButton = React.createRef();\n  }\n\n  render() {\n    const { popoverPosition, popoverButton, message, layout, showTooltip, onRequestClose = () => {} } = this.props;\n    const templateTheme = this.props.theme;\n    return (\n      <PopoverWrapper>\n        <Tooltip\n          trigger={'manual'}\n          open={showTooltip}\n          onRequestClose={ () => onRequestClose && onRequestClose() }\n          tooltipTheme={'light'}\n          position={popoverPosition}\n          interactive={this.props.interactive === false ? false : true}\n          distance={20}\n          classNames='status-theme'\n          html={\n            <ContainerMessage layout={layout} theme={templateTheme}>\n              <IconElement\n                theme={templateTheme}\n                name={layout === TOOLTIP.CORRECT ? 'check-mark-2' : ''}\n                fontSize={16}\n                size={11}\n                text={layout === TOOLTIP.INCORRECT ? '!' : ''}\n                color={\n                  (layout === TOOLTIP.INCORRECT && 'incorrectColor') ||\n                  (layout === TOOLTIP.CORRECT && 'correctColor')\n                }\n              />\n              <MessageContainer theme={templateTheme} appearance={'p'} font={'secondaryFont'}>\n                {message}\n              </MessageContainer>\n            </ContainerMessage>\n          }\n        >\n          <PopoverButton\n            role=\"presentation\"\n            ref={this.refButton}\n          >\n            {popoverButton}\n          </PopoverButton>\n        </Tooltip>\n      </PopoverWrapper>\n    );\n  }\n}\n\nexport default withTheme(StatusTooltip);\n","import { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const openLoader = (): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.OPEN_LOADER });\n};\n\nexport const closeLoader = (): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.CLOSE_LOADER });\n};\n","import styled from 'styled-components';\n\nexport const OverLayContainer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  background-color: white;\n  z-index: 200;\n`;\n","import * as React from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { CircleLoader } from 'components/common';\nimport * as loaderActions from 'store/loader/actions';\nimport { OverLayContainer } from './MainCircleLoader.styled';\n\nexport class MainCircleLoader extends React.Component<any, {}> {\n  componentDidMount() {\n    this.props.actions.openLoader();\n  }\n\n  componentWillUnmount() {\n    this.props.actions.closeLoader();\n  }\n\n  render() {\n    return (\n      <OverLayContainer>\n        <CircleLoader iconSize={96} />\n      </OverLayContainer>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch): { [key: string]: any } {\n  return {\n    actions: bindActionCreators(loaderActions, dispatch)\n  };\n}\nexport default connect(null, mapDispatchToProps)(MainCircleLoader);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { IS_NO_ACCESS, IS_NOT_AUTHORIZED } from 'constants/typeAccess';\nimport { LOGIN_PATH } from 'constants/navigation';\nimport { MATERIAL_TYPES } from 'constants/common';\nimport { RootAppState } from 'store/types';\nimport {\n  isCourseAccessLimited,\n  isProgressRestoreFetched,\n  isProgressRestoreFailed\n} from 'store/course/selectors';\nimport { isLoaderVisibility } from 'store/loader/selectors';\nimport { isReviewMode, isPreviewMode } from 'store/settings/selectors';\nimport MainCircleLoader from 'components/common/MainCircleLoader/MainCircleLoader';\n\ntype PrivateRouteProps = {\n  component: any;\n  componentNoAccess: any;\n  typeAccess: string;\n  exact?: any;\n  path: any;\n  materialType?: string;\n  isCourseProgressRestoreFetched?: boolean;\n  isCourseProgressRestoreFailed?: boolean;\n  courseAccessLimited?: boolean;\n  isLoaderVisible?: boolean;\n  reviewMode?: boolean;\n  previewMode?: boolean;\n};\n\nconst materialTypeCourseComponents = (displayComponents = false, Component?: any, props?: any) => {\n  if (displayComponents) {\n    return <Component {...props} />;\n  }\n  return <MainCircleLoader />;\n};\n\nexport const PrivateRoute = ({\n  component: Component,\n  componentNoAccess: ComponentNoAccess,\n  typeAccess,\n  materialType,\n  isCourseProgressRestoreFetched,\n  isCourseProgressRestoreFailed,\n  courseAccessLimited,\n  isLoaderVisible,\n  reviewMode,\n  previewMode,\n  ...rest\n}: PrivateRouteProps) => (\n  <Route\n    {...rest}\n    render={props => {\n      if (typeAccess === IS_NO_ACCESS && !isLoaderVisible) {\n        return <ComponentNoAccess {...props} />;\n      }\n      if (typeAccess === IS_NOT_AUTHORIZED) {\n        return <Redirect to={LOGIN_PATH} />;\n      }\n      if (materialType === MATERIAL_TYPES.COURSE) {\n        return materialTypeCourseComponents(\n          courseAccessLimited ||\n            reviewMode ||\n            previewMode ||\n            isCourseProgressRestoreFetched ||\n            isCourseProgressRestoreFailed,\n          Component,\n          props\n        );\n      }\n      if (!isLoaderVisible) {\n        return <Component {...props} />;\n      }\n      return <></>;\n    }}\n  />\n);\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    isCourseProgressRestoreFetched: isProgressRestoreFetched(state),\n    isCourseProgressRestoreFailed: isProgressRestoreFailed(state),\n    courseAccessLimited: isCourseAccessLimited(state),\n    isLoaderVisible: isLoaderVisibility(state),\n    reviewMode: isReviewMode(state),\n    previewMode: isPreviewMode(state)\n  };\n}\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport progressStorage from 'core/progressStorage';\nimport { INDEX_PATH, LOGIN_PATH, SIGNUP_PATH } from 'constants/navigation';\nimport { RootAppState } from 'store/types';\nimport { isLoaderVisibility } from 'store/loader/selectors';\nimport { shouldSaveCrossDevice } from 'store/user/selectors';\n\ntype RouteWithRedirectProps = {\n  component: any;\n  shouldRedirect: boolean;\n  isLoaderVisible?: boolean;\n  history?: { [key: string]: any };\n  exact: any;\n  path: any;\n  saveCrossDevice?: boolean;\n};\nexport const RouteWithRedirect = ({\n  component: Component,\n  shouldRedirect,\n  isLoaderVisible,\n  saveCrossDevice,\n  ...rest\n}: RouteWithRedirectProps) => (\n  <Route\n    {...rest}\n    render={props => {\n      const routeTo = progressStorage.url || INDEX_PATH;\n      const canRedirect = props.history.location.pathname !== routeTo;\n      const isSignUpPage = props.history.location.pathname === SIGNUP_PATH;\n\n      if (!saveCrossDevice && isSignUpPage) {\n        return <Redirect to={LOGIN_PATH} />;\n      }\n\n      if (shouldRedirect && canRedirect) {\n        return <Redirect to={routeTo} />;\n      }\n\n      if (!isLoaderVisible) {\n        return <Component {...props} />;\n      }\n      return <></>;\n    }}\n  />\n);\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    isLoaderVisible: isLoaderVisibility(state),\n    saveCrossDevice: shouldSaveCrossDevice(state)\n  };\n}\nexport default connect(mapStateToProps)(RouteWithRedirect);\n","import styled from 'styled-components';\nimport { shake } from 'components/mixins/interactivity';\n\ntype TooltipContentProps = {\n  templateTheme: any;\n};\nexport const TooltipContentWrapper = styled.div.attrs({\n  'data-test': 'tooltip-wrapper'\n})<TooltipContentProps>`\n  padding: 5px 7px 7px;\n  background: ${(props: any) => props.templateTheme.colors.contentBodyColor};\n  outline: none;\n\n  &.dropdown-theme,\n  &.status-theme {\n    padding: 0;\n  }\n  .dropdown-theme & {\n    pointer-events: all;\n  }\n\n  .tippy-popper[x-placement^='bottom'] .hint-popover-theme &,\n  .tippy-popper[x-placement^='top'] .hint-popover-theme & {\n    ${shake('vertical')}\n  }\n\n  .tippy-popper[x-placement^='left'] .hint-popover-theme &,\n  .tippy-popper[x-placement^='right'] .hint-popover-theme & {\n    ${shake('horizontal')}\n  }\n`;\n\nexport const TooltipContentArrow = styled.div.attrs({\n  'x-arrow': 'true'\n})<TooltipContentProps>`\n  .tippy-popper[x-placement^='top'] .tippy-tooltip ${TooltipContentWrapper} &[x-arrow] {\n    border-top-color: ${(props: any) => props.templateTheme.colors.contentBodyColor};\n  }\n\n  .tippy-popper[x-placement^='bottom'] .tippy-tooltip ${TooltipContentWrapper} &[x-arrow] {\n    border-bottom-color: ${(props: any) => props.templateTheme.colors.contentBodyColor};\n  }\n\n  .tippy-popper[x-placement^='left'] .tippy-tooltip ${TooltipContentWrapper} &[x-arrow] {\n    border-left-color: ${(props: any) => props.templateTheme.colors.contentBodyColor};\n  }\n\n  .tippy-popper[x-placement^='right'] .tippy-tooltip ${TooltipContentWrapper} &[x-arrow] {\n    border-right-color: ${(props: any) => props.templateTheme.colors.contentBodyColor};\n  }\n`;\n","import * as React from 'react';\nimport { isTouchScreenDevice } from 'utils/window';\nimport { withTheme } from 'styled-components';\nimport { Tooltip, TooltipProps } from 'react-tippy';\nimport 'react-tippy/dist/tippy.css';\nimport './Tooltip.css';\nimport { TooltipContentWrapper, TooltipContentArrow } from './Tooltip.styled';\n\ninterface TooltipElementProps extends TooltipProps {\n  classNames?: string;\n  children: React.ReactChild;\n  tooltipTheme?: 'dark' | 'light' | 'transparent';\n  templateTheme?: { [key: string]: any };\n}\n\nconst TooltipElement = ({ ...props }: TooltipElementProps) => {\n  const newProps: TooltipElementProps = props;\n  newProps.html = (\n    <TooltipContentWrapper\n      className={newProps.classNames}\n      templateTheme={newProps.theme}\n      onMouseUp={e => e.stopPropagation()}\n    >\n      {props.html}\n      {props.arrow && <TooltipContentArrow templateTheme={newProps.theme} />}\n    </TooltipContentWrapper>\n  );\n  newProps.arrow = false;\n  return (\n    <Tooltip {...newProps} theme={newProps.tooltipTheme}>\n      {newProps.children}\n    </Tooltip>\n  );\n};\n\nTooltipElement.defaultProps = {\n  popperOptions: {\n    modifiers: {\n      preventOverflow: {\n        boundariesElement: 'viewport'\n      },\n      computeStyle: { gpuAcceleration: false }\n    },\n    positionFixed: isTouchScreenDevice()\n  },\n  useContext: true,\n  stickyDuration: 0,\n  tooltipTheme: 'light',\n  animateFill: false,\n  arrow: false\n};\n\nexport default withTheme(TooltipElement);\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\n\ntype LogoProps = {\n  altText: string;\n  logoUrl: string;\n}\nexport const Logo = styled.img.attrs((props: LogoProps) => ({\n  alt: props.altText,\n  src: props.logoUrl\n})) <LogoProps>`\n  display: block;\n  margin-top: 24px;\n  margin-bottom: 35px;\n  max-width: 200px;\n  max-height: 80px;\n\n  ${media.mobile`\n    max-width: 160px;\n    max-height: 60px;\n    margin-left: 10px;\n  `};\n`;\n\nexport default Logo;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport Logo from './CourseLogo.styled';\n\ntype CourseLogoProps = {\n  logoUrl: string\n};\nconst CourseLogo = (props: CourseLogoProps) => <Logo altText={localize('[alt logo login]')} logoUrl={props.logoUrl} />;\n\nexport default CourseLogo;\n","export { default as Button } from './Button';\nexport { default as CircleLoader } from './CircleLoader';\nexport { default as Collapse } from './Collapse';\nexport { default as CssAnimation } from './CssAnimation';\nexport { default as Delay } from './Delay';\nexport { default as DragDrop } from './DragDrop';\nexport { default as Icon } from './Icon';\nexport { default as Loader } from './Loader';\nexport { default as MultipleChoiceItems } from './MultipleChoiceItems';\nexport { default as NumericList } from './NumericList';\nexport { default as Popup } from './Popup';\nexport { default as ProgressBar } from './ProgressBar';\nexport { default as ProgressResult } from './ProgressResult';\nexport { default as Separator } from './Separator';\nexport { default as ShapedIcon } from './ShapedIcon';\nexport { default as SwitchButton } from './SwitchButton';\nexport { default as Text } from './Text';\nexport { default as Link } from './Link';\nexport { default as TextInput } from './TextInput';\nexport { default as DropdownInput } from './DropdownInput';\nexport { default as StatusTooltip } from './StatusTooltip';\nexport { default as PrivateRoute } from './Routes/PrivateRoute';\nexport { default as RouteWithRedirect } from './Routes/RouteWithRedirect';\nexport { default as EditableTextarea } from './EditableTextarea';\nexport { default as Tooltip } from './Tooltip';\nexport { default as CourseLogo } from './CourseLogo';\nexport { default as Hint } from './Hint';\nexport { default as PdfDocument } from './embeddables/PdfDocument';\nexport { default as SkipToContent } from './SkipToContent';\n","import React, { Component } from 'react';\nimport { SIZES, SWITCH_BUTTON_LAYOUT } from 'constants/components';\nimport CircleLoader from 'components/common/CircleLoader';\nimport {\n  ButtonElement,\n  TextElement,\n  CheckIcon,\n  CheckImageIcon,\n  ButtonWrapper,\n  AnswerImage\n} from './SwitchButton.styled';\n\ninterface Sizes {\n  [SIZES.SMALL]: string;\n  [SIZES.MEDIUM]: string;\n}\n\ntype SwitchButtonProps = {\n  multiple: boolean;\n  selected: boolean;\n  type?: string;\n  text?: string;\n  imageUrl?: string;\n  onClick(e?: any): void;\n  size: keyof Sizes;\n  onKeyDown(e?: any): void;\n  ariaDisabled?: boolean;\n  altAnswerImage?: string;\n  tabIndex: number;\n  layout?: string;\n  id?: string\n};\n\ntype SwitchButtonState = {\n  isImageLoaded: boolean;\n}\n\nexport class SwitchButton extends Component<SwitchButtonProps, SwitchButtonState> {\n  constructor(props: SwitchButtonProps) {\n    super(props);\n    this.state = { isImageLoaded: false };\n  }\n  static defaultProps = {\n    size: SIZES.MEDIUM\n  };\n\n  handleImageLoaded = () => {\n    this.setState({ isImageLoaded: true });\n  };\n\n  render() {\n    const {\n      onClick,\n      onKeyDown,\n      text,\n      selected,\n      multiple,\n      imageUrl,\n      ariaDisabled = false,\n      altAnswerImage,\n      tabIndex,\n      size,\n      layout = SWITCH_BUTTON_LAYOUT.QUESTION,\n      id\n    } = this.props;\n    const { isImageLoaded } = this.state;\n    return (\n      <ButtonWrapper\n        selected={selected}\n        imageUrl={imageUrl}\n        onClick={onClick}\n        onKeyDown={onKeyDown}\n        ariaDisabled={ariaDisabled}\n        roleValue={multiple ? 'checkbox' : 'radio'}\n        ariaChecked={selected}\n        tabIndex={tabIndex}\n        layout={layout}\n      >\n        {imageUrl && !isImageLoaded && <CircleLoader />}\n        {imageUrl && (\n          <AnswerImage\n            alt={altAnswerImage}\n            src={`${imageUrl}?height=260&amp;width=260&amp;scaleBySmallerSide=true`}\n            onLoad={() => this.handleImageLoaded()}\n          />\n        )}\n        <ButtonElement\n          size={size}\n          imageUrl={imageUrl}\n          multiple={multiple}\n          selected={selected}\n          className=\"show-on-hover\"\n          layout={layout}\n          id={id}\n        >\n          <CheckIcon size={9} name=\"ok\" />\n          {imageUrl && <CheckImageIcon size={60} name=\"check-mark\" />}\n        </ButtonElement>\n        {text && (\n          <TextElement appearance=\"p\" selected={selected}>\n            {text}\n          </TextElement>\n        )}\n      </ButtonWrapper>\n    );\n  }\n}\n\nexport default SwitchButton;\n","export { default } from './SwitchButton';\n","import * as React from 'react';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport EditableContentWrapper from './EditableTextarea.styled';\n\ntype EditableTextareaProps = {\n  defaultValue?: string;\n  onResize?(e?: any): void;\n  disabled?: boolean;\n  placeholder: string;\n  onBlur?(e?: any): void;\n  onChange(e?: any): void;\n  tabIndex: number;\n  rows: number;\n  isAutofocus: boolean;\n};\n\nexport class EditableTextarea extends React.PureComponent<EditableTextareaProps, {}> {\n  textAreaNode: any;\n  constructor(props: EditableTextareaProps) {\n    super(props);\n    this.textAreaNode = React.createRef()\n  }\n\n  static defaultProps = {\n    onResize: () => { },\n    tabIndex: 0,\n    defaultValue: '',\n    rows: 3,\n    isAutofocus: false\n  };\n\n  componentDidMount() {\n    if (this.props.isAutofocus) {\n      this.textAreaNode.current.focus();\n    }\n  }\n\n  render() {\n    const {\n      placeholder,\n      onResize,\n      onBlur,\n      onChange,\n      defaultValue,\n      disabled,\n      tabIndex,\n      rows\n    } = this.props;\n    return (\n      <EditableContentWrapper>\n        <TextareaAutosize\n          placeholder={placeholder}\n          onResize={onResize}\n          rows={rows}\n          onChange={onChange}\n          onBlur={onBlur}\n          defaultValue={defaultValue}\n          disabled={disabled}\n          tabIndex={tabIndex}\n          ref={this.textAreaNode}\n        />\n      </EditableContentWrapper>\n    );\n  }\n}\n\nexport default EditableTextarea;\n","export { default } from './EditableTextarea';\n","import React from 'react';\nimport { withTheme } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { localize } from 'core/localization';\nimport { Figure } from './Figure.styled';\n\ntype TrophyProps = {\n  theme: { [key: string]: any };\n};\nexport const Trophy = (props: TrophyProps) => (\n  <Figure\n    width=\"260px\"\n    height=\"141px\"\n    viewBox=\"0 0 260 141\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    role=\"img\"\n    arialabel={`${localize('[aria label trophy]')}`}\n  >\n    <title>5F3B7156-1795-4431-B359-0884AE1D4E74</title>\n    <desc>Created with sketchtool.</desc>\n    <defs>\n      <filter\n        x=\"0.0%\"\n        y=\"0.0%\"\n        width=\"100.0%\"\n        height=\"100.0%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"filter-1\"\n      >\n        <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\" />\n      </filter>\n      <filter\n        x=\"0.0%\"\n        y=\"0.0%\"\n        width=\"100.0%\"\n        height=\"100.0%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"filter-2\"\n      >\n        <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\" />\n      </filter>\n    </defs>\n    <g\n      id=\"styles-simple-course\"\n      stroke=\"none\"\n      strokeWidth=\"1\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      transform=\"translate(-62.000000, -562.000000)\"\n    >\n      <g id=\"Group-7\" transform=\"translate(62.000000, 561.000000)\">\n        <g id=\"Group-4\" transform=\"translate(0.000000, 32.000000)\">\n          <path\n            d=\"M74.4791667,8.42331288 L20.9852982,8.42331288 C20.9852982,8.42331288 11.6071429,9.43488193 11.6071429,16.8895706 C11.6071429,24.3442592 \n            20.9852982,25.3558282 20.9852982,25.3558282 L52.8125,25.4163015 C52.8125,25.4163015 60.2604167,26.8676599 60.2604167,33.398773 \n            C60.2604167,39.9298861 52.8125,41.8650307 52.8125,41.8650307 L36.3690476,41.8650307 C36.3690476,41.8650307 23.0208333,42.6797948 \n            23.0208333,50.7546012 C23.0208333,58.8294077 36.3690476,60.0674847 36.3690476,60.0674847 L9.47916667,60.0674847 C9.47916667,60.0674847 \n            5.06725961e-16,61.7002629 0,68.4732691 C0,75.2462752 9.47916667,77 9.47916667,77 L217.344853,77 C217.344853,77 229.047619,75.6695881 \n            229.047619,68.4732691 C229.047619,61.27695 217.344853,60.0674847 217.344853,60.0674847 L197.020332,60.0674847 C197.020332,60.0674847\n             185.152433,59.3602005 184.940476,52.0245399 C184.728519,44.6888793 197.020332,43.3163891 197.020332,43.3163891 L220.606061,42.5 \n             C220.606061,42.5 232.916667,44.3142786 232.916667,34.1244522 C232.916667,23.9346259 221.590909,25.3558282 221.590909,25.3558282 \n             L249.84375,25.4163015 C249.84375,25.4163015 260,24.8060045 260,16.8895706 C260,8.97313658 249.84375,8 249.84375,8 L74.4791667,8.42331288 Z\"\n            id=\"Path-8\"\n            fill={props.theme.colors.textColor}\n            opacity=\"0.0199999996\"\n            filter=\"url(#filter-1)\"\n          />\n          <path\n            d=\"M131.399036,59.8785113 C131.087648,59.9948139 130.698414,60.1097949 130.555914,60.095257 C130.503137,60.0873273 130.455637,60.0820408 \n            130.406817,60.0820408 C130.364595,60.0820408 130.322373,60.0860057 130.277512,60.0926138 C130.167999,60.1177246 129.728626,59.9961355 \n            129.302447,59.841506 C106.800726,54.5114114 103.835946,7.91768911 103.511364,0.681818182 L157.30491,0.681818182 C157.278521,1.28447702 \n            157.229702,2.1831788 157.155814,3.2854101 C157.124147,3.3766019 157.108314,3.47308017 157.106994,3.57220169 L157.104355,4.03212555 \n            C156.174151,16.9655014 151.719723,55.055919 131.399036,59.8785113 Z\"\n            id=\"Path-Copy\"\n            fill={props.theme.colors.contentBodyColor}\n          />\n          <rect\n            id=\"Rectangle\"\n            fill={props.theme.colors.contentBodyColor}\n            x=\"110.465909\"\n            y=\"69.3579545\"\n            width=\"39.9886364\"\n            height=\"17.3863636\"\n          />\n          <rect\n            id=\"Rectangle-Copy\"\n            fill={props.theme.colors.contentBodyColor}\n            x=\"121.767045\"\n            y=\"58.9261364\"\n            width=\"17.3863636\"\n            height=\"10.4318182\"\n          />\n          <path\n            d=\"M159.188936,5.14909233 L159.19423,4.38312687 C161.424545,3.82654296 163.484111,4.05315212 165.323956,5.06295435 C169.503976,7.36085074 \n            170.213441,12.643097 170.324626,14.8071482 L170.324626,14.805823 C170.863343,25.3093564 163.709128,35.0813795 152.695212,39.257084 \n            C152.991705,38.4434113 153.224664,37.6310638 153.466888,36.7935376 C153.856035,35.443159 154.258418,34.0503741 154.971854,32.4866383 \n            C160.152537,29.5499957 163.34116,24.4691798 164.200195,17.7729453 C164.47948,15.6022681 164.619785,11.76714 162.426532,10.460493 \n            C161.494697,9.9065595 160.361671,9.93306349 159.045984,10.5386798 C159.171728,8.72845691 159.180994,6.91690882 159.188936,5.14909233 Z\"\n            id=\"Path-Copy-3\"\n            fill={props.theme.colors.contentBodyColor}\n          />\n          <path\n            d=\"M90.5958378,14.805823 C90.7070226,12.643097 91.4164877,7.36085074 95.5965078,5.06295435 C97.4350284,4.05182692 99.4932713,3.82389256 \n            101.726233,4.38312687 L101.730204,5.13451513 C101.73947,6.90763242 101.747411,8.72448131 101.873156,10.540005 C100.556145,9.93438869 \n            99.423119,9.9092099 98.4912843,10.4618182 C96.2980311,11.7684652 96.4383358,15.6035933 96.7176215,17.7742705 C97.5779803,24.4705049 \n            100.767926,29.5499957 105.945962,32.4879635 C106.660722,34.0503741 107.061782,35.4458094 107.452252,36.796188 C107.693153,37.632389 \n            107.927435,38.4447365 108.222604,39.2584092 C97.2113351,35.0813795 90.0571208,25.3093564 90.5958378,14.805823 Z\"\n            id=\"Path-Copy-2\"\n            fill={props.theme.colors.contentBodyColor}\n          />\n        </g>\n        <g id=\"Group\" transform=\"translate(88.732955, 0.943182)\">\n          <path\n            d=\"M26.1460122,114.870488 L56.9219375,114.870488 C57.4272828,114.870488 57.8376285,114.460786 57.8376285,113.954606 C57.8376285,113.922887 \n            57.8389479,110.758928 57.9181143,108.764603 C57.9379059,108.258422 57.5447129,107.831539 57.040687,107.811715 C56.5551333,107.786604 \n            56.1104822,108.185733 56.0906906,108.690592 C56.0365936,110.049218 56.0181215,111.931205 56.0115243,113.037401 L27.0603838,113.037401 \n            L27.0603838,104.25127 L40.5344995,104.417794 C40.9963033,104.427045 41.4541488,104.018664 41.460746,103.512484 C41.4673432,103.006303 \n            41.0622752,102.591314 40.5569299,102.584706 L26.1565677,102.407609 C25.8794854,102.407609 25.6762918,102.500123 25.5021258,102.670612 \n            C25.3279598,102.842422 25.2303212,103.077671 25.2303212,103.323492 L25.2303212,113.954606 C25.2303212,114.460786 25.6393475,114.870488 \n            26.1460122,114.870488 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n          />\n          <path\n            d=\"M62.6081852,72.9099685 C62.7458426,72.8357573 62.8689401,72.7363673 62.9589469,72.6117985 C75.6472537,68.5421101 84.0311193,57.5972852 \n            83.4235736,45.7698772 L83.4235736,45.768552 C83.1548769,40.5459398 80.9867727,36.4417961 77.4738616,34.5096548 C75.3719389,33.3527554 \n            73.0569119,33.0320571 70.5790786,33.5369582 C70.6730562,31.9175641 70.6982052,30.975347 70.6982052,30.9395666 C70.7034997,30.6917543 \n            70.609522,30.4532183 70.4374503,30.2756416 C70.2653785,30.09939 70.0284489,30 69.7809303,30 L13.9105536,30 C13.663035,30 13.4274291,30.09939 \n            13.2540337,30.2756416 C13.0806383,30.4518931 12.9866606,30.6917543 12.9932788,30.9395666 C12.9946024,30.975347 13.0184277,31.9361169 \n            13.1150526,33.582015 C10.5472125,33.0082035 8.15276783,33.3156498 5.98069277,34.5096548 C2.46778162,36.4417961 0.299677451,40.5459398 \n            0.0309807807,45.768552 L0.0309807807,45.7698772 C-0.576564893,57.5986104 7.80465342,68.5407849 20.4956075,72.6117985 C20.6425303,72.8119037 \n            20.8741654,72.9417733 21.1190367,72.9947813 C24.1474997,80.2992824 27.8854278,85.6650163 32.2931121,89.0668041 L32.2931121,98.4346412 \n            L20.4850185,98.4346412 C19.9780686,98.4346412 19.5677436,98.8454531 19.5677436,99.3530047 L19.5677436,118.621409 C19.5677436,119.128961 \n            19.9780686,119.539773 20.4850185,119.539773 L62.9695359,119.539773 C63.4764858,119.539773 63.8881344,119.128961 63.8881344,118.621409 \n            L63.8881344,99.3530047 C63.8881344,98.8454531 63.4778094,98.4346412 62.9695359,98.4346412 L51.1627659,98.4346412 L51.1627659,89.2351044 \n            C55.7014895,85.8187394 59.5254535,80.3655424 62.6081852,72.9099685 Z M70.4559811,36.2059105 L70.4612756,35.439945 C72.6915903,34.8833611 \n            74.7511569,35.1099703 76.5910011,36.1197725 C80.7710212,38.4176689 81.4804863,43.6999152 81.5916712,45.8639664 L81.5916712,45.8626412 \n            C82.1303881,56.3661746 74.9761738,66.1381977 63.9622576,70.3139021 C64.2587505,69.5002295 64.4917092,68.687882 64.7339332,67.8503558 \n            C65.1230802,66.4999772 65.5254633,65.1071923 66.2388993,63.5434565 C71.4195829,60.6068138 74.608205,55.5259979 75.4672402,48.8297635 \n            C75.7465259,46.6590863 75.8868305,42.8239582 73.6935774,41.5173112 C72.7617426,40.9633777 71.6287163,40.9898817 70.3130291,41.595498 \n            C70.4387739,39.7852751 70.4480393,37.973727 70.4559811,36.2059105 Z M69.767694,44.0550687 C71.1045592,43.0876729 72.164786,42.7470966 \n            72.7551245,43.0995997 C73.6432795,43.6283544 74.0006593,45.8374624 73.6472504,48.5978535 C72.9152836,54.2922369 70.4692174,58.5342014 \n            66.4030293,61.2601373 C66.5578939,60.6571714 66.7193766,60.0701079 66.8676231,59.4499144 C68.166103,54.040449 69.0277855,48.7078451 \n            69.5995932,44.1451823 C69.6565092,44.1173531 69.7147489,44.0934995 69.767694,44.0550687 Z M13.6868603,44.0537435 C13.8112815,44.1438571 \n            13.955557,44.1915643 14.1011562,44.2114423 C14.6716403,48.7595279 15.5319991,54.0643026 16.8225373,59.447264 C16.9866672,60.1284167 \n            17.1627099,60.773789 17.333458,61.4350637 C13.1004927,58.7184042 10.5564779,54.4194561 9.80730398,48.5965283 C9.45257143,45.8374624 \n            9.8125985,43.6270292 10.6994299,43.0982745 C11.2857975,42.7457714 12.3486715,43.0863477 13.6868603,44.0537435 Z M1.86288321,45.8626412 \n            C1.97406803,43.6999152 2.68353314,38.4176689 6.86355326,36.1197725 C8.70207383,35.1086451 10.7603168,34.8807107 12.9932788,35.439945 \n            L12.9972497,36.1913333 C13.0065151,37.9644506 13.0144569,39.7812995 13.1402016,41.5968232 C11.8231908,40.9912069 10.6901645,40.9660281 \n            9.75832971,41.5186364 C7.56507659,42.8252834 7.70538126,46.6604115 7.98466696,48.8310887 C8.84502575,55.5273231 12.0349715,60.6068138 \n            17.2130078,63.5447817 C17.9277674,65.1071923 18.328827,66.5026276 18.7192975,67.8530062 C18.960198,68.6892072 19.1944803,69.5015547 \n            19.4896495,70.3152273 C8.47838054,66.1381977 1.32416623,56.3661746 1.86288321,45.8626412 Z M62.0509374,100.271368 L62.0509374,117.701721 \n            L21.4022933,117.701721 L21.4022933,100.271368 L62.0509374,100.271368 L62.0509374,100.271368 Z M49.3242454,98.4346412 L34.1276617,98.4346412 \n            L34.1276617,90.3482722 C36.0389819,91.540952 38.0601633,92.4063075 40.1991476,92.9112086 C40.5088768,93.0304766 41.2620216,93.2769637 \n            41.8444183,93.2425085 C41.8867745,93.2451589 41.9317779,93.2478093 41.9754576,93.2478093 C42.5406472,93.2478093 43.1865781,93.026501 \n            43.3745334,92.946989 C45.469838,92.4513643 47.4513104,91.6244396 49.3242454,90.4847678 L49.3242454,98.4346412 Z M42.8397873,91.1924245 \n            C42.5274109,91.3090421 42.1369403,91.4243344 41.9939884,91.4097573 C41.9410433,91.4018061 41.8933926,91.3965053 41.8444183,91.3965053 \n            C41.8020622,91.3965053 41.7597061,91.4004809 41.7147027,91.4071069 C41.6048415,91.4322856 41.1640731,91.3103673 40.7365409,91.1553189 \n            C18.1633733,85.8107882 15.1891792,39.0908704 14.8635665,31.8354017 L68.8279175,31.8354017 C68.8014449,32.4396928 68.7524706,33.3408286 \n            68.6783474,34.4460452 C68.6465803,34.537484 68.6306968,34.6342236 68.6293732,34.7336136 L68.6267259,35.1947831 C67.6935675,48.163188 \n            63.2249963,86.3567705 42.8397873,91.1924245 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n          />\n          <ellipse\n            id=\"Oval-3\"\n            stroke={props.theme.colors.correctColor}\n            strokeWidth=\"0.866666667\"\n            fill={transparentize(props.theme.colors.correctColor, 0.06)}\n            cx=\"41.7272727\"\n            cy=\"57.0040584\"\n            rx=\"10.6086287\"\n            ry=\"10.6594968\"\n          />\n          <path\n            d=\"M43.5872704,5.21607097 C43.2302767,5.58188202 43.0673096,6.10896171 43.151669,6.62569333 L43.5481583,9.05681818 L41.4717662,7.90898859 \n            C41.2512813,7.78696198 41.0090675,7.72621746 40.7669815,7.72621746 C40.5248956,7.72621746 40.2828096,7.78723076 40.0621969,7.90898859 \n            L37.9858048,9.05681818 L38.3822941,6.62569333 C38.4666535,6.1090961 38.3036864,5.58201641 37.9466927,5.21607097 L36.2670455,3.49452817 \n            L38.5884634,3.13973714 C39.0817104,3.06447844 39.5082367,2.73858139 39.7288494,2.26861767 L40.7671094,0.0568181818 L41.8052415,2.26861767 \n            C42.025982,2.73858139 42.4522527,3.06434405 42.9456275,3.13973714 L45.2670455,3.49452817 L43.5872704,5.21607097 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n          />\n          <path\n            d=\"M8.58727041,14.216071 C8.23027668,14.581882 8.06730961,15.1089617 8.15166903,15.6256933 L8.54815832,18.0568182 L6.47176617,16.9089886 \n            C6.25128132,16.786962 6.00906752,16.7262175 5.76698155,16.7262175 C5.52489557,16.7262175 5.28280959,16.7872308 5.06219692,16.9089886 \n            L2.98580477,18.0568182 L3.38229406,15.6256933 C3.46665348,15.1090961 3.30368642,14.5820164 2.94669268,14.216071 L1.26704545,12.4945282 \n            L3.58846337,12.1397371 C4.08171036,12.0644784 4.50823671,11.7385814 4.72884938,11.2686177 L5.76710936,9.05681818 L6.80524153,11.2686177 \n            C7.02598201,11.7385814 7.45225273,12.0643441 7.94562753,12.1397371 L10.2670455,12.4945282 L8.58727041,14.216071 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n            transform=\"translate(5.767045, 13.556818) rotate(-15.000000) translate(-5.767045, -13.556818) \"\n          />\n          <path\n            d=\"M77.5872704,14.216071 C77.2302767,14.581882 77.0673096,15.1089617 77.151669,15.6256933 L77.5481583,18.0568182 L75.4717662,16.9089886 \n            C75.2512813,16.786962 75.0090675,16.7262175 74.7669815,16.7262175 C74.5248956,16.7262175 74.2828096,16.7872308 74.0621969,16.9089886 \n            L71.9858048,18.0568182 L72.3822941,15.6256933 C72.4666535,15.1090961 72.3036864,14.5820164 71.9466927,14.216071 L70.2670455,12.4945282 \n            L72.5884634,12.1397371 C73.0817104,12.0644784 73.5082367,11.7385814 73.7288494,11.2686177 L74.7671094,9.05681818 L75.8052415,11.2686177 \n            C76.025982,11.7385814 76.4522527,12.0643441 76.9456275,12.1397371 L79.2670455,12.4945282 L77.5872704,14.216071 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n            transform=\"translate(74.767045, 13.556818) scale(-1, 1) rotate(-15.000000) translate(-74.767045, -13.556818) \"\n          />\n          <ellipse\n            id=\"Oval-6\"\n            fill={props.theme.colors.textColor}\n            opacity=\"0.100000001\"\n            filter=\"url(#filter-2)\"\n            cx=\"41.2670455\"\n            cy=\"137.556818\"\n            rx=\"26\"\n            ry=\"3.5\"\n          />\n          <path\n            d=\"M44.4006287,57.7893213 C44.003969,58.195778 43.8228945,58.7814221 43.9166272,59.3555683 L44.3571709,62.0568182 L42.0500685,60.781452 \n            C41.8050853,60.6458668 41.5359589,60.5783729 41.2669744,60.5783729 C40.99799,60.5783729 40.7290056,60.6461655 40.4838804,60.781452 \n            L38.176778,62.0568182 L38.6173217,59.3555683 C38.7110544,58.7815714 38.5299799,58.1959273 38.1333201,57.7893213 L36.2670455,55.8764959 \n            L38.8463987,55.4822837 C39.3944509,55.3986629 39.8683691,55.0365551 40.1134943,54.5143732 L41.2671165,52.0568182 L42.4205966,54.5143732 \n            C42.6658639,55.0365551 43.139498,55.3985136 43.6876922,55.4822837 L46.2670455,55.8764959 L44.4006287,57.7893213 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n            transform=\"translate(0.5, -0.4)\"\n          />\n        </g>\n      </g>\n    </g>\n  </Figure>\n);\n\nexport default withTheme(Trophy);\n","import styled from 'styled-components';\nimport Icon from 'components/common/Icon';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\n\nexport const BottomLine = styled.div`\n  width: 60%;\n  height: 2px;\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.08)};\n  margin: 160px auto 0;\n  ${media.mobile`\n  margin: 80px auto 80px;\n  `};\n`;\n\ntype PopupWrapperProps = {\n  ariaModal: any;\n  role: string;\n  tabIndex: number;\n};\nexport const PopupWrapper = styled.div.attrs((props: PopupWrapperProps) => ({\n  'aria-modal': props.ariaModal,\n  'aria-label': props.ariaModal,\n  tabIndex: props.tabIndex,\n  role: props.role\n}))<PopupWrapperProps>`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 20px;\n  background: ${props => transparentize(props.theme.colors.contentBodyColor, 0.98)};\n  z-index: 200;\n  overflow: auto;\n`;\n\nexport const PopupContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-height: max-content;\n  height: 100%;\n`;\n\ntype PopupOverlayProps = {\n  tabIndex: number;\n  role: string;\n};\nexport const PopupOverlay = styled.div.attrs((props: PopupOverlayProps) => ({\n  tabIndex: props.tabIndex,\n  role: props.role\n}))<PopupOverlayProps>`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\ntype CloseBtnWrapperProps = {\n  tabIndex: number;\n  ariaLabel: string;\n};\nexport const CloseBtnWrapper = styled.button.attrs((props: CloseBtnWrapperProps) => ({\n  tabIndex: props.tabIndex,\n  'aria-label': props.ariaLabel\n}))<CloseBtnWrapperProps>`\n  ${buttonDefaultStyle};\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  color: ${props => transparentize(props.theme.colors.textColor)};\n  text-align: center;\n  opacity: 0.4;\n  transition: opacity 0.2s linear;\n  cursor: pointer;\n  z-index: 2;\n\n  &:hover {\n    opacity: 1;\n  }\n  &:focus {\n    outline: 1px solid black;\n    background: none;\n  }\n  &:focus:not(:focus-visible) {\n    outline: none;\n  }\n`;\n\ntype CloseBtnIconProps = {\n  size: number;\n  name: string;\n};\nexport const CloseBtnIcon = styled(Icon)<CloseBtnIconProps>`\n  color: ${props => transparentize(props.theme.colors.textColor)};\n`;\n\nexport const CloseBtnText = styled(Icon)`\n  display: block;\n  color: ${props => transparentize(props.theme.colors.textColor)};\n  padding-top: 6px;\n  ${media.medium`\n    display: none;\n  `};\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport * as actions from 'store/popup/actions';\nimport { getPopupSettings } from 'store/popup/selectors';\nimport { localize } from 'core/localization';\nimport {\n  PopupWrapper,\n  PopupContent,\n  PopupOverlay,\n  CloseBtnWrapper,\n  CloseBtnIcon,\n  CloseBtnText,\n  BottomLine\n} from './Popup.styled';\nimport { RootAppState } from 'store/types';\n\ntype PopupContainerProps = {\n  popupSettings: { [key: string]: any };\n  actions: { [key: string]: any };\n};\nexport class PopupContainer extends React.Component<PopupContainerProps, {}> {\n  containerElement: any;\n  focusedElementBeforeDialogOpened: any;\n  constructor(props: PopupContainerProps) {\n    super(props);\n    this.containerElement = React.createRef();\n    this.focusedElementBeforeDialogOpened = null;\n  }\n\n  handleKeyDown = (evt: any) => {\n    const { disablePopupClosing } = this.props.popupSettings;\n    if (!disablePopupClosing && (evt.key === 'Escape' || evt.keyCode === 27)) {\n      this.closePopup();\n    }\n  };\n\n  componentDidMount() {\n    this.focusedElementBeforeDialogOpened = document.activeElement;\n\n    const { popupId } = this.props.popupSettings;\n\n    const element = document.getElementById(popupId);\n    if (element) {\n      setTimeout(() => element.focus(), 0);\n    }\n\n    window.addEventListener('keyup', this.preventActions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keyup', this.preventActions);\n  }\n\n  preventActions = (event: any) => {\n    if (event.key === 'Tab' || event.keyCode === 9) {\n      const popupContainer: any = document.getElementById(this.props.popupSettings.popupId);\n      const isElementInPopup = popupContainer.contains(event.target);\n      if (!isElementInPopup) {\n        popupContainer.focus();\n      }\n    }\n  };\n\n  closePopup = () => {\n    this.props.actions.closePopup();\n    if (this.focusedElementBeforeDialogOpened) {\n      this.focusedElementBeforeDialogOpened.focus();\n    }\n  };\n\n  render() {\n    const {\n      popupId,\n      popupAriaLabelKey,\n      disablePopupClosing,\n      enableClosePopupByTap,\n      disableBottomLine,\n      component: ComponentToRender\n    } = this.props.popupSettings;\n    return (\n      <PopupWrapper\n        ref={this.containerElement}\n        id={popupId}\n        role=\"dialog\"\n        ariaModal={true}\n        aria-label={localize(popupAriaLabelKey)}\n        tabIndex={-1}\n        onKeyDown={event => this.handleKeyDown(event)}\n      >\n        {disablePopupClosing && enableClosePopupByTap && (\n          <PopupOverlay role=\"presentation\" tabIndex={-1} onClick={() => this.closePopup()} />\n        )}\n        <PopupContent>\n          {!disablePopupClosing && (\n            <CloseBtnWrapper\n              tabIndex={0}\n              ariaLabel={localize('[close popup]')}\n              onClick={() => this.closePopup()}\n            >\n              <CloseBtnIcon size={30} name=\"close-popup\" />\n              <CloseBtnText size={9} name=\"esc\" />\n            </CloseBtnWrapper>\n          )}\n          <ComponentToRender {...this.props} closePopup={this.closePopup} />\n          {!disableBottomLine && <BottomLine />}\n        </PopupContent>\n      </PopupWrapper>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    popupSettings: getPopupSettings(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return { actions: bindActionCreators(actions, dispatch) };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PopupContainer);\n","export { default } from './Popup';\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\n\nexport const ListCounter = styled.ul`\n  line-height: 42px;\n  padding-right: 20px;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.2)};\n`;\n\ntype ListCounterItemProps = {\n  lineHeight: number;\n}\nexport const ListCounterItem = styled.li<ListCounterItemProps>`\n  margin-bottom: 8px;\n  transition: 0.3s;\n\n  line-height: ${props => props.lineHeight}px !important;\n`;\n","import * as React from 'react';\nimport { ListCounter, ListCounterItem } from './NumericList.styled';\n\ntype NumericListProps = {\n  items: any[];\n}\nexport class NumericList extends React.Component<NumericListProps, {}> {\n  render() {\n    const { items } = this.props;\n    return (\n      <ListCounter>\n        {items.map((item: any, index: any) => (\n          <ListCounterItem key={index} lineHeight={item}>\n            {index + 1}\n          </ListCounterItem>\n        ))}\n      </ListCounter>\n    );\n  }\n}\n\nexport default NumericList;\n","export { default } from './NumericList';\n","export enum ActionTypes {\n    QUESTION_MULTIPLECHOICE_TOGGLE_ANSWER_IS_SELECTED = 'QUESTION_MULTIPLECHOICE_TOGGLE_ANSWER_IS_SELECTED',\n    QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED = 'QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED',\n    SET_SINGLE_ANSWER_SELECTED = 'SET_SINGLE_ANSWER_SELECTED'\n}\n\ntype AnswerIsSelected = {\n    type: ActionTypes.QUESTION_MULTIPLECHOICE_TOGGLE_ANSWER_IS_SELECTED,\n    payload: {\n        questionId: string,\n        answerId: string\n    }\n}\n\ntype MultipleChoiceSingleAnswerSelected = {\n    type: ActionTypes.QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED,\n    payload: {\n        questionId: string,\n        answerId: string\n    }\n}\n\ntype SingleAnswerSelected = {\n    type: ActionTypes.SET_SINGLE_ANSWER_SELECTED,\n    payload: {\n        questionId: string,\n        answerId: string\n    }\n}\n\nexport type MultipleChoiceActionTypes = AnswerIsSelected | MultipleChoiceSingleAnswerSelected | SingleAnswerSelected;\n","import { createSelector } from 'reselect';\nimport { COURSE_TIMER_PROGRESS_KEY } from 'constants/timer';\nimport * as comparison from '../../utils/comparison';\nimport {\n  getSections,\n  getQuestions,\n  affectsProgress,\n  getAffectProgressSections\n} from '../sections/selectors';\nimport { isAccessLimited, getAllowedUsers } from '../settings/selectors';\nimport { getEmail, isAnonymous, getUserId } from '../user/selectors';\nimport { INFORMATION_CONTENT } from '../../constants/questionTypes';\nimport { RootAppState } from '../types';\n\nexport const getCourseTitle = (state: RootAppState) => state.course.title;\n\nexport const getCourseIntroductions = (state: RootAppState) => state.course.introductions;\n\nexport const getCourse = (state: RootAppState) => state.course;\n\nexport const getStatus = (state: RootAppState) => state.course.status;\n\nexport const isPassed = (state: RootAppState) => comparison.isPassed(state.course.status);\n\nexport const isInProgress = (state: RootAppState) => comparison.isInProgress(state.course.status);\n\nexport const isFailed = (state: RootAppState) => comparison.isFailed(state.course.status);\n\nexport const getCourseId = (state: RootAppState) => state.course.id;\n\nexport const getTemplateId = (state: RootAppState) => state.course.templateId;\n\nexport const getAttemptId = (state: RootAppState) => state.course.attemptId;\n\nexport const hasBeenContinued = (state: RootAppState) => state.course.hasBeenContinued;\n\nexport const getCourseAttempt = (state: RootAppState) => state.course.courseAttempt;\n\nexport const getPreviewQuestionId = (state: RootAppState) => state.course.previewQuestionId;\n\nexport const isAttemptSubmitted = (state: RootAppState) => !!state.course.isAttemptSubmitted;\n\nexport const getTimeSpent = (state: RootAppState) =>\n  new Date().getTime() -\n  state.course.timeSpent.incrementStartedAt.getTime() +\n  state.course.timeSpent.accumulatedValueInMilliseconds;\n\nexport const getCourseStructure = createSelector(\n  (state: RootAppState) => state,\n  (state: RootAppState) => ({\n    title: getCourseTitle(state),\n    sections: getSections(state).map(section => ({\n      title: section.title,\n      id: section.id,\n      status: section.status,\n      isSectionAnswered: section.isSectionAnswered,\n      sectionProgress: section.sectionProgress,\n      score: section.score,\n      learningObjective: section.learningObjective,\n      affectsProgress: affectsProgress(state, section.id),\n      questions: getQuestions(state, section.id).map((question: any) => ({\n        id: question.id,\n        title: question.title,\n        isInformationContent: question.type === INFORMATION_CONTENT,\n        isAnswered: question.isAnswered,\n        isAnsweredCorrectly: question.isAnsweredCorrectly,\n        affectsProgress: question.affectsProgress,\n        isSurvey: question.isSurvey,\n        hasBeenOpened: question.hasBeenOpened,\n        type: question.type\n      }))\n    })),\n    isAttemptSubmitted: isAttemptSubmitted(state)\n  })\n);\n\nexport const getQuestionsStructure = createSelector(\n  (state: RootAppState) => getCourseStructure(state),\n  ({ sections }) => {\n    const questionsSchema: string[] = [];\n\n    sections.forEach(({ questions }) => {\n      questions.forEach(({ id }: { [key: string]: any }) => {\n        questionsSchema.push(id);\n      });\n    });\n\n    return questionsSchema;\n  }\n);\nexport const isCourseAllAnswered = (state: RootAppState) => {\n  return getSections(state).filter((section: any) => !section.isSectionAnswered).length === 0;\n};\n\nexport const isCourseAccessLimited = (state: RootAppState) => {\n  const email = getEmail(state);\n  return (\n    (!!email || isAnonymous(state)) &&\n    isAccessLimited(state) &&\n    !getAllowedUsers(state).some((item: any) => item.email === email)\n  );\n};\n\nexport const getScore = (state: RootAppState) => state.course.score;\n\nexport const isCertificateDownloaded = (state: RootAppState) =>\n  state.course.isCertificateDownloaded;\n\nexport const getPassedAfterwords = (state: RootAppState) => state.course.passedAfterwords;\n\nexport const getFailedAfterwords = (state: RootAppState) => state.course.failedAfterwords;\n\nexport const isFinalized = (state: RootAppState) => state.course.score === 100;\n\nexport const isCourseLaunched = (state: RootAppState) => state.course.isLaunched;\n\nexport const isProgressRestoreFailed = (state: RootAppState) =>\n  state.course.isProgressRestoreFailed;\n\nexport const isProgressRestoreFetched = (state: RootAppState) =>\n  state.course.isProgressRestoreFetched;\n\nexport const isCoursePassed = createSelector(getAffectProgressSections, sections =>\n  sections.every(section => comparison.isPassed(section.status))\n);\n\nexport const isCourseFailed = createSelector(\n  getAffectProgressSections,\n  state => state,\n  (sections, state) =>\n    !isCoursePassed(state) && sections.every(section => !comparison.isInProgress(section.status))\n);\n\nexport const getTimerProgressKey = (state: RootAppState) =>\n  `${COURSE_TIMER_PROGRESS_KEY}${getCourseId(state)}${getTemplateId(state)}${getUserId(state)}`;\n\nexport const isRandomizedOptionsLoaded = (state: RootAppState) =>\n  state.course.isRandomizedOptionsLoaded;\n","export const COURSE_LAUNCHED = 'course:launched';\nexport const COURSE_STARTED = 'course:started';\nexport const COURSE_FINISHED = 'course:finished';\nexport const COURSE_FINALIZED = 'course:finalized';\nexport const COURSE_EVALUATED = 'course:evaluated';\n\nexport const COURSE_PROGRESSED = 'course:progressed';\nexport const SUBMIT_ONCE_COURSE_PROGRESSED = 'course:submitOnceProgressed';\nexport const COURSE_ATTEMPT_STARTED = 'course:attemptStarted';\nexport const COURSE_QUESTION_POOL_SELECTED = 'course:questionPoolSelected';\nexport const COURSE_RANDOMIZED_OPTIONS_SAVED = 'course:randomizedOptionsSaved';\nexport const SECTION_PROGRESSED = 'section:progressed';\nexport const QUESTION_ANSWERED = 'question:answered';\nexport const SUBMIT_ONCE_QUESTION_ANSWERED = 'question:submitOnceAnswered';\n\nexport const SUBMIT_ONCE_QUESTION_SUBMITTED = 'question:submitOnce';\nexport const SUBMIT_ONCE_QUESTION_ATTEMPTED = 'question:submitOnceAttempt';\nexport const COURSE_SUBMIT_AT_ONCE_LIMITED = 'question:submitOnceAttempted';\nexport const INFORMATION_CONTENT_EXPERIENCED = 'information-content:experienced';\n\nexport const APP_INITIALIZED = 'app:initialized';\nexport const APP_NAVIGATED = 'app:navigated';\nexport const APP_OFFLINE_OR_SERVER_ERROR = 'app:offline-or-server-error';\nexport const APP_ONLINE = 'app:online';\n\nexport const RESET_QUESTION_PROGRESS = 'progress:resetQuestionProgress';\n\nexport const USER_AUTHENTICATED = 'user:authenticated';\nexport const USER_LOGOUT = 'user:logout';\n\nexport const REVIEW_INITIALIZED = 'review:initialized';\nexport const COMMENT_SENT = 'review:comment-sent';\nexport const REVIEWER_AUTHORIZED = 'review:reviewer-authorized';\nexport const REVIEW_RESTORE_USER = 'review:review-restore-user';\n\nexport const RESET_TIMER_PROGRESS = 'progress:resetTimerProgress';\nexport const COURSE_TIMER_PROGRESSED = 'course:timerProgressed';\n\n/* Checklist */\n\nexport const UPDATE_CHECKLIST_PROGRESS = 'checklist:update';\n","import WebFont from 'webfontloader';\nimport resourceLoader from 'core/http/resourceLoader';\nimport { addQueryStringParameter } from 'utils/window';\nimport { FONT_WEIGHTS, SECONDARY_FONT_KEY } from 'constants/common';\n\n/* eslint-disable import/prefer-default-export */\nexport async function loadFonts(fonts: any, customFontPlace: any) {\n  const mappedFonts = mapFonts(fonts, customFontPlace);\n  const webFontConfig = prepareWebFontConfig(mappedFonts);\n  if (Object.keys(webFontConfig).length !== 0 && webFontConfig.constructor === Object) {\n    await makeLoadFontRequest(webFontConfig);\n  }\n}\n\nfunction mapFonts(fonts: any, customFontPlace: any) {\n  const mappedFonts: { [key: string]: any } = {};\n  const presetFonts = fonts.map(mapPresetFont);\n  const templateFonts = getTemplateFont(fonts);\n  const allTemplateFonts = presetFonts.concat(templateFonts);\n  allTemplateFonts.forEach((font: any) => {\n    if (font.place === 'none') {\n      return;\n    }\n    const place = mappedFonts[font.place] || {};\n\n    const samefont = place[font.family] || {\n      variants: [],\n      styles: []\n    };\n\n    const variant = mapVariant(font.variant, font.style);\n\n    if (variant && samefont.variants.indexOf(variant) === -1) {\n      samefont.variants.push(variant);\n    }\n\n    samefont.url = addQueryStringParameter(customFontPlace, 'v', resourceLoader.cacheBuster);\n\n    place[font.family] = samefont;\n    mappedFonts[font.place] = place;\n  });\n\n  return mappedFonts;\n}\n\nfunction prepareWebFontConfig(places: any) {\n  const config: { [key: string]: any } = {};\n\n  for (const place in places) {\n    const families = places[place];\n\n    config[place] = {};\n\n    for (const family in families) {\n      const fontData = families[family];\n      const placeData = config[place];\n\n      placeData.families = placeData.families || [];\n      placeData.urls = placeData.urls || [];\n\n      placeData.families.push(mapFontName(family, fontData));\n\n      if (fontData.url && placeData.urls.indexOf(fontData.url) === -1) {\n        placeData.urls.push(fontData.url);\n      }\n    }\n  }\n\n  return config;\n}\n\nasync function makeLoadFontRequest(config: any) {\n  return new Promise(resolve => {\n    const baseConfig = {\n      ...config,\n      active: resolve,\n      inactive: resolve\n    };\n\n    WebFont.load(baseConfig);\n  });\n}\n\nfunction mapPresetFont(font: any) {\n  return {\n    family: font.fontFamily,\n    place: font.place,\n    variant: font.fontWeight,\n    style: font.fontStyle\n  };\n}\n\nfunction getTemplateFont(fonts: any) {\n  const templateFonts: any[] = [];\n  const secondaryFont = fonts.find((font: any) => font.key === SECONDARY_FONT_KEY);\n  for (const fontWeight of FONT_WEIGHTS) {\n    templateFonts.push({\n      family: secondaryFont.fontFamily,\n      place: secondaryFont.place,\n      variant: fontWeight,\n      style: secondaryFont.fontStyle\n    });\n  }\n  return templateFonts;\n}\n\nfunction mapVariant(variant: any, style: any) {\n  let result = '';\n  if (variant) {\n    if (variant === 'normal') {\n      variant = '400';\n    }\n    result += variant;\n  }\n  if (style && style !== 'normal') {\n    result += style;\n  }\n  return result;\n}\n\nfunction mapFontName(family: any, fontData: any) {\n  const salt = fontData.variants && fontData.variants.length ? `:${fontData.variants.join(',')}` : '';\n  return `${family}${salt}`;\n}\n\nexport async function loadFontsFromGoogle({\n  fontFamily = 'Open Sans',\n  fontWeight = [400],\n  fontVariants = ['normal'],\n  fontLanguages = ['latin', 'cyrillic']\n}) {\n  const fontConfig = `${fontFamily}:${fontWeight.join(',')}${fontVariants.join(\n    ','\n  )}:${fontLanguages.join(',')}`;\n\n  return WebFont.load({\n    google: {\n      families: [fontConfig]\n    }\n  });\n}\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\nimport { getCustomScrollbars } from 'components/mixins/customScrollbars';\n\nexport const EditableContentWrapper = styled.div`\n  overflow-y: auto;\n  max-height: 300px;\n  padding-top: 27px;\n  padding-bottom: 60px;\n  min-height: 120px;\n  ${getCustomScrollbars()};\n  \n  textarea {\n    width: 100%;\n    height: 160px;\n    background: transparent;\n    border: none;\n    box-sizing: border-box;\n    outline: none;\n    font-size: 16px;\n    line-height: 39px;\n    font-weight: bold;\n    color: ${props => props.theme.colors.textColor};\n    overflow: hidden;\n    resize: none;\n\n    background-image: linear-gradient(\n      transparent,\n      transparent 38px,\n      ${props => transparentize(props.theme.colors.textColor, 0.1)} 37px\n    );\n    background-size: 30px 39px;\n    background-attachment: local;\n\n    &:disabled {\n      opacity: 0.5;\n    }\n\n    &::placeholder {\n      color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n    }\n\n    ${media.mobile`\n      padding: 0 60px 0 70px;\n  `};\n  }\n`;\n\nexport default EditableContentWrapper;\n","export const ICON = {\n  SHAPES: {\n    ROUND_FULL_COLOR: 'round-fullColor',\n    ROUND_OUTLINED: 'round-outlined',\n    ROUND_SHADED: 'round-shaded'\n  }\n} as const;\n\nexport const OPACITY = {\n  PERCENT_30: '0.3',\n  PERCENT_100: '1.0'\n} as const;\n\nexport const BUTTON = {\n  LAYOUT: {\n    PRIMARY: 'primary',\n    SECONDARY: 'secondary'\n  }\n} as const;\n\nexport const SIZES = {\n  SMALL: 'small',\n  MEDIUM: 'medium',\n  LARGE: 'large'\n} as const;\n\nexport const TOC = { EXPANDED_WIDTH: 380, COLLAPSED_WIDTH: 56, TAIL_WIDTH: 30 };\n\nexport const Z_INDEX = {\n  SIDEBAR: 10,\n  TOC: 200,\n  COLLAPSED_TOC: 210,\n  TOC_TAIL: 220,\n  BLOCKOUT: 100\n};\n\nexport const LINK = {\n  LAYOUT: {\n    DEFAULT: 'default',\n    FORM: 'form'\n  }\n};\n\nexport const INPUT_TYPE = {\n  TEXT: 'text',\n  PASSWORD: 'password',\n  EMAIL: 'email'\n} as const;\n\nexport const TOOLTIP = {\n  CORRECT: 'correct',\n  INCORRECT: 'incorrect'\n} as const;\n\nexport const SWITCH_BUTTON_LAYOUT = {\n  QUESTION: 'question',\n  CHECKLIST: 'checklist'\n};\n","import { RootAppState } from '../types';\n\nexport const getChain = (state: RootAppState) => state.navigation.chain;\nexport const getPrevUrl = (state: RootAppState) => state.navigation.prevUrl;\nexport const getElementIDInViewPort = (state: RootAppState) => state.navigation.elementIdInViewport;\n","import { MEDIA_SMALL } from 'constants/screenResolutions';\n\nexport const isLowerResolution = (resolution: number) => window.innerWidth < resolution;\n\nexport const getCurrentUrl = () =>\n  `${window.location.protocol}//${window.location.host}${window.location.pathname}`;\n\nexport const getCurrentLocationHash = () => window.location.hash;\n\n// eslint-disable-next-line\nexport const isTouchScreenDevice = () => {\n  return (\n    /iPhone|iPad|iPod|Android/i.test(navigator.userAgent)\n    || (/Macintosh/i.test(navigator.userAgent) && 'ontouchend' in document)\n    || window.innerWidth < MEDIA_SMALL\n  );\n}\n\nexport const isIE = () => Object.hasOwnProperty.call(window, \"ActiveXObject\");\n\nexport const hasQueryStringParameter = (key: any) => window.location.href.indexOf(key) !== -1;\n\nexport const addQueryStringParameter = (url: string, key: any, value: any) => {\n  const regex = new RegExp(`([?&])${key}=.*?(&|$)`, 'i');\n  const separator = url.indexOf('?') !== -1 ? '&' : '?';\n  if (url.match(regex)) {\n    return url.replace(regex, `$1${key}=${value}$2`);\n  }\n  return `${url}${separator}${key}=${value}`;\n};\n\nexport const getValueFromUrl = (key: any) => {\n  if (!key) {\n    throw new Error('Parameter \"key\" should be specified');\n  }\n\n  const url = window.location.href;\n  const regex = new RegExp(`[?&]${key}(=([^&#]*)|&|#|$)`, 'i');\n  const result = regex.exec(url);\n\n  if (!result || !result[2]) {\n    return;\n  }\n\n  return decodeURIComponent(result[2].replace(/\\+/g, ' '));\n};\n\nexport const clearQueryString = () => {\n  const currentHash = getCurrentLocationHash();\n  const searchIndex = currentHash.indexOf('?');\n\n  if (searchIndex !== -1) {\n    const cleanHash = currentHash.slice(0, searchIndex);\n    window.history.replaceState({}, document.title, `${getCurrentUrl()}${cleanHash}`);\n  }\n};\n\nexport const closeWindow = () => {\n  if (window.top) {\n    window.top.close();\n    return true;\n  }\n  return false;\n};\n\nexport const getObjectParsedQueryString = () => {\n  const regex = /[?&]([^=#]+)=([^&#]*)/g;\n  const url = window.location.search;\n  const params = {} as any;\n  let match = regex.exec(url);\n  while (match && regex.lastIndex !== 0) {\n    params[match[1]] = match[2];\n    match = regex.exec(url);\n  }\n\n  return params;\n};\n\nexport const getFilteredQueryParams = (queryKey: string) => {\n  const parsedParams = getObjectParsedQueryString();\n  const filteredParams = Object.keys(parsedParams)\n    .filter(key => key !== queryKey)\n    .reduce((acc: any, key) => acc.concat([`${key}=${parsedParams[key]}`]), [])\n    .join('&');\n\n  return filteredParams && filteredParams.length ? `?${filteredParams}` : '';\n};\n\nexport const removeQueryStringParam = (paramName: string) => {\n  if (window.location.search.indexOf(paramName) !== -1) {\n    const url = `${getCurrentUrl()}${getFilteredQueryParams(paramName)}${getCurrentLocationHash()}`;\n\n    window.history.replaceState({}, document.title, url);\n  }\n};\n\nexport const isIframe = () => window.top !== window.self;\n","export const IS_NO_ACCESS = `NoAccess`;\nexport const IS_NOT_AUTHORIZED = `NotAuthorized`;\nexport const IS_SUCCESSFUL_ACCESS = `SuccessfulAccess`;\n","\nexport enum ActionTypes {\n    TOGGLE_CHECK = 'TOGGLE_CHECK',\n    INIT_CHECKLIST = 'INIT_CHECKLIST'\n}\n\nexport type ChecklistState = {\n    [key: string]: {\n        isChecked: boolean;\n    } \n}\n\ntype ToggleCheck = {\n    [key: string]: any,\n    type: ActionTypes.TOGGLE_CHECK,\n    payload: {\n        [key: string]: {\n            isChecked: boolean\n        }\n    }\n}\n\ntype InitChecklist = {\n    [key: string]: any,\n    type: ActionTypes.INIT_CHECKLIST,\n    payload: {\n        [key: string]: {\n            isChecked: boolean\n        }\n    }\n}\n\nexport type ChecklistActionTypes = ToggleCheck | InitChecklist;\n","import { schema } from 'normalizr';\n\nconst resourceContents = new schema.Entity(\n  'resourceContents',\n  {},\n  {\n    processStrategy: (value: any, parent: any, key: string) => {\n      const result = {\n        ...value,\n        value: undefined\n      };\n      result.url = `resourceContent/${value.id}.html`;\n      return result;\n    }\n  }\n);\n\nresourceContents.define({\n  children: [resourceContents]\n});\n\nexport default resourceContents;\n","import { schema } from 'normalizr';\nimport resourceContents from './resourceContents';\n\nconst resource = new schema.Entity(\n  'resource',\n  {\n    resourceContents: [resourceContents]\n  },\n  {\n    processStrategy: value => ({\n      ...value\n    })\n  }\n);\n\nexport default resource;\n","import { normalize } from 'normalizr';\nimport resourceSchema from '../schemas/resource/resource';\n\nexport default {\n  map: (data: any) => {\n    const normalized: any = normalize(data, resourceSchema);\n    const resource: any = normalized.entities.resource[normalized.result];\n    const { resourceContents } = normalized.entities;\n    return {\n      resource,\n      resourceContents\n    };\n  }\n};\n","import logger from 'utils/logger';\n\nclass AnalyticsPlugin {\n    private static analytics: any;\n    private static instance: AnalyticsPlugin;\n    private static timestamp: number;\n\n\n    private constructor() { }\n\n    static getInstance() {\n        if (!AnalyticsPlugin.instance) {\n            AnalyticsPlugin.instance = new AnalyticsPlugin();\n        }\n        return AnalyticsPlugin.instance;\n    }\n\n    public async init(writeKey: string) {\n        const { Analytics } = await import('analytics');\n        const SegmentPlugin = await import('@analytics/segment');\n        AnalyticsPlugin.analytics = Analytics({\n            plugins: [\n                SegmentPlugin.default({\n                    writeKey\n                })\n            ]\n        })\n\n        AnalyticsPlugin.timestamp = Date.now();\n    }\n\n    public trackEvent(eventName: string, category?: string | null, properties?: { [key: string]: string | number }) {\n        const props: { [key: string]: string | number } = {};\n        const integrations = {\n            Amplitude: {\n                session_id: AnalyticsPlugin.timestamp\n            }\n        }\n        if (category) {\n            props.category = category;\n        }\n\n        if (properties) {\n            Object.assign(props, properties);\n        }\n\n        try {\n            AnalyticsPlugin.analytics.track(eventName, props, { integrations })\n        } catch (err) {\n            logger.log(err);\n            throw (err);\n        }\n    }\n}\n\nexport default AnalyticsPlugin.getInstance();\n","import { RESOURCE_TYPE } from 'constants/common';\n\nexport const ResourceTypesProperty: {[key: string]: string} = {\n    [RESOURCE_TYPE.CHECKLIST]: 'Checklist'\n}\n\nexport default {\n    OPEN_RESOURCE: 'Open resource'\n}\n","import { isPreviewMode, analyticsWriteKey } from 'store/settings/selectors';\nimport { getResourceId, getResourceType } from 'store/resource/selectors';\nimport resourcesMapper from 'core/mappers/resource';\nimport eventEmitter, { events } from 'core/events/eventEmitter';\nimport { ThunkResult } from '../types';\nimport { ActionTypes } from './types';\nimport * as contentsActions from '../contents/actions';\nimport { RESOURCE_PATH } from 'constants/navigation';\nimport { getUser } from 'store/user/selectors';\nimport Analytics from 'core/analytics/Analytics';\nimport analyticsEvents, { ResourceTypesProperty } from 'core/analytics/events';\nimport progressStorage from 'core/progressStorage';\n\nexport const load = (data: any): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  dispatch({ type: ActionTypes.RESOURCE_DATA_LOADING_STARTED });\n  try {\n    const { resource, resourceContents } = resourcesMapper.map(data);\n    dispatch(contentsActions.contentsLoaded(resourceContents));\n    dispatch({ type: ActionTypes.RESOURCE_DATA_LOADED, payload: resource });\n\n    eventEmitter.emit(events.APP_INITIALIZED, {\n      state: getState(),\n      isScormMode: false\n    });\n  } catch (e) {\n    dispatch({ type: ActionTypes.RESOURCE_DATA_LOADING_FAILED, reason: e });\n    throw e;\n  }\n};\n\nexport const launch = (): ThunkResult<Promise<string>> => async (dispatch, getState) => {\n  if (isPreviewMode(getState())) {\n    return RESOURCE_PATH;\n  }\n  await progressStorage.restoreProgress();\n\n  await eventEmitter.emit(events.USER_AUTHENTICATED, getUser(getState()));\n\n  const resourceId = getResourceId(getState());\n  const resourceType = getResourceType(getState());\n  const writeKey = analyticsWriteKey(getState());\n  await Analytics.init(writeKey);\n  Analytics.trackEvent(analyticsEvents.OPEN_RESOURCE, null, {\n    resourceId,\n    resourceType: ResourceTypesProperty[resourceType]\n  });\n\n  return RESOURCE_PATH;\n};\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { INDEX_PATH, RESULTS_PATH } from 'constants/navigation';\nimport { TRANSITION_TIME_DURATION_MS } from 'constants/common';\nimport { getChain, getPrevUrl } from 'store/navigation/selectors';\nimport * as actions from 'store/navigation/actions';\nimport { RootAppState } from 'store/types';\nimport scrollIntoView from 'scroll-into-view';\n\ntype NavigationProps = {\n  chain: any[];\n  prevUrl: string;\n  actions: { [key: string]: any };\n  history: { [key: string]: any };\n  match: { [key: string]: any };\n  navigateToUrl?: any;\n  checkHasPrevPage?: any;\n  navigateToPrevPage?: any;\n  navigateToNextPage?: any;\n  navigateToIndex?: any;\n  isNextPageResults?: any;\n  scrollToId: any;\n};\n\nexport function withNavigation<T>(WrappedComponent: React.ComponentType<T>): any {\n  class Navigation extends React.Component<T & NavigationProps, any> {\n    getNextPageUrl = () => {\n      const { chain, match } = this.props;\n      const { url } = match;\n      let currentUrlIndex = chain.indexOf(url);\n      if (currentUrlIndex === chain.length - 1) {\n        return INDEX_PATH;\n      }\n\n      return chain[++currentUrlIndex];\n    };\n\n    checkHasPrevPage = () => this.props.prevUrl;\n\n    navigateToPrevPage = () => {\n      this.navigateToUrl(this.props.prevUrl);\n    };\n\n    navigateToNextPage = () => {\n      this.navigateToUrl(this.getNextPageUrl());\n    };\n\n    navigateToIndex = () => {\n      this.navigateToUrl(INDEX_PATH);\n    };\n\n    navigateToUrl = async (url: string, isReplace = false) => {\n      if (this.props.history.location.pathname === url) {\n        return;\n      }\n\n      await this.props.actions.navigatedToUrl(this.props.history.location.pathname, url);\n      if (isReplace) {\n        this.props.history.replace(url);\n      } else {\n        this.props.history.push(url);\n      }\n    };\n\n    isNextPageResults = () => this.getNextPageUrl() === RESULTS_PATH;\n    isPreviousPageResults = () => this.props.prevUrl === RESULTS_PATH;\n\n    updateElementIdInViewPort = async (id: string) => {\n      await this.props.actions.updateElementIdInViewPort(id);\n    };\n\n    scrollToId = async (id: string, offset?: number) => {\n      if (id === undefined) {\n        await this.navigateToUrl(RESULTS_PATH);\n      }\n      await this.updateElementIdInViewPort(id);\n      await this.scrollIntoViewElement(id, offset);\n    };\n\n    scrollIntoViewElement = async (elementId: any, offset = 100) => {\n      const scrollElement: HTMLElement | null = document.getElementById(elementId);\n\n      if (scrollElement) {\n        scrollIntoView(scrollElement, {\n          time: TRANSITION_TIME_DURATION_MS,\n          align: { top: 0, topOffset: offset }\n        });\n      }\n    };\n\n    render() {\n      const combinedProps = {\n        ...this.props,\n        navigateToUrl: this.navigateToUrl,\n        checkHasPrevPage: this.checkHasPrevPage,\n        navigateToPrevPage: this.navigateToPrevPage,\n        navigateToNextPage: this.navigateToNextPage,\n        navigateToIndex: this.navigateToIndex,\n        isNextPageResults: this.isNextPageResults,\n        isPreviousPageResults: this.isPreviousPageResults,\n        scrollToId: this.scrollToId,\n        updateElementIdInViewPort: this.updateElementIdInViewPort\n      };\n      return <WrappedComponent {...combinedProps} />;\n    }\n  }\n\n  function mapStateToProps(state: RootAppState) {\n    return {\n      state,\n      chain: getChain(state),\n      prevUrl: getPrevUrl(state)\n    };\n  }\n\n  function mapDispatchToProps(dispatch: Dispatch) {\n    return { actions: bindActionCreators(actions, dispatch) };\n  }\n\n  return connect(mapStateToProps, mapDispatchToProps)(Navigation as any);\n}\n\nexport default withNavigation;\n","import { stringify, parse } from 'zipson';\n\nexport const compress = (data: any)  => stringify(data);\nexport const decompress = (data: any) => parse(data);\n","import { RootAppState } from 'store/types';\n\nclass StorageInterface {\n  async getProgress(): Promise<any> {\n    throw new Error('getProgress method in not implemented');\n  }\n\n  async saveProgress(options?: any, state?: RootAppState): Promise<any> {\n    throw new Error('saveProgress method in not implemented');\n  }\n\n  async removeProgress(): Promise<any> {\n    throw new Error('removeProgress method in not implemented');\n  }\n}\n\nexport default StorageInterface;\n","import {\n  hasQueryStringParameter,\n  getValueFromUrl,\n  getCurrentUrl,\n  removeQueryStringParam\n} from 'utils/window';\nimport { LOGIN_PATH } from 'constants/navigation';\nimport requester from 'core/http/requester';\nimport {\n  EMAIL_PASSWORD_COMBINATION_NOT_EXISTS,\n  PASSWORD_RESET_SENDING_FAILED,\n  UNKNOWN_ERROR,\n  STATUS_OK\n} from 'constants/progressStorage';\n\nimport { CONTENT_TYPES } from 'constants/common';\nimport { IdToUuid } from 'utils/string';\n\nconst constants = {\n  tokenKey: 'token.learn',\n  shortTermAccessKey: 'shortTermAccess.auth.template'\n};\n\nclass ExternalStorageAuth {\n  courseTitle: string;\n\n  authServiceUrl: string;\n\n  learnServiceUrl: string;\n\n  courseLink: string;\n\n  constructor(courseTitle: string, authServiceUrl: string, learnServiceUrl: string) {\n    this.courseTitle = courseTitle;\n    this.authServiceUrl = authServiceUrl;\n    this.learnServiceUrl = learnServiceUrl;\n    this.courseLink = `${getCurrentUrl()}#${LOGIN_PATH}`;\n  }\n\n  set shortTermAccess(value: any) {\n    if (value.toString().length) {\n      sessionStorage.setItem(constants.shortTermAccessKey, value);\n    } else {\n      sessionStorage.removeItem(constants.shortTermAccessKey);\n    }\n  }\n\n  get shortTermAccess() {\n    return sessionStorage.getItem(constants.shortTermAccessKey) === 'true';\n  }\n\n  set token(value: string | any) {\n    if (value) {\n      sessionStorage.setItem(constants.tokenKey, value);\n    } else {\n      sessionStorage.removeItem(constants.tokenKey);\n    }\n  }\n\n  get token(): string | any {\n    return sessionStorage.getItem(constants.tokenKey);\n  }\n\n  getHeaders({ contentType, bearerToken }: any) {\n    const headers: any = {};\n    if (contentType) {\n      headers['Content-Type'] = contentType;\n    }\n    if (bearerToken) {\n      headers.Authorization = `Bearer ${bearerToken}`;\n    }\n\n    return headers;\n  }\n\n  isAuthenticated() {\n    return !!this.token;\n  }\n\n  async getAuthToken() {\n    if (hasQueryStringParameter('token')) {\n      const token = getValueFromUrl('token');\n      removeQueryStringParam('token');\n      return token;\n    }\n\n    return this.getTokenFromAuthService();\n  }\n\n  async getTokenFromAuthService() {\n    try {\n      const getTokenResponse: any = await requester.get(\n        `${this.authServiceUrl}/api/account/token`,\n        {\n          credentials: 'include',\n          headers: {},\n          retryOptions: {\n            retries: 0,\n            retryOn: [503]\n          }\n        }\n      );\n\n      if (getTokenResponse.status < 400) {\n        const responseData = await getTokenResponse.json();\n        return responseData && responseData.token;\n      }\n\n      const isIframe = window.top !== window.self;\n      if (isIframe) {\n        return this.token;\n      }\n      return '';\n    } catch (e) {\n      return this.token;\n    }\n  }\n\n  async identify() {\n    try {\n      this.token = await this.getAuthToken();\n\n      const userInfoResponse: any = await requester.get(`${this.learnServiceUrl}/api/learner/me`, {\n        headers: this.getHeaders({ bearerToken: this.token })\n      });\n\n      if (userInfoResponse.status === 401 || userInfoResponse.status === 403) {\n        return this.logout();\n      }\n\n      return userInfoResponse.json();\n    } catch (e) {\n      console.error(e);\n      return e;\n    }\n  }\n\n  async logout() {\n    try {\n      const response = await requester.post(`${this.authServiceUrl}/api/account/logout`, {\n        credentials: 'include',\n        headers: {}\n      });\n\n      if (response.status === 201 || response.status === 200) {\n        this.token = '';\n        this.shortTermAccess = '';\n      }\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  }\n\n  async exists(email: string) {\n    const response: any = await requester.get(`${this.authServiceUrl}/api/account/exists`, {\n      headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON }),\n      query: {\n        email\n      },\n      nocache: true,\n      credentials: 'include'\n    });\n\n    return response.json();\n  }\n\n  async authorize({ email, password, shortTermAccess = true }: { [key: string]: any }) {\n    const response = await requester.post(`${this.authServiceUrl}/api/auth/credentials`, {\n      data: { email, password, shortTermAccess },\n      headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON }),\n      nocache: true,\n      credentials: 'include'\n    });\n    return this._setAuthenticationData(response, shortTermAccess);\n  }\n\n  async register({ name, email, password, shortTermAccess = true }: { [key: string]: any }) {\n    const response = await requester.post(`${this.authServiceUrl}/api/credentials/register`, {\n      data: { email, password, name, shortTermAccess },\n      headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON }),\n      nocache: true,\n      credentials: 'include'\n    });\n\n    return this._setAuthenticationData(response, shortTermAccess);\n  }\n\n  async resetPassword(email: string) {\n    const response = await requester.post(\n      `${this.authServiceUrl}/api/credentials/forgot-password`,\n      {\n        data: { email, returnUrl: this.courseLink },\n        headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON }),\n        nocache: true,\n        credentials: 'include'\n      }\n    );\n\n    if (response.status !== 201) {\n      return PASSWORD_RESET_SENDING_FAILED;\n    }\n\n    return STATUS_OK;\n  }\n\n  async sendSecretLink(courseId: any) {\n    const response = await requester.post(\n      `${this.learnServiceUrl}/api/learner/me/courses/${IdToUuid(courseId)}/send-secret-link`,\n      {\n        data: {},\n        headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON, bearerToken: this.token }),\n        nocache: true\n      }\n    );\n\n    if (response.status !== 200) {\n      return UNKNOWN_ERROR;\n    }\n\n    return STATUS_OK;\n  }\n\n  async _setAuthenticationData(response: any, shortTermAccess: any) {\n    if (response.status === 403 || response.status === 401) {\n      return EMAIL_PASSWORD_COMBINATION_NOT_EXISTS;\n    }\n    if (response.status >= 400) {\n      return UNKNOWN_ERROR;\n    }\n\n    const data = await response.json();\n    if (!data || (data && !data.token)) {\n      return UNKNOWN_ERROR;\n    }\n\n    this.token = data.token;\n    this.shortTermAccess = shortTermAccess;\n\n    return STATUS_OK;\n  }\n}\n\nexport default ExternalStorageAuth;\n","import { LOGIN_PATH } from 'constants/navigation';\nimport { getCurrentUrl } from 'utils/window';\n\nclass SocialNetworks {\n  courseTitle: any;\n\n  authStorageUrl: any;\n\n  location: any;\n\n  constructor(courseTitle: any, authStorageUrl: any) {\n    this.courseTitle = courseTitle;\n    this.authStorageUrl = authStorageUrl;\n    this.location = `${getCurrentUrl()}#${LOGIN_PATH}`;\n  }\n\n  getAuthLink(socialNetwork: any) {\n    const isIframe = window.top !== window.self;\n    const isMainHost =\n      window.location.host.indexOf('easygenerator.com') === -1 ? '&addTokenQuery=true' : '';\n\n    let addTokenQueryParam = '';\n    if (isIframe || !isMainHost) {\n      addTokenQueryParam = '&addTokenQuery=true';\n    }\n    const encodeLocation = encodeURIComponent(this.location);\n\n    return `${this.authStorageUrl}/api/auth/${socialNetwork}?callbackUrl=${encodeLocation}${addTokenQueryParam}`;\n  }\n}\n\nexport default SocialNetworks;\n","import {\n  getAuthServiceUrl,\n  shouldSubmitAllQuestions,\n  getLearnServiceUrl\n} from 'store/settings/selectors';\nimport {\n  getCourseTitle,\n  getCourseId,\n  getTemplateId,\n  isInProgress,\n  isPassed,\n  isFailed,\n  getScore,\n  isAttemptSubmitted,\n  isCourseAccessLimited\n} from 'store/course/selectors';\nimport requester from 'core/http/requester';\nimport { CONTENT_TYPES } from 'constants/common';\nimport { IdToUuid } from 'utils/string';\nimport { getCurrentUrl } from 'utils/window';\nimport StorageInterface from '../storageInterface';\nimport ExternalStorageAuth from './auth';\nimport SocialNetworks from './socialNetworks';\nimport { RootAppState } from 'store/types';\nimport { CourseProgressStorageStatus } from 'constants/progressStatus';\n\nclass ExternalStorage extends StorageInterface {\n  courseId: string;\n  templateId: string;\n  learnServiceUrl: string;\n  authServiceUrl: string;\n  private readonly _auth: any;\n  private readonly _socialNetworks: any;\n\n  constructor(state: RootAppState) {\n    super();\n\n    this.courseId = getCourseId(state);\n    this.templateId = getTemplateId(state);\n    this.learnServiceUrl = getLearnServiceUrl(state);\n    this.authServiceUrl = getAuthServiceUrl(state);\n\n    const courseTitle = getCourseTitle(state);\n\n    this._auth = new ExternalStorageAuth(courseTitle, this.authServiceUrl, this.learnServiceUrl);\n    this._socialNetworks = new SocialNetworks(courseTitle, this.authServiceUrl);\n  }\n\n  async getProgress() {\n    if (!this.getToken()) {\n      return;\n    }\n\n    const responseProgress = await requester.get(\n      `${this.learnServiceUrl}/api/learner/me/courses/${IdToUuid(this.courseId)}/attempts/last`,\n      {\n        query: {\n          templateId: this.templateId\n        },\n        headers: this.getHeaders({ bearerToken: this.getToken() })\n      }\n    );\n    if (responseProgress.status === 201 || responseProgress.status === 200) {\n      const data = await responseProgress.json();\n      try {\n        return data && data.jsonProgress && JSON.parse(data.jsonProgress);\n      } catch (e) {\n        console.error(e);\n        return {};\n      }\n    }\n\n    return requester.post(\n      `${this.learnServiceUrl}/api/learner/me/courses/${IdToUuid(this.courseId)}/attempts`,\n      {\n        data: {\n          templateId: this.templateId,\n          jsonProgress: '{}',\n          score: 0,\n          status: CourseProgressStorageStatus.IN_PROGRESS,\n          courseUrl: getCurrentUrl()\n        },\n        headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON, bearerToken: this.getToken() }),\n        nocache: true\n      }\n    );\n  }\n\n  async saveProgress(progress: any, state: RootAppState) {\n    if (isCourseAccessLimited(state)) {\n      return false;\n    }\n    let status = CourseProgressStorageStatus.IN_PROGRESS;\n    if (isPassed(state)) {\n      status = CourseProgressStorageStatus.PASSED;\n    }\n    if (isFailed(state)) {\n      status = CourseProgressStorageStatus.FAILED;\n    }\n    if (isAttemptSubmitted(state) && isInProgress(state) && shouldSubmitAllQuestions(state)) {\n      status = CourseProgressStorageStatus.FAILED;\n    }\n\n    const saveProgressResponse = await requester.put(\n      `${this.learnServiceUrl}/api/learner/me/courses/${IdToUuid(this.courseId)}/attempts/last`,\n      {\n        data: {\n          jsonProgress: progress ? JSON.stringify(progress) : '{}',\n          score: getScore(state),\n          status\n        },\n        query: {\n          templateId: this.templateId\n        },\n        headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON, bearerToken: this.getToken() }),\n        nocache: true\n      }\n    );\n    if (saveProgressResponse.status === 401 || saveProgressResponse.status === 403) {\n      return this.logout();\n    }\n    return saveProgressResponse;\n  }\n\n  async removeProgress() {\n    return requester.post(\n      `${this.learnServiceUrl}/api/learner/me/courses/${IdToUuid(this.courseId)}/attempts`,\n      {\n        data: {\n          templateId: this.templateId,\n          jsonProgress: '{}',\n          score: 0,\n          status: CourseProgressStorageStatus.IN_PROGRESS,\n          courseUrl: getCurrentUrl()\n        },\n\n        headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON, bearerToken: this.getToken() }),\n        nocache: true\n      }\n    );\n  }\n\n  isAuthenticated() {\n    return this._auth.isAuthenticated();\n  }\n\n  async userExists(email: string) {\n    return this._auth.exists(email);\n  }\n\n  async identifyUser() {\n    return this._auth.identify();\n  }\n\n  async authorizeUser(userData: any) {\n    return this._auth.authorize(userData);\n  }\n\n  async registerUser(userData: any) {\n    return this._auth.register(userData);\n  }\n\n  async resetPassword(email: string) {\n    return this._auth.resetPassword(email);\n  }\n\n  async logout() {\n    return this._auth.logout();\n  }\n\n  getSocialNetworkAuthLink(socialNetwork: any) {\n    return this._socialNetworks.getAuthLink(socialNetwork);\n  }\n\n  async sendSecretLink() {\n    return this._auth.sendSecretLink(this.courseId);\n  }\n\n  getHeaders({ contentType, bearerToken }: any) {\n    return this._auth.getHeaders({ contentType, bearerToken });\n  }\n\n  getToken() {\n    return this._auth.token;\n  }\n}\n\nexport default ExternalStorage;\n","import shortId from 'short-uuid';\n\nexport default class IdShortener {\n  translator: any;\n  constructor() {\n    this.translator = shortId();\n  }\n\n  convertToShort(id: any) {\n    return this.translator.fromUUID(id);\n  }\n\n  convertToOriginal(id: any) {\n    return this.translator.toUUID(id).replace(/-/g, '');\n  }\n}\n","import { NO_SELECTED_ID } from 'constants/common';\nimport idShortener from '../idShortener';\n\nexport default class DragAndDropTextResponseMapper extends idShortener {\n  map(response: any) {\n    return response.map((option: any) => ({\n      ...option,\n      id: this._mapId(option.id, this.convertToShort.bind(this)),\n      items: this._mapItems(option.items, this.convertToShort.bind(this))\n    }));\n  }\n\n  unMap(response: any) {\n    return response.map((option: any) => ({\n      ...option,\n      id: this._mapId(option.id, this.convertToOriginal.bind(this)),\n      items: this._mapItems(option.items, this.convertToOriginal.bind(this))\n    }));\n  }\n\n  _mapItems(items: any, convert: any) {\n    return items.map((item: any) => ({\n      ...item,\n      id: this._mapId(item.id, convert)\n    }));\n  }\n\n  _mapId(id: any, convert: any) {\n    return id === NO_SELECTED_ID ? id : convert(id);\n  }\n}\n","import idShortener from '../idShortener';\n\nexport default class FillInTheBlankResponseMapper extends idShortener {\n  map({ data }: {[key: string]: any}) {\n    return this._map(data, this.convertToShort.bind(this));\n  }\n\n  unMap({ data }: {[key: string]: any}) {\n    return this._map(data, this.convertToOriginal.bind(this));\n  }\n\n  _map(data: any, convert: any) {\n    const ids = Object.keys(data);\n    let userResponse: {[key: string]: any} = {};\n\n    ids.forEach((id: any) => {\n      const convertedId = convert(id);\n      userResponse[convertedId] = data[id];\n    });\n\n    return {\n      data: userResponse\n    };\n  }\n}\n","export default class HotspotResponseMapper {\n  map(response: any) {\n    return response;\n  }\n\n  unMap(response: any) {\n    return response;\n  }\n}\n","export default class InformationContentResponseMapper {\n  map(response: any) {\n    return response;\n  }\n\n  unMap(response: any) {\n    return response;\n  }\n}\n","import idShortener from '../idShortener';\n\nexport default class SingleChoiceResponseMapper extends idShortener {\n  map(response: any) {\n    return response.map((id: any) => this.convertToShort(id));\n  }\n\n  unMap(response: any) {\n    return response.map((id: any) => this.convertToOriginal(id));\n  }\n}\n","import SingleChoiceResponseMapper from './SingleChoice';\n\nexport default class MultipleChoiceResponseMapper extends SingleChoiceResponseMapper {\n  map(response: any) {\n    return super.map(response);\n  }\n\n  unMap(response: any) {\n    return super.unMap(response);\n  }\n}\n","import idShortener from '../idShortener';\n\nexport default class OpenQuestionResponseMapper extends idShortener {\n  map(response: any) {\n    return { ...response, id: this.convertToShort(response.id) };\n  }\n\n  unMap(response: any) {\n    return { ...response, id: this.convertToOriginal(response.id) };\n  }\n}\n","import idShortener from '../idShortener';\n\nexport default class StatementChoiceResponseMapper extends idShortener {\n  map(response: any) {\n    return this._map(response, this.convertToShort.bind(this));\n  }\n\n  unMap(response: any) {\n    return this._map(response, this.convertToOriginal.bind(this));\n  }\n\n  _map(response: any, convert: any) {\n    return response.map((option: any) => ({ ...option, id: convert(option.id) }));\n  }\n}\n","import StatementChoiceResponseMapper from './StatementChoice';\n\nexport default class RankingTextResponseMapper extends StatementChoiceResponseMapper {\n  map(response: any) {\n    return super.map(response);\n  }\n\n  unMap(response: any) {\n    return super.unMap(response);\n  }\n}\n","export default class ScenarioResponseMapper {\n  map(response: any) {\n    return response;\n  }\n\n  unMap(response: any) {\n    return response;\n  }\n}\n","import SingleChoiceResponseMapper from './SingleChoice';\n\nexport default class SingleChoiceImageResponseMapper extends SingleChoiceResponseMapper {\n  map(response: any) {\n    return super.map(response);\n  }\n\n  unMap(response: any) {\n    return super.unMap(response);\n  }\n}\n","import StatementChoice from './StatementChoice';\n\nexport default class TextMatchingResponseMapper extends StatementChoice {\n  map(response: any) {\n    return super.map(response);\n  }\n\n  unMap(response: any) {\n    return super.unMap(response);\n  }\n}\n","import * as questionTypes from 'constants/questionTypes';\n\nimport DragAndDropText from './DragAndDropText';\nimport FillInTheBlank from './FillInTheBlank';\nimport HotspotMapper from './HotspotMapper';\nimport InformationContent from './InformationContent';\nimport MultipleChoice from './MultipleChoice';\nimport OpenQuestion from './OpenQuestion';\nimport RankingText from './RankingText';\nimport Scenario from './Scenario';\nimport SingleChoice from './SingleChoice';\nimport SingleChoiceImage from './SingleChoiceImage';\nimport StatementChoice from './StatementChoice';\nimport TextMatching from './TextMatching';\n\n\nconst questions: { [key: string]: any } = {\n  [questionTypes.DRAG_AND_DROP_TEXT]: new DragAndDropText(),\n  [questionTypes.FILL_IN_THE_BLANK]: new FillInTheBlank(),\n  [questionTypes.HOTSPOT]: new HotspotMapper(),\n  [questionTypes.INFORMATION_CONTENT]: new InformationContent(),\n  [questionTypes.MULTIPLE_CHOICE]: new MultipleChoice(),\n  [questionTypes.OPEN_QUESTION]: new OpenQuestion(),\n  [questionTypes.RANKING_TEXT]: new RankingText(),\n  [questionTypes.SCENARIO]: new Scenario(),\n  [questionTypes.SINGLE_CHOICE]: new SingleChoice(),\n  [questionTypes.SINGLE_CHOICE_IMAGE]: new SingleChoiceImage(),\n  [questionTypes.STATEMENT_CHOICE]: new StatementChoice(),\n  [questionTypes.TEXT_MATCHING]: new TextMatching()\n};\nexport default questions;\n","import idShortener from './idShortener';\nimport responseMappers from './responseMappers';\n\nclass IdMapper extends idShortener {\n  map(id: any) {\n    return this.convertToShort(id);\n  }\n\n  unMap(id: any) {\n    return this.convertToOriginal(id);\n  }\n\n  mapResponse(questionType: string, response: any) {\n    return responseMappers[questionType].map(response);\n  }\n\n  unMapResponse(questionType: any, response: any) {\n    return responseMappers[questionType].unMap(response);\n  }\n}\n\nexport default new IdMapper();\n","import { getCourseId, getTemplateId } from 'store/course/selectors';\nimport { isCourse, isResource } from 'store/settings/selectors';\nimport { getResourceId } from 'store/resource/selectors';\nimport StorageInterface from '../storageInterface';\nimport { RootAppState } from 'store/types';\n\nconst constants = {\n  courseProgressKey: 'course_progress',\n  resourceProgressKey: 'resource_progress'\n};\n\nclass LocalStorage extends StorageInterface {\n  progressKey: string;\n  constructor(state: any) {\n    super();\n\n    this.progressKey = this.getProgressKey(state);\n  }\n\n  async getProgress() {\n    return new Promise(resolve => {\n      const result = localStorage.getItem(this.progressKey) || '{}';\n      resolve(JSON.parse(result));\n    });\n  }\n\n  async saveProgress(progress: any) {\n    return new Promise(resolve => {\n      localStorage.setItem(this.progressKey, JSON.stringify(progress));\n      resolve();\n    });\n  }\n\n  async removeProgress() {\n    return new Promise(resolve => {\n      localStorage.removeItem(this.progressKey);\n      resolve();\n    });\n  }\n\n  private getProgressKey(state: RootAppState): string {\n    let result = '';\n    if (isCourse(state)) {\n      const courseId = getCourseId(state);\n      const templateId = getTemplateId(state);\n      result = `${constants.courseProgressKey}${courseId}${templateId}`;\n    } else if (isResource(state)) {\n      const resourceId = getResourceId(state);\n      result = `${constants.resourceProgressKey}${resourceId}`;\n    }\n    return result;\n  }\n}\n\nexport default LocalStorage;\n","class ResponseMapperBase {\n  map(question: any) {\n    if (question.isAnsweredCorrectly) {\n      return 100;\n    }\n\n    if (!question.isAnswered) {\n      return undefined;\n    }\n\n    return this.mapResponse(question);\n  }\n\n  mapResponse(question?: any) {\n    throw new Error('Not implemented');\n  }\n\n  hasQuestionResponse(question: any) {\n    return question.response !== null;\n  }\n\n  isAnsweredCorrectly(answer: any) {\n    return answer === 100;\n  }\n\n  isEmptyAnswer(answer: any) {\n    if (Array.isArray(answer) || typeof answer === 'string' || answer instanceof String) {\n      return answer.length === 0;\n    }\n\n    if (answer.constructor === Object) {\n      return Object.keys(answer).length === 0;\n    }\n\n    return false;\n  }\n}\n\nexport default ResponseMapperBase;\n","import { NO_SELECTED_ID } from 'constants/common';\nimport ResponseMapperBase from './ResponseMapperBase';\n\nexport default class DragAndDropTextResponseMapper extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return {};\n    }\n\n    const result: { [key: string]: any } = {};\n    question.dropspots.forEach((answer: any) => {\n      const responseItem = question.response.find((e: any) => e.id === answer.id);\n      if (responseItem && responseItem.items.length) {\n        const item = responseItem.items[0];\n        const itemIndex = question.dropspots.findIndex((e: any) => e.id === item.id);\n        result[itemIndex] = {\n          x: answer.x,\n          y: answer.y\n        };\n      }\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { dropspots }: any) {\n    const notSelectedItem: { [key: string]: any } = {\n      id: NO_SELECTED_ID,\n      items: [],\n      isDropDisabled: false\n    };\n\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      const result = dropspots.map((dropspot: any) => ({\n        id: dropspot.id,\n        items: [dropspot],\n        position: {\n          x: dropspot.x,\n          y: dropspot.y\n        },\n        isDropDisabled: true\n      }));\n\n      result.unshift(notSelectedItem);\n      return result;\n    }\n\n    const userAnswerIndexes = Object.keys(userAnswer);\n    dropspots.forEach((dropspot: any, index: any) => {\n      if (!userAnswerIndexes.find(answerIndex => answerIndex === index.toString())) {\n        notSelectedItem.items.push(dropspot);\n      }\n    });\n\n    let answerValues: any[] = [];\n    Object.keys(userAnswer).forEach((answerIndex: any) => {\n      answerValues[answerIndex] = userAnswer[answerIndex];\n    });\n\n    const result = dropspots.map((dropspot: any) => {\n      const selectedOptionIndex = answerValues.findIndex(\n        answerOption =>\n          answerOption && answerOption.x === dropspot.x && answerOption.y === dropspot.y\n      );\n      const isAnswered = selectedOptionIndex !== -1;\n      return {\n        id: dropspot.id,\n        items: isAnswered ? [dropspots[selectedOptionIndex]] : [],\n        position: {\n          x: dropspot.x,\n          y: dropspot.y\n        },\n        isDropDisabled: isAnswered\n      };\n    });\n\n    result.unshift(notSelectedItem);\n    return result;\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class FillInTheBlankResponseMapper extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return {};\n    }\n\n    const result: { [key: string]: any } = {};\n    if (question.response.data) {\n      Object.keys(question.response.data).forEach(id => {\n        const index = question.answerGroups.findIndex((e: any) => e.id === id);\n        result[index] = question.response.data[id];\n      });\n    }\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answerGroups }: any) {\n    const data: { [key: string]: any } = {};\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      answerGroups.forEach(({ id, answers }: any) => {\n        const answerItem = answers.find(({ isCorrect }: any) => isCorrect);\n        data[id] = answerItem.text;\n      });\n      return { data };\n    }\n\n    let questionAnswer = this.isEmptyAnswer(userAnswer) ? {} : userAnswer;\n    answerGroups.forEach(({ id }: any, index: any) => {\n      const itemAnswer = questionAnswer[index.toString()];\n      data[id] = itemAnswer == null ? '' : itemAnswer;\n    });\n\n    return { data };\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class HotspotResponseMapper extends ResponseMapperBase {\n  map(question: any) {\n    if (!question.isAnswered) {\n      return undefined;\n    }\n\n    return this.mapResponse(question);\n  }\n\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return [];\n    }\n\n    return question.response;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { spots }: any) {\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      return spots.map((spot: any) => spot[0]);\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    return userAnswer;\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class InformationContentResponseMapper extends ResponseMapperBase {\n  mapResponse() {\n    return 100;\n  }\n\n  /**\n   * @param {object} userAnswer\n   */\n  unMap(userAnswer: any) {\n    return this.isAnsweredCorrectly(userAnswer) ? 100 : undefined;\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class ChoiceResponseMapperBase extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return [];\n    }\n\n    const result: any[] = [];\n    question.answers.forEach((answer: any, index: any) => {\n      if (question.response.find((e: any) => e === answer.id)) {\n        result.push(index);\n      }\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answers }: { [key: string]: any }) {\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      return answers.filter(({ isCorrect }: { [key: string]: any }) => isCorrect).map(({ id }: { [key: string]: any }) => id);\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    return this._unMapFailedResponse(userAnswer, answers);\n  }\n\n  _unMapFailedResponse(userAnswer?: any, answers?: any) {\n    throw new Error('Not implemented');\n  }\n}\n","import ChoiceResponseMapperBase from './ChoiceResponseMapperBase';\n\nexport default class MultipleChoiceResponseMapper extends ChoiceResponseMapperBase {\n  _unMapFailedResponse(userAnswer: any, answers: any) {\n    return userAnswer.map((answer: any) =>  answers[answer].id);\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class OpenQuestionResponseMapper extends ResponseMapperBase {\n  /**\n   * @param {object} question\n   */\n  map({ isAnswered, response }: any) {\n    return isAnswered ? response.answeredText : undefined;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { id }: any) {\n    return {\n      id,\n      answeredText: userAnswer\n    };\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class RankingTextResponseMapper extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return [];\n    }\n\n    return question.response.map((item: any) => item.text);\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answers }: any) {\n    if (userAnswer === 100) {\n      return answers;\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    const questionAnswers = answers.map(({ id, text }: any) => ({\n      id,\n      text,\n      hasBeenSelected: false\n    }));\n\n    return userAnswer.map((text: any) => {\n      const answerItem = questionAnswers.find(\n        (questionAnswer: any) => questionAnswer.text === text && !questionAnswer.hasBeenSelected\n      );\n\n      if (!answerItem) {\n        throw new Error(`Ranking text: text answer wan not found: '${text}'`);\n      }\n\n      answerItem.hasBeenSelected = true; // ???????\n      return {\n        id: answerItem.id,\n        text\n      };\n    });\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class ScenarioResponseMapper extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return 0;\n    }\n\n    return question.response.score;\n  }\n\n  /**\n   * @param {object} userAnswer\n   */\n  unMap(userAnswer: any) {\n    return { score: userAnswer, isFinished: userAnswer === 100 };\n  }\n}\n","import ChoiceResponseMapperBase from './ChoiceResponseMapperBase';\n\nexport default class SingleChoiceResponseMapper extends ChoiceResponseMapperBase {\n  _unMapFailedResponse(userAnswer: any, answers: any) {\n    return [answers[userAnswer[0]].id];\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class SingleChoiceImageResponseMapper extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return [];\n    }\n\n    const result: any[] = [];\n    question.answers.forEach((answer: any, index: any) => {\n      if (question.response.find((e: any) => e === answer.id)) {\n        result.push(index);\n      }\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answers, correctAnswerId }: any) {\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      return answers.filter(({ id }: any) => id === correctAnswerId).map(({ id }: any) => id);\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    return [answers[userAnswer].id];\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class StatementChoiceResponseMapper extends ResponseMapperBase {\n  /**\n   * @param {object} question\n   */\n  mapResponse({ answers, response }: any) {\n    let result: { [key: string]: any } = {};\n\n    response.forEach(({ id, isCorrect }: any) => {\n      const answerIndex = answers.findIndex((answer: any) => answer.id === id);\n      result[answerIndex] = +isCorrect;\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answers }: any) {\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      return answers.map(({ id, isCorrect }: any) => ({\n        id,\n        isCorrect\n      }));\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    let result: any[] = [];\n    const userAnswerKeys = Object.keys(userAnswer);\n    userAnswerKeys.forEach(key => {\n      const option = userAnswer[key];\n      const { id } = answers[key];\n\n      result.push({\n        id,\n        isCorrect: option === 1\n      });\n    });\n\n    return result;\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class TextMatchingResponseMapper extends ResponseMapperBase {\n  /**\n   * @param {object} question\n   */\n  mapResponse({ answers, response }: any) {\n    let result: { [key: string]: any } = {};\n\n    response.forEach(({ id, shownSelectedValue }: any) => {\n      const answerIndex = answers.findIndex((answer: any) => answer.id === id);\n      result[answerIndex] = shownSelectedValue;\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answers }: any) {\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      return answers.map(({ id, key, value }: any) => ({\n        id,\n        key,\n        value,\n        selectedKey: key,\n        shownSelectedValue: value\n      }));\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    return answers.map(({ id, key, value }: any, index: any) => {\n      const selectedOption = userAnswer[index];\n      const selectedKey = answers.find((answer: any) => answer.value === selectedOption);\n\n      return {\n        id,\n        key,\n        value,\n        selectedKey: selectedKey ? selectedKey.key : null,\n        shownSelectedValue: selectedOption\n      };\n    });\n  }\n}\n","import * as questionTypes from 'constants/questionTypes';\n\nimport DragAndDropTextResponseMapper from './DragAndDropTextResponseMapper';\nimport FillInTheBlankResponseMapper from './FillInTheBlankResponseMapper';\nimport HotspotResponseMapper from './HotspotResponseMapper';\nimport InformationContentResponseMapper from './InformationContentResponseMapper';\nimport MultipleChoiceResponseMapper from './MultipleChoiceResponseMapper';\nimport OpenQuestionResponseMapper from './OpenQuestionResponseMapper';\nimport RankingTextResponseMapper from './RankingTextResponseMapper';\nimport ScenarioResponseMapper from './ScenarioResponseMapper';\nimport SingleChoiceResponseMapper from './SingleChoiceResponseMapper';\nimport SingleChoiceImageResponseMapper from './SingleChoiceImageResponseMapper';\nimport StatementChoiceResponseMapper from './StatementChoiceResponseMapper';\nimport TextMatchingResponseMapper from './TextMatchingResponseMapper';\n\nconst questions: { [key: string]: any } = {\n  [questionTypes.DRAG_AND_DROP_TEXT]: new DragAndDropTextResponseMapper(),\n  [questionTypes.FILL_IN_THE_BLANK]: new FillInTheBlankResponseMapper(),\n  [questionTypes.HOTSPOT]: new HotspotResponseMapper(),\n  [questionTypes.INFORMATION_CONTENT]: new InformationContentResponseMapper(),\n  [questionTypes.MULTIPLE_CHOICE]: new MultipleChoiceResponseMapper(),\n  [questionTypes.OPEN_QUESTION]: new OpenQuestionResponseMapper(),\n  [questionTypes.RANKING_TEXT]: new RankingTextResponseMapper(),\n  [questionTypes.SCENARIO]: new ScenarioResponseMapper(),\n  [questionTypes.SINGLE_CHOICE]: new SingleChoiceResponseMapper(),\n  [questionTypes.SINGLE_CHOICE_IMAGE]: new SingleChoiceImageResponseMapper(),\n  [questionTypes.STATEMENT_CHOICE]: new StatementChoiceResponseMapper(),\n  [questionTypes.TEXT_MATCHING]: new TextMatchingResponseMapper()\n};\n\nexport default questions;\n","import responseMappers from './responseMappers';\n\nclass ResponseMapper {\n  map(question: any) {\n    return responseMappers[question.type].map(question);\n  }\n\n  unMap(userAnswers: any, question: any) {\n    return responseMappers[question.type].unMap(userAnswers, question);\n  }\n}\n\nexport default new ResponseMapper();\n","class UrlMapper {\n  unMap(url: string) {\n    switch (url) {\n      case 'finish':\n        return 'results';\n      case 'sections':\n        return 'sections';\n      default:\n        return url\n          .replace('signin', 'login')\n          .replace(/section\\//, 'sections/')\n          .replace(/question\\//, 'questions/');\n    }\n  }\n}\n\nexport default new UrlMapper();\n","import { STATUS_OK } from 'constants/progressStorage';\nimport { getQuestionsStructure, getTimeSpent } from 'store/course/selectors';\nimport {\n  isPublishMode,\n  isCourse,\n  isAnswersFromPreviousAttemptEnabled,\n  shouldSubmitAllQuestions,\n  getTimerEnabled,\n  isQuestionPoolEnabled,\n  getQuestionPoolSize,\n  isRandomizeAnswersEnabled,\n  isNewSubsetOnEveryAttempt\n} from 'store/settings/selectors';\nimport { RootAppState } from 'store/types';\nimport { shouldSaveCrossDevice } from 'store/user/selectors';\nimport { compress, decompress } from 'utils/compression';\nimport { isObject } from 'utils/object';\nimport isEmpty from 'lodash.isempty';\nimport { hasNonAscii } from 'utils/string';\nimport ExternalStorage from './externalStorage';\nimport idMapper from './idMapper';\nimport LocalStorage from './localStorage';\nimport { responseMapper, urlMapper } from './progressMapper';\nimport StorageInterface from './storageInterface';\nimport { getTimerElapsed, getTimerStatus } from '../../store/timer/selectors';\n\nconst defaultCourseProgress = {\n  url: null,\n  user: null,\n  answers: [],\n  questionPool: [],\n  attempts: [],\n  finished: false,\n  allQuestionsSubmitted: false,\n  courseAttemptNumber: 0,\n  randomizedOptionsList: []\n};\n\nconst defaultChecklistProgress = {\n  user: {\n    email: '',\n    name: '',\n    authorizationSkipped: false,\n    account: null\n  },\n  checklistItem: {}\n};\n\nclass ProgressStorage extends StorageInterface {\n  progress: any;\n\n  storage: any;\n\n  isScormMode: any;\n\n  questionShortIds: any;\n\n  questionsIndexToIdSchema: any;\n\n  isQuestionPool: boolean;\n\n  questionPoolSize: number;\n\n  shouldShowPreviousAnswers: boolean;\n\n  isSubmitAllAtOnce: boolean;\n\n  nonAsciiCharsSupported: any;\n\n  timerEnabled: boolean;\n\n  isRandomizeAnswersEnabled: boolean;\n\n  isNewSubsetOnEveryAttempt: boolean;\n\n  constructor() {\n    super();\n    this.progress = {};\n    this.storage = null;\n    this.isScormMode = false;\n    this.questionShortIds = null;\n    this.questionsIndexToIdSchema = null;\n    this.isQuestionPool = false;\n    this.questionPoolSize = 0;\n    this.isSubmitAllAtOnce = false;\n    this.shouldShowPreviousAnswers = false;\n    this.nonAsciiCharsSupported = true;\n    this.timerEnabled = false;\n    this.isRandomizeAnswersEnabled = false;\n    this.isNewSubsetOnEveryAttempt = false;\n  }\n\n  initialize({ state, isScormMode }: any) {\n    if (isCourse(state)) {\n      this.progress = Object.assign({}, defaultCourseProgress);\n      this.questionsIndexToIdSchema = getQuestionsStructure(state);\n      this.isScormMode = isScormMode;\n      this.isQuestionPool = isQuestionPoolEnabled(state);\n      this.questionPoolSize = getQuestionPoolSize(state);\n      this.shouldShowPreviousAnswers = isAnswersFromPreviousAttemptEnabled(state);\n      this.isSubmitAllAtOnce = shouldSubmitAllQuestions(state);\n      this.timerEnabled = getTimerEnabled(state);\n      this.isRandomizeAnswersEnabled = isRandomizeAnswersEnabled(state);\n      this.isNewSubsetOnEveryAttempt = isNewSubsetOnEveryAttempt(state);\n\n      if (shouldSaveCrossDevice(state) && isPublishMode(state)) {\n        this.storage = new ExternalStorage(state);\n      } else {\n        this.storage = new LocalStorage(state);\n      }\n    } else {\n      this.progress = Object.assign({}, defaultChecklistProgress);\n      this.progress.checklistItem = {};\n      this.storage = new LocalStorage(state);\n    }\n  }\n\n  get user() {\n    return this.progress.user;\n  }\n\n  set user(user: any) {\n    delete user.password;\n    this.progress.user = user;\n  }\n\n  get checklistItem() {\n    return this.progress.checklistItem;\n  }\n\n  get timeSpent() {\n    return this.progress.timeSpent;\n  }\n\n  get url() {\n    const { url } = this.progress;\n    return url ? urlMapper.unMap(url) : url;\n  }\n\n  set url(url: any) {\n    this.progress.url = url;\n  }\n\n  get attemptId() {\n    return this.progress.attemptId;\n  }\n\n  set attemptId(attemptId: any) {\n    this.progress.attemptId = attemptId;\n  }\n\n  get questionPool() {\n    return this.progress.questionPool;\n  }\n\n  set questionPool(questionPool) {\n    this.progress.questionPool = questionPool;\n  }\n\n  async restoreAnswers() {\n    if (!isEmpty(this.progress?.answers)) {\n      return true;\n    }\n    const progress = await this.storage?.getProgress();\n    if (progress?.answers) {\n      if (isObject(progress.answers)) {\n        progress.answers = this._mapObjectAnswersToArray(progress.answers);\n      }\n      this.progress = progress;\n      return true;\n    }\n    return false;\n  }\n\n  async decompressProgress(progress: any) {\n    if (this.isScormMode && this.nonAsciiCharsSupported) {\n      return decompress(progress);\n    }\n    return progress;\n  }\n\n  async restoreProgress() {\n    let progress = await this.storage?.getProgress();\n    progress = await this.decompressProgress(progress);\n    if (progress && progress.user && progress.user.email === this.progress.user.email) {\n      if (isObject(progress.answers)) {\n        progress.answers = this._mapObjectAnswersToArray(progress.answers);\n      }\n      if (!progress.questionPool) {\n        progress.questionPool = [];\n      }\n\n      if (\n        progress.questionPool.length &&\n        this.isQuestionPool &&\n        this.questionPoolSize !== progress.questionPool.length\n      ) {\n        throw new Error('Question Pool size changed.');\n      }\n\n      if (!progress.attempts) {\n        progress.attempts = [];\n      }\n\n      if (!progress.randomizedOptionsList) {\n        progress.randomizedOptionsList = [];\n      }\n\n      if (!this.timerEnabled) {\n        delete progress.timer;\n      }\n\n      this.progress = progress;\n      return true;\n    }\n    return false;\n  }\n\n  updateQuestionProgress(question: any) {\n    const progressIndex = this.questionsIndexToIdSchema.findIndex((id: any) => id === question.id);\n    if (progressIndex === undefined) {\n      throw new Error('Question does not exist.');\n    }\n    this.progress.attempts[progressIndex] = question.attemptNumber || 0;\n    this.progress.answers[progressIndex] = responseMapper.map(question);\n  }\n\n  updateCourseAttemptProgress(courseAttemptNumber: any) {\n    this.progress.courseAttemptNumber = courseAttemptNumber;\n  }\n\n  updateCourseProgress(allQuestionsSubmitted: any) {\n    this.progress.allQuestionsSubmitted = allQuestionsSubmitted;\n  }\n\n  removeQuestionProgress(questionId: any) {\n    const progressIndex = this.questionsIndexToIdSchema.findIndex((id: any) => id === questionId);\n    if (progressIndex === undefined) {\n      throw new Error('Question does not exist.');\n    }\n\n    this.progress.answers.slice(progressIndex, 0);\n    this.progress.attempts.slice(progressIndex, 0);\n  }\n\n  resetTimerProgress() {\n    this.progress.timer = {\n      elapsed: 0,\n      status: 'RESET'\n    };\n  }\n\n  updateChecklistProgress(checkItem: { id: string; isChecked: boolean }) {\n    this.progress.checklistItem[checkItem.id] = checkItem.isChecked;\n  }\n\n  async saveProgress(state: RootAppState) {\n    if (this.storage && this.storage.saveProgress) {\n      this.progress.timeSpent = getTimeSpent(state);\n      if (this.timerEnabled) {\n        this.progress.timer = {\n          elapsed: getTimerElapsed(state),\n          status: getTimerStatus(state)\n        };\n      }\n      const progress =\n        this.isScormMode && this.nonAsciiCharsSupported ? compress(this.progress) : this.progress;\n      await this.storage.saveProgress(progress, state);\n    }\n  }\n\n  async checkScormNonAsciiSupport() {\n    const restoredProgress = await this.storage?.getProgress();\n    if (isEmpty(restoredProgress)) {\n      await this.storage.saveProgress(compress(this.progress));\n      const progress = await this.storage?.getProgress();\n      try {\n        decompress(progress);\n      } catch (e) {\n        this.nonAsciiCharsSupported = false;\n      }\n      await this.storage.saveProgress(restoredProgress);\n    } else {\n      this.nonAsciiCharsSupported = hasNonAscii(JSON.stringify(restoredProgress));\n    }\n  }\n\n  async removeProgress() {\n    await this.storage.removeProgress();\n    this._clearProgress();\n  }\n\n  async authorizeUser(userData: any) {\n    if (this.storage && this.storage.authorizeUser) {\n      return this.storage.authorizeUser(userData);\n    }\n\n    return null;\n  }\n\n  async registerUser(userData: any) {\n    if (this.storage && this.storage.registerUser) {\n      return this.storage.registerUser(userData);\n    }\n\n    return null;\n  }\n\n  async resetPassword(email: any) {\n    if (this.storage && this.storage.resetPassword) {\n      return this.storage.resetPassword(email);\n    }\n\n    return STATUS_OK;\n  }\n\n  async logout() {\n    if (this.storage && this.storage.logout) {\n      await this.storage.logout();\n    }\n\n    this._clearProgressLogout();\n  }\n\n  async sendSecretLink() {\n    if (this.storage && this.storage.sendSecretLink) {\n      return this.storage.sendSecretLink();\n    }\n\n    return STATUS_OK;\n  }\n\n  use(storage: any) {\n    this.storage = storage;\n  }\n\n  get randomizedOptionsList() {\n    return this.progress.randomizedOptionsList;\n  }\n\n  set randomizedOptionsList(randomizedOptionsList: any) {\n    this.progress.randomizedOptionsList = randomizedOptionsList;\n  }\n\n  get courseAttemptNumber() {\n    return this.progress.courseAttemptNumber;\n  }\n\n  set courseAttemptNumber(courseAttemptNumber: any) {\n    this.progress.courseAttemptNumber = courseAttemptNumber;\n  }\n\n  get allQuestionsSubmitted() {\n    return this.progress.allQuestionsSubmitted;\n  }\n\n  set allQuestionsSubmitted(allQuestionsSubmitted: any) {\n    this.progress.allQuestionsSubmitted = allQuestionsSubmitted;\n  }\n\n  get submitOnceAttempt() {\n    return this.progress.submitOnceAttempt;\n  }\n\n  set submitOnceAttempt(submitOnceAttempt: any) {\n    this.progress.submitOnceAttempt = submitOnceAttempt;\n  }\n\n  get timer() {\n    return this.progress.timer;\n  }\n\n  getAnswers(questions: any) {\n    const progressAnswers = this.progress.answers;\n    const progressAttempts = this.progress.attempts;\n\n    const answers: any[] = [];\n    progressAnswers.forEach((answer: any, index: any) => {\n      const question = this._getProgressedQuestion({ questions, answer, answerIndex: index });\n      const attempt = progressAttempts[index] || 0;\n\n      // isEmpty returns true on integer values. hence checking for 100 as well\n      if (isEmpty(answer) && answer !== 100 && attempt === 0) {\n        return;\n      }\n\n      if (!question) {\n        return;\n      }\n\n      const processedAnswer = this._unMapProgress(question, answer);\n      Object.assign(processedAnswer, { attempt });\n      answers.push(processedAnswer);\n    });\n\n    return answers;\n  }\n\n  _getProgressedQuestion({ questions, answer, answerIndex }: { [key: string]: any }) {\n    let questionId: string;\n    if (this._hasFullProgressStructure(answer)) {\n      questionId = this.isScormMode ? idMapper.unMap(answer.id) : answer.id;\n    } else {\n      questionId = this.questionsIndexToIdSchema[answerIndex];\n    }\n\n    return questions.find(({ id }: { [key: string]: any }) => id === questionId);\n  }\n\n  _unMapProgress(question: any, answer: any) {\n    let userResponse;\n    if (this._hasFullProgressStructure(answer)) {\n      const { type, response } = answer;\n      userResponse = this.isScormMode ? idMapper.unMapResponse(type, response) : response;\n      this._rewriteAnswerToShortenStructure(question, userResponse);\n    } else {\n      userResponse = responseMapper.unMap(answer, question);\n    }\n\n    return {\n      id: question.id,\n      response: userResponse\n    };\n  }\n\n  _hasFullProgressStructure(answer: any) {\n    return answer && isObject(answer) && answer.id !== undefined;\n  }\n\n  _rewriteAnswerToShortenStructure(question: any, oldStructureResponse: any) {\n    const entity = Object.assign({}, question);\n    entity.response = oldStructureResponse;\n    entity.isAnswered = true;\n\n    this.updateQuestionProgress(entity);\n  }\n\n  async identifyUser() {\n    if (this.storage && this.storage.identifyUser) {\n      return this.storage.identifyUser();\n    }\n\n    return null;\n  }\n\n  async userExists(email: any) {\n    if (this.storage && this.storage.userExists) {\n      return this.storage.userExists(email);\n    }\n\n    return STATUS_OK;\n  }\n\n  getSocialNetworkAuthLink(socialNetwork: any) {\n    if (this.storage && this.storage.getSocialNetworkAuthLink) {\n      return this.storage.getSocialNetworkAuthLink(socialNetwork);\n    }\n\n    return '#';\n  }\n\n  isAuthenticated() {\n    if (this.storage && this.storage.isAuthenticated) {\n      return this.storage.isAuthenticated();\n    }\n\n    return null;\n  }\n\n  getHeaders({ contentType, bearerToken }: any) {\n    if (this.storage && this.storage.getHeaders) {\n      return this.storage.getHeaders({ contentType, bearerToken });\n    }\n    return {};\n  }\n\n  _clearProgressLogout() {\n    this.progress = Object.assign(defaultCourseProgress, { answers: [] });\n  }\n\n  _clearProgress() {\n    const answersToSave =\n      this.shouldShowPreviousAnswers && this.isSubmitAllAtOnce && !this.isNewSubsetOnEveryAttempt\n        ? [...this.progress.answers]\n        : [];\n\n    const courseAttempts =\n      this.isSubmitAllAtOnce && this.progress.courseAttemptNumber\n        ? this.progress.courseAttemptNumber\n        : 0;\n\n    const randomizedOptionsList =\n      this.isRandomizeAnswersEnabled && this.progress.randomizedOptionsList?.length > 0\n        ? this.progress.randomizedOptionsList\n        : [];\n\n    const questionPoolToSave =\n      this.isQuestionPool && !this.isNewSubsetOnEveryAttempt && this.questionPool?.length > 0\n        ? [...this.questionPool]\n        : [];\n\n    this.progress = Object.assign(defaultCourseProgress, {\n      answers: answersToSave,\n      questionPool: questionPoolToSave,\n      courseAttemptNumber: courseAttempts,\n      randomizedOptionsList\n    });\n  }\n\n  getToken() {\n    if (this.storage && this.storage.getToken) {\n      return this.storage.getToken();\n    }\n    return '';\n  }\n\n  _mapObjectAnswersToArray(originalAnswers: any) {\n    const answers: any[] = [];\n    Object.keys(originalAnswers).forEach((answerIndex: any) => {\n      answers[answerIndex] = originalAnswers[answerIndex];\n    });\n\n    return answers;\n  }\n}\n\nexport default new ProgressStorage();\n","import { events } from 'core/events/eventEmitter';\nimport BaseEventHandler from 'core/events/eventHandler';\nimport progressStorage from './progressStorage';\n\nexport default class EventHandler extends BaseEventHandler {\n  handlers: any[];\n\n  constructor() {\n    super();\n    this.handlers = [\n      { event: events.APP_INITIALIZED, instance: this.appInitialize.bind(this) },\n      { event: events.APP_NAVIGATED, instance: this.appNavigated.bind(this) },\n\n      { event: events.COURSE_LAUNCHED, instance: this.courseLaunched.bind(this) },\n      {\n        event: events.COURSE_QUESTION_POOL_SELECTED,\n        instance: this.courseQuestionPoolSelected.bind(this)\n      },\n      {\n        event: events.COURSE_RANDOMIZED_OPTIONS_SAVED,\n        instance: this.courseRandomizedOptionsSaved.bind(this)\n      },\n      {\n        event: events.COURSE_PROGRESSED,\n        instance: this.courseProgressed.bind(this)\n      },\n      {\n        event: events.SUBMIT_ONCE_COURSE_PROGRESSED,\n        instance: this.courseProgressed.bind(this)\n      },\n      {\n        event: events.COURSE_ATTEMPT_STARTED,\n        instance: this.courseAttemptStarted.bind(this)\n      },\n      {\n        event: events.QUESTION_ANSWERED,\n        instance: this.updateQuestionProgress.bind(this)\n      },\n      {\n        event: events.SUBMIT_ONCE_QUESTION_ANSWERED,\n        instance: this.updateQuestionProgress.bind(this)\n      },\n      {\n        event: events.SUBMIT_ONCE_QUESTION_SUBMITTED,\n        instance: this.updateCourseProgress.bind(this)\n      },\n      {\n        event: events.COURSE_SUBMIT_AT_ONCE_LIMITED,\n        instance: this.updateCourseAttemptProgress.bind(this)\n      },\n      {\n        event: events.SUBMIT_ONCE_QUESTION_ATTEMPTED,\n        instance: this.updateCourseProgress.bind(this)\n      },\n      {\n        event: events.INFORMATION_CONTENT_EXPERIENCED,\n        instance: this.updateQuestionProgress.bind(this)\n      },\n      {\n        event: events.RESET_QUESTION_PROGRESS,\n        instance: this.removeQuestionProgress.bind(this)\n      },\n      {\n        event: events.RESET_TIMER_PROGRESS,\n        instance: this.resetTimerProgress.bind(this)\n      },\n      {\n        event: events.COURSE_TIMER_PROGRESSED,\n        instance: this.courseProgressed.bind(this)\n      },\n\n      { event: events.USER_AUTHENTICATED, instance: this.userAuthorized.bind(this) },\n      { event: events.USER_LOGOUT, instance: this.logout.bind(this) },\n\n      {event: events.UPDATE_CHECKLIST_PROGRESS, instance: this.updateChecklistProgress.bind(this)}\n    ];\n  }\n\n  appInitialize({ state, isScormMode }: any) {\n    progressStorage.initialize({ state, isScormMode });\n  }\n\n  appNavigated({ url, state }: { [key: string]: any }) {\n    // fix for browser back button\n    if (progressStorage.url === url || url === '/') {\n      return;\n    }\n\n    progressStorage.url = url;\n    progressStorage.saveProgress(state);\n  }\n\n  courseLaunched(attemptId: any) {\n    progressStorage.attemptId = attemptId;\n  }\n\n  courseQuestionPoolSelected({\n    questionPoolIds,\n    state\n  }: {\n    questionPoolIds: string[];\n    state: any;\n  }) {\n    progressStorage.questionPool = questionPoolIds;\n    progressStorage.saveProgress(state);\n  }\n\n  courseProgressed(state: any) {\n    progressStorage.saveProgress(state);\n  }\n\n  courseAttemptStarted(state: any) {\n    progressStorage.saveProgress(state);\n  }\n\n  courseRandomizedOptionsSaved({\n    randomizedOptionsList,\n    state\n  }: {\n    randomizedOptionsList: string[];\n    state: any;\n  }) {\n    progressStorage.randomizedOptionsList = randomizedOptionsList;\n    progressStorage.saveProgress(state);\n  }\n\n  updateQuestionProgress([question]: any) {\n    progressStorage.updateQuestionProgress(question);\n  }\n\n  updateCourseProgress([allQuestionsSubmitted]: any) {\n    progressStorage.updateCourseProgress(allQuestionsSubmitted);\n  }\n\n  updateCourseAttemptProgress(courseAttemptNumber: any) {\n    progressStorage.updateCourseAttemptProgress(courseAttemptNumber);\n  }\n  removeQuestionProgress(questionId: any) {\n    progressStorage.removeQuestionProgress(questionId);\n  }\n\n  resetTimerProgress() {\n    progressStorage.resetTimerProgress();\n  }\n\n  userAuthorized(user: any) {\n    progressStorage.user = user;\n  }\n\n  updateChecklistProgress( data: any) {\n    progressStorage.updateChecklistProgress({id: data.id, isChecked: data.isChecked});\n    progressStorage.saveProgress(data.state);\n  }\n\n  async logout({ state }: any) {\n    await progressStorage.logout();\n    this.appInitialize({ state });\n  }\n}\n","import EventHandler from './EventHandler';\nimport progressStorage from './progressStorage';\n\nclass ProgressStorage {\n  eventHandler: any;\n\n  constructor() {\n    this.eventHandler = new EventHandler();\n  }\n\n  subscribe() {\n    this.eventHandler.on();\n  }\n\n  unsubscribe() {\n    this.eventHandler.off();\n  }\n\n  use(storage: any) {\n    progressStorage.use(storage);\n  }\n\n  get url() {\n    return progressStorage.url;\n  }\n\n  get attemptId() {\n    return progressStorage.attemptId;\n  }\n\n  get allQuestionsSubmitted() {\n    return progressStorage.allQuestionsSubmitted;\n  }\n\n  get courseAttemptNumber() {\n    return progressStorage.courseAttemptNumber;\n  }\n\n  get submitOnceAttempt() {\n    return progressStorage.submitOnceAttempt;\n  }\n\n  get checklistItem() {\n    return progressStorage.checklistItem;\n  }\n\n  get timeSpent() {\n    return progressStorage.timeSpent;\n  }\n\n  get timer() {\n    return progressStorage.timer;\n  }\n\n  getAnswers(questions: any) {\n    return progressStorage.getAnswers(questions);\n  }\n\n  getRandomizeAnswers() {\n    return progressStorage.randomizedOptionsList;\n  }\n\n  getQuestionPool() {\n    return progressStorage.questionPool;\n  }\n\n  restoreProgress() {\n    return progressStorage.restoreProgress();\n  }\n\n  restoreAnswers() {\n    return progressStorage.restoreAnswers();\n  }\n\n  checkScormNonAsciiSupport() {\n    return progressStorage.checkScormNonAsciiSupport();\n  }\n\n  identifyUser() {\n    return progressStorage.identifyUser();\n  }\n\n  userExists(email: any) {\n    return progressStorage.userExists(email);\n  }\n\n  resetPassword(email: any) {\n    return progressStorage.resetPassword(email);\n  }\n\n  authorizeUser(userData: any) {\n    return progressStorage.authorizeUser(userData);\n  }\n\n  registerUser(userData: any) {\n    return progressStorage.registerUser(userData);\n  }\n\n  removeProgress() {\n    return progressStorage.removeProgress();\n  }\n\n  sendSecretLink() {\n    return progressStorage.sendSecretLink();\n  }\n\n  getSocialNetworkAuthLink(socialNetwork: any) {\n    return progressStorage.getSocialNetworkAuthLink(socialNetwork);\n  }\n\n  isAuthenticated() {\n    return progressStorage.isAuthenticated();\n  }\n\n  getHeaders({ contentType, bearerToken }: any) {\n    return progressStorage.getHeaders({ contentType, bearerToken });\n  }\n\n  getToken() {\n    return progressStorage.getToken();\n  }\n}\n\nexport default new ProgressStorage();\n","import styled from 'styled-components';\n\ntype SkipToContentProps = {\n  href: string;\n  top: number;\n  left: number;\n  tabIndex: number;\n};\nexport const SkipToContentElement = styled.a.attrs((props: SkipToContentProps) => ({\n  href: props.href,\n  'data-test': 'skip-to-content-link',\n  tabIndex: props.tabIndex\n}))<SkipToContentProps>`\n  position: fixed;\n  top: ${props => props.top}px;\n  left: ${props => props.left}px;\n  padding: 5px 15px;\n  font-family: 'Qanelas-Soft', 'IowanOldSt-BT', 'PT Serif', serif;\n  font-size: 18px;\n  font-weight: 600;\n  background: #fff;\n  color: #000;\n  border: solid 1px #000;\n  border-radius: 5px;\n  text-decoration: none;\n  clip: rect(1px, 1px, 1px, 1px);\n  height: 1px;\n  width: 1px;\n  z-index: 1999;\n\n  &:focus {\n    clip: auto;\n    height: auto;\n    width: auto;\n    outline: none;\n  }\n`;\n","import React from 'react';\nimport { SkipToContentElement } from './SkipToContent.styled';\nimport { localize } from 'core/localization';\n\nexport interface SkipToContentProps {\n  onClick(): void;\n  href?: string;\n}\nexport const SkipToContent = (props: SkipToContentProps) => {\n  const { onClick, href = '#' } = props;\n  return (\n    <SkipToContentElement\n      onClick={(event: any) => {\n        event.preventDefault();\n        onClick();\n      }}\n      onKeyPress={(event: any) => {\n        event.preventDefault();\n        onClick();\n      }}\n      href={href}\n      top={10}\n      left={40}\n      tabIndex={0}\n    >\n      {localize('[skip to content]')}\n    </SkipToContentElement>\n  );\n};\n\nexport default SkipToContent;\n","export { default } from './SkipToContent';\n","import styled, { css } from 'styled-components';\nimport media from 'components/mixins/media';\n\ntype WrapperProps = {\n  isVoiceOver: boolean;\n  isCourseOnOnePage?: boolean;\n};\nexport const Wrapper = styled.div<WrapperProps>`\n  position: relative;\n  height: 100%;\n  width: inherit;\n  ${props =>\n    props.isVoiceOver &&\n    !props.isCourseOnOnePage &&\n    css`\n      position: fixed;\n      height: 84px;\n      top: calc(100% - 110px);\n      ${media.small`\n        width: 100%;\n        left: 0;\n        top: 100%;\n        -webkit-transform: translateY(-100%);\n        transform: translateY(-100%);\n        z-index: 10;\n      `};\n    `};\n  ${props =>\n    props.isVoiceOver &&\n    props.isCourseOnOnePage &&\n    css`\n      height: 84px;\n      width: 100%;\n      margin-top: 20px;\n      ${media.small`\n        height: 57px;\n        z-index: 10;\n      `};\n    `};\n`;\n\nexport default Wrapper;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { isReviewEnabled } from 'store/modules/selectors';\nimport { Wrapper } from './Reviewable.styled';\nimport { RootAppState } from 'store/types';\n\ntype ReviewableProps = {\n  isGeneral?: boolean;\n  context?: { [key: string]: any };\n  reviewMode?: boolean;\n  isVoiceOver?: boolean;\n  children?: any;\n  ReviewSpot?(e?: any): void;\n  hintName?: string;\n  isCourseOnOnePage?: boolean;\n};\n\ntype ReviewableState = {\n  ReviewSpot: any;\n};\n\nexport class Reviewable extends React.Component<ReviewableProps, ReviewableState> {\n  constructor(props: ReviewableProps) {\n    super(props);\n    this.state = { ReviewSpot: '' };\n  }\n\n  renderSpot = async () => {\n    const { default: ReviewSpot } = await import('components/review/ReviewSpot');\n    this.setState({ ReviewSpot });\n  };\n\n  componentDidMount() {\n    if (!this.props.reviewMode) {\n      return;\n    }\n    this.renderSpot();\n  }\n\n  render() {\n    const {\n      reviewMode,\n      isGeneral,\n      context,\n      children,\n      hintName,\n      isVoiceOver = false,\n      isCourseOnOnePage = false\n    } = this.props;\n    const { ReviewSpot } = this.state;\n    return (\n      <Wrapper\n        isVoiceOver={isVoiceOver}\n        isCourseOnOnePage={isCourseOnOnePage}\n        className=\"reviewable-container\"\n      >\n        {children}\n        {reviewMode && ReviewSpot && (\n          <ReviewSpot\n            isVoiceOver={isVoiceOver}\n            hintName={hintName}\n            isGeneral={isGeneral}\n            context={context}\n          />\n        )}\n      </Wrapper>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    reviewMode: isReviewEnabled(state)\n  };\n}\n\nexport default connect(mapStateToProps)(Reviewable);\n","export { default } from './Reviewable';\n","import * as React from 'react';\nimport { BUTTON, SIZES } from 'constants/components';\nimport CircleLoader from 'components/common/CircleLoader';\nimport { ButtonElement, ButtonLinkElement, TextElement, IconElement } from './Button.styled';\n\nexport interface Layout {\n  [BUTTON.LAYOUT.PRIMARY]: string;\n  [BUTTON.LAYOUT.SECONDARY]: string;\n}\nexport interface Size {\n  [SIZES.SMALL]: string;\n  [SIZES.MEDIUM]: string;\n}\ntype ButtonProps = {\n  type?: string;\n  suffixIcon?: string;\n  disabled: boolean;\n  children: React.ReactNode;\n  onClick?(e?: any): void;\n  layout: keyof Layout;\n  size: keyof Size;\n  textTransform?: string;\n  tabIndex?: number;\n  onBlur?(e?: any): void;\n  onFocus?(e?: any): void;\n  onKeyDown?(e?: any): void;\n  link?: string;\n  isLoading?: boolean;\n  loaderIconSize: number;\n  target?: string;\n  inverted: boolean;\n  theme?: any;\n  id?: string;\n};\n\nexport const Button = (props: Readonly<ButtonProps>) => {\n  const {\n    disabled,\n    onClick,\n    children,\n    type,\n    layout,\n    suffixIcon,\n    textTransform,\n    tabIndex,\n    link,\n    onBlur,\n    onFocus,\n    isLoading,\n    loaderIconSize,\n    target,\n    ...other\n  } = props;\n\n  const Element: React.ReactType = link ? ButtonLinkElement : ButtonElement;\n  return (\n    <Element\n      onClick={onClick}\n      disabled={disabled}\n      type={type}\n      layout={layout}\n      suffixIcon={suffixIcon}\n      textTransform={textTransform}\n      tabIndex={tabIndex}\n      href={link}\n      onBlur={onBlur}\n      onFocus={onFocus}\n      target={target || '_blank'}\n      isLoading={isLoading}\n      theme={props.theme}\n      {...other}\n    >\n      <TextElement theme={props.theme} ellipsis layout={layout}>\n        {children}\n      </TextElement>\n      {suffixIcon && (\n        <IconElement name={suffixIcon} color=\"buttonTextColor\" theme={props.theme} size={12} />\n      )}\n      {isLoading && <CircleLoader iconSize={loaderIconSize} />}\n    </Element>\n  );\n};\n\nButton.defaultProps = {\n  layout: BUTTON.LAYOUT.PRIMARY,\n  size: SIZES.MEDIUM,\n  isLoading: false,\n  loaderIconSize: 24,\n  disabled: false,\n  tabIndex: 0,\n  inverted: false\n};\n\nexport default Button;\n","export { default } from './Button';\n","import styled, { css } from 'styled-components';\nimport media from 'components/mixins/media';\n\ntype HelperProps = {\n  isMatchingOption: boolean;\n  isMatching: boolean;\n}\nexport const Helper = styled.div<HelperProps>`\n  display: inline-flex;\n  ${props =>\n    props.isMatchingOption &&\n    css`\n      width: 100%;\n    `}\n\n  ${media.xsmall`\n    display: block;\n    line-height: 40px;\n  `};\n\n  .dropdown {\n    display: block;\n    outline: none;\n    position: relative;\n\n    ${props =>\n      props.isMatchingOption &&\n      css`\n        width: 100%;\n        max-height: 100%;\n      `}\n\n    ${props =>\n      props.isMatching &&\n      media.xsmall`\n        line-height: 30px;\n      `};\n  }\n\n  ${media.xsmall`\n    max-width: 100%;\n    width: 100%;\n    padding: ${(props: HelperProps) => (props.isMatching ? '0' : '0 30px 0 14px')};\n  `};\n`;\n\nexport default Helper;\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport * as typography from 'components/mixins/typography';\n\ntype PopoverContentProps = {\n  isMatching: boolean;\n  theme: any;\n}\nexport const PopoverContent = styled.div<PopoverContentProps>`\n  position: relative;\n  outline: none;\n  ${props =>\n    props.isMatching\n      ? css`\n          &:before {\n            content: '';\n            display: block;\n            position: absolute;\n            left: 5px;\n            right: 5px;\n            bottom: 0;\n            height: 16px;\n            z-index: 11;\n            background: linear-gradient(\n              to top,\n              ${props.theme.colors.contentBodyColor},\n              ${transparentize(props.theme.colors.contentBodyColor, 0)}\n            );\n          }\n        `\n      : css``};\n\n  .downshift-dropdown {\n    position: static;\n    width: auto;\n    min-width: 210px;\n    max-width: 340px;\n    max-height: 360px;\n    padding: 10px 0;\n    background-color: ${props => props.theme.colors.contentBodyColor};\n    border: none;\n    border-radius: 2px;\n    text-align: left;\n    box-sizing: border-box;\n    color: ${props => props.theme.colors.textColor};\n    overflow-y: auto;\n    z-index: 10;\n    -webkit-overflow-scrolling: touch;\n    transition: all 0.3s ease-out;\n\n    ${media.xsmall`\n      max-height: 200px;\n      max-width: 250px;\n    `};\n\n    ${props =>\n    props.isMatching\n      ? css`\n            ${media.small`\n              max-width: 40vw;\n            `};\n            ${media.mobile`\n              max-height: 90vh;\n            `};\n            ${media.xsmall`\n              max-height: 200px;\n              max-width: 210px;\n            `};\n            transition: none;\n          `\n      : css``};\n\n    .dropdown-item {\n      font-size: 16px;\n    }\n  }\n\n  .dropdown-item {\n    box-sizing: border-box;\n    color: ${props => props.theme.colors.textColor};\n    cursor: pointer;\n    display: block;\n    padding: 12px 24px;\n    white-space: normal;\n    ${typography.secondaryFontText};\n    line-height: 22px;\n\n    &.main-color {\n      color: ${props => props.theme.colors.mainColor};\n    }\n\n    &.selected {\n      color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n      text-decoration: line-through;\n    }\n\n    &.current-selected {\n      color: ${props => props.theme.colors.mainColor};\n    }\n\n    &:hover {\n      color: ${props => props.theme.colors.mainColor};\n      background-color: ${props => transparentize(props.theme.colors.textColor, 0.05)};\n      margin: auto 3px;\n      padding: 12px 21px;\n\n      &.selected {\n        color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n      }\n    }\n\n    &:focus {\n      color: ${props => props.theme.colors.mainColor};\n      background-color: ${props => transparentize(props.theme.colors.textColor, 0.05)};\n    }\n  }\n`;\n\nexport default PopoverContent;\n","/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\nimport React from 'react';\nimport { Tooltip } from 'components/common';\nimport { withTheme } from 'styled-components';\nimport { PopoverContent } from './DropdownInputPopover.styled';\n\ntype DropdownInputPopoverProps = {\n  data: any[];\n  theme: { [key: string]: any };\n  popoverPosition: any;\n  isPopoverOpen: boolean;\n  isMatching: boolean;\n  getMenuProps(): void;\n  getItemProps(options: any): void;\n  selectedAnswer: any;\n  highlightedIndex: number | null;\n  setHighlightedIndex(index: any): void;\n  children: any;\n};\n\nexport class DropdownInputPopover extends React.Component<DropdownInputPopoverProps, {}> {\n  classes: any;\n  constructor(props: DropdownInputPopoverProps) {\n    super(props);\n    this.classes = {\n      baseSelected: 'selected',\n      matchingSelected: 'selected current',\n      matchingSelectedCurrent: 'current-selected'\n    };\n  }\n\n  addClasses(item: any) {\n    const { isMatching, selectedAnswer } = this.props;\n    const { baseSelected, matchingSelected, matchingSelectedCurrent } = this.classes;\n\n    const { value, selected, current } = item;\n\n    if (!isMatching) {\n      if (selectedAnswer === value) {\n        return baseSelected;\n      }\n      return '';\n    }\n    if (selected && selected.length) {\n      if (current) {\n        return matchingSelectedCurrent;\n      }\n      return matchingSelected;\n    }\n    return '';\n  }\n\n  render() {\n    const {\n      isPopoverOpen,\n      isMatching,\n      popoverPosition,\n      data,\n      highlightedIndex,\n      setHighlightedIndex,\n      getItemProps,\n      children\n    } = this.props;\n    const templateTheme = this.props.theme;\n    return (\n      <Tooltip\n        trigger={'manual'}\n        open={isPopoverOpen}\n        distance={isMatching ? 0 : 16}\n        classNames=\"dropdown\"\n        tooltipTheme={'light'}\n        position={popoverPosition}\n        html={\n          <PopoverContent tabIndex={0} isMatching={isMatching} theme={templateTheme}>\n            <div data-test=\"dropdown-content\" className=\"downshift-dropdown\">\n              {data.map((item: any, index: any) => (\n                <div\n                  key={index}\n                  tabIndex={0}\n                  role=\"button\"\n                  className={`dropdown-item ${this.addClasses(item)}`}\n                  data-test=\"dropdown-item\"\n                  style={{\n                    color: highlightedIndex === index ? templateTheme.colors.mainColor : null\n                  }}\n                  onMouseLeave={() => setHighlightedIndex(null)}\n                  {...getItemProps({\n                    key: index,\n                    index,\n                    item,\n                    'aria-label': `${index + 1} of ${data.length}`\n                  })}\n                >\n                  {item.value}\n                </div>\n              ))}\n            </div>\n          </PopoverContent>\n        }\n      >\n        {children}\n      </Tooltip>\n    );\n  }\n}\n\nexport default withTheme(DropdownInputPopover);\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport * as typography from 'components/mixins/typography';\nimport { pulse } from 'components/mixins/interactivity';\nimport Icon from 'components/common/Icon';\nimport { centerAbsoluteElement } from 'components/mixins/placement';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nconst pulseAnimationColors = {\n  start: transparentize(defaultBoxShadowColor, 0.05),\n  middle: transparentize(defaultBoxShadowColor, 0.03),\n  end: transparentize(defaultBoxShadowColor, 0.01)\n};\n\nexport const PlusIcon = styled(Icon)`\n  position: absolute;\n  ${centerAbsoluteElement};\n  text-indent: 0;\n  color: ${props => props.theme.colors.mainColor};\n`;\n\ntype DropdownButtonProps = {\n  isMatching: boolean;\n  isMatchingOption: boolean;\n}\nexport const DropdownButton = styled.button<DropdownButtonProps>`\n  &.dropdown-button {\n    vertical-align: top;\n    position: relative;\n    display: inline-block;\n    max-width: 280px;\n    min-width: 210px;\n    min-height: 40px;\n    margin: 0 8px;\n    padding: 0 30px 0 14px;\n    border: none;\n    border-radius: 2px;\n    background-color: ${props => props.theme.colors.contentBodyColor};\n    box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n    color: ${props => props.theme.colors.textColor};\n    ${typography.secondaryFontText};\n    text-align: left;\n    outline: none;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    word-break: break-word;\n    white-space: nowrap;\n    transition: all 0.1s ease-out;\n    cursor: pointer;\n\n    &::-moz-focus-inner {\n      outline: none;\n      border: 0;\n    }\n\n    .dropdown-arrow {\n      content: '';\n      position: absolute;\n      top: 50%;\n      right: 15px;\n      margin-top: -4px;\n      width: 6px;\n      height: 6px;\n      color: ${props => props.theme.colors.textColor};\n      border-style: solid;\n      border-width: 2px 2px 0 0;\n      vertical-align: top;\n      transform: rotate(135deg);\n      transition: transform 0.1s ease-out;\n\n      &.is-open {\n        margin-top: -3px;\n        transform: rotate(-45deg);\n      }\n    }\n\n    &.pulse {\n      ${pulse(pulseAnimationColors)}\n    }\n\n    &.empty {\n      color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n    }\n\n    &:hover {\n      box-shadow: 0 4px 8px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n    }\n    &:focus {\n      box-shadow: 0 1px 0 0 ${transparentize(defaultBoxShadowColor, 0.1)},\n        inset 0 1px 3px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n      outline: 1px solid black;\n    }\n\n    ${props =>\n      props.isMatching\n        ? css`\n            &.dropdown-button {\n              overflow: visible;\n              max-width: auto;\n              min-width: auto;\n              max-height: none;\n              min-height: 40px;\n              width: 40px;\n              height: 40px;\n              border-radius: 50%;\n              padding: 0;\n              background: ${props.theme.colors.contentBodyColor};\n              box-shadow: none;\n              text-indent: -999999px;\n              z-index: 1;\n\n              &:before {\n                content: '';\n                display: block;\n                position: absolute;\n                top: -3px;\n                left: -3px;\n                height: 40px;\n                width: 40px;\n                border-radius: 50%;\n                transition: 0.3s;\n                border: 3px solid ${transparentize(props.theme.colors.contentBodyColor, 0.5)};\n              }\n\n              &:after {\n                content: '';\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                left: 0;\n                right: 0;\n                background: transparent;\n                transition: 0.3s;\n                border-radius: 50%;\n                box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n              }\n\n              &:hover {\n                background: ${transparentize(props.theme.colors.contentBodyColor, 0.9)};\n\n                &:after {\n                  background: ${transparentize(props.theme.colors.mainColor, 0.25)};\n                }\n\n                &:before {\n                  top: -11px;\n                  left: -11px;\n                  border: 11px solid ${transparentize(props.theme.colors.contentBodyColor, 0.2)};\n                }\n              }\n\n              &:focus {\n                background: ${transparentize(props.theme.colors.contentBodyColor, 0.9)};\n\n                &:after {\n                  background: ${transparentize(props.theme.colors.mainColor, 0.25)};\n                }\n              }\n\n              &[aria-expanded='true'] {\n                background: ${props.theme.colors.mainColor};\n                vertical-align: top;\n\n                &:before {\n                  display: none;\n                }\n\n                &:after {\n                  background: transparent;\n                }\n\n                ${PlusIcon} {\n                  color: ${props.theme.colors.contentBodyColor};\n                }\n              }\n\n              .dropdown-arrow {\n                display: none;\n                top: 50%;\n                left: 50%;\n                margin-top: -3px;\n                margin-left: -3px;\n                color: ${props.theme.colors.mainColor};\n\n                &.is-open {\n                  top: 50%;\n                  margin-top: -2px;\n                }\n              }\n\n              & + .chosen-value {\n                background: ${props.theme.colors.contentBodyColor};\n                position: absolute;\n                top: 0;\n                left: 45px;\n                padding: 4px 30px 3px 16px;\n                line-height: 32px;\n                border-radius: 2px;\n                ${typography.secondaryFontText};\n                white-space: nowrap;\n                max-width: 340px;\n                overflow: hidden;\n                text-overflow: ellipsis;\n              }\n\n              ${media.xlarge`\n                width: 36px;\n                height: 36px;\n                min-height: 36px;\n\n                &:before {\n                  height: 36px;\n                  width: 36px;\n                }\n            `}\n\n              ${media.xsmall`\n              width: 30px;\n              height: 30px;\n              min-height: 30px;\n\n              &:before {\n                height: 30px;\n                width: 30px;\n              }\n              ${css`{\n                  ${PlusIcon} {\n                    font-size: 8px;\n                  }\n                }`\n              }\n              & + .chosen-value {\n                left: 39px;\n              }\n            `};\n            }\n          `\n      : css``};\n\n    ${props =>\n    props.isMatching && props.isMatchingOption\n      ? css`\n            &.dropdown-button {\n              ${typography.secondaryFontText};\n              width: 100%;\n              max-width: 100%;\n              height: auto;\n              max-height: 100%;\n              margin: 0;\n              padding: 3px 15px 5px;\n              border-radius: 0;\n              background-color: transparent;\n              box-shadow: none;\n              overflow: hidden;\n              text-overflow: none;\n              white-space: normal;\n              word-break: break-word;\n              text-indent: 0;\n              transition: none;\n              animation: none;\n\n              &.empty-matching-option {\n                color: ${transparentize(props.theme.colors.textColor, 0.4)};\n                text-indent: 0;\n\n                &:hover,\n                &:focus {\n                  color: ${transparentize(props.theme.colors.textColor, 0.7)};\n                  background: ${transparentize(props.theme.colors.mainColor, 0.25)};\n                }\n              }\n\n              &.dropdown-button {\n                &[aria-expanded='true'] {\n                  background: ${transparentize(props.theme.colors.textColor, 0.02)};\n                  vertical-align: top;\n\n                  &:before,\n                  &:after {\n                    display: none;\n                  }\n                }\n\n                &.empty {\n                  &:hover {\n                    color: ${props.theme.colors.textColor};\n                    box-shadow: none;\n                  }\n                }\n\n                &:hover,\n                &:focus {\n                  background: ${transparentize(props.theme.colors.mainColor, 0.25)};\n                  box-shadow: none;\n\n                  &:before,\n                  &:after {\n                    display: none;\n                  }\n                }\n              }\n\n              &:before,\n              &:after {\n                width: 100%;\n                height: 100%;\n                border-radius: 0;\n                border-width: 0;\n                top: 0;\n                left: 0;\n                bottom: 0;\n                right: 0;\n              }\n\n              ${media.xlarge`\n                height: auto;\n              `};\n\n              ${media.xsmall`\n                width: 100%;\n                height: auto;\n\n                &:before {\n                  width: 100%;\n                  height: auto;\n                }\n\n                & + .chosen-value {\n                  left: 0;\n                }\n              `}\n\n              & + .chosen-value {\n                display: none;\n                width: 100%;\n                background: transparent;\n                position: absolute;\n                top: 0;\n                right: 0;\n                bottom: 0;\n                left: 0;\n                color: ${transparentize(props.theme.colors.textColor, 0.5)};\n                text-indent: 0;\n                font-size: 14px;\n                line-height: 32px;\n                word-break: break-word;\n              }\n            }\n          `\n      : css``}\n  }\n`;\n\nexport default DropdownButton;\n","/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\nimport React from 'react';\nimport { localize } from 'core/localization';\nimport { DropdownButton, PlusIcon } from './DropdownInputButton.styled';\n\ntype DropdownInputButtonProps = {\n  placeholder: string;\n  answeredPlaceholder: string;\n  disabled: boolean;\n  selectedAnswer: any;\n  matchingAnswer: string;\n  getToggleButtonProps(options: any): void;\n  getLabelProps(): void;\n  getRootProps(options1: any, options2?: any): void;\n  isOpen: boolean;\n  isMatching: boolean;\n  isMatchingOption: boolean;\n  buttonAnimation: string;\n};\n\nexport const DropdownInputButton = ({\n  placeholder,\n  answeredPlaceholder,\n  selectedAnswer,\n  matchingAnswer,\n  disabled,\n  getToggleButtonProps, // getToggleButtonProps, getLabelProps, getRootProps is required for correct work of Downshift.js\n  getLabelProps,\n  getRootProps,\n  isOpen,\n  isMatching,\n  isMatchingOption,\n  buttonAnimation\n}: DropdownInputButtonProps) => {\n  const renderPlusIcon = () =>\n    isMatching && !isMatchingOption && <PlusIcon size={10} name=\"plus\" />;\n\n  const buttonClasses = {\n    base: `dropdown-button ${!selectedAnswer ? 'empty' : 'dropdown-button'}`,\n    matchingOption: isMatchingOption && !matchingAnswer ? 'empty-matching-option' : '',\n    animation: buttonAnimation || ''\n  };\n\n  const buttonText = () => {\n    if (isMatchingOption && matchingAnswer && selectedAnswer) {\n      return selectedAnswer;\n    }\n    if (!isMatchingOption) {\n      return selectedAnswer || placeholder;\n    }\n    if (isOpen) {\n      return localize('[choose option]');\n    }\n    return placeholder;\n  };\n\n  return (\n    <DropdownButton\n      {...getToggleButtonProps({\n        'aria-label': !selectedAnswer ? placeholder : answeredPlaceholder + selectedAnswer\n      })}\n      {...getLabelProps()}\n      {...getRootProps({}, { suppressRefError: true })}\n      tabIndex={0}\n      disabled={disabled}\n      className={`${buttonClasses.base} ${buttonClasses.matchingOption} ${buttonClasses.animation}`}\n      isMatching={isMatching}\n      isMatchingOption={isMatchingOption}\n    >\n      {buttonText()}\n      <span className={isOpen ? 'dropdown-arrow is-open' : 'dropdown-arrow'} />\n      {renderPlusIcon()}\n    </DropdownButton>\n  );\n};\n\nexport default DropdownInputButton;\n","/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\nimport * as React from 'react';\nimport Downshift from 'downshift';\nimport { withTheme } from 'styled-components';\nimport { Helper } from './DropdownInput.styled';\nimport { DropdownInputPopover } from './popover/DropdownInputPopover';\nimport { DropdownInputButton } from './button/DropdownInputButton';\n\ntype DropdownInputProps = {\n  data: any[];\n  isMatching?: boolean;\n  isMatchingOption?: boolean;\n  onChange(e?: any): void;\n  name: string;\n  placeholder: string;\n  answeredPlaceholder: string;\n  matchingAnswer?: string;\n  value: string;\n  disabled?: boolean;\n  theme?: { [key: string]: any };\n  buttonAnimation?: string;\n  popoverPosition: string;\n  children?: any;\n};\n\ntype DropdownInputState = {\n  selectedAnswer: any;\n  isPopoverOpen: boolean;\n}\nclass DropdownInput extends React.Component<DropdownInputProps, DropdownInputState> {\n  constructor(props: DropdownInputProps) {\n    super(props);\n    this.state = {\n      selectedAnswer: this.props.value,\n      isPopoverOpen: false\n    }\n  }\n\n  onOptionSelect = (selectedAnswer: any) => {\n    if (selectedAnswer) {\n      this.setState({ selectedAnswer: selectedAnswer.value });\n    }\n  };\n\n  componentDidUpdate(prevProps: DropdownInputProps) {\n    if (this.props.value !== prevProps.value) {\n      this.setState({ selectedAnswer: this.props.value });\n    }\n  }\n\n  onStateChange = (state: any) => {\n    if (typeof state.isOpen === 'undefined') {\n      return;\n    }\n    this.setState({ isPopoverOpen: state.isOpen });\n  };\n\n  render() {\n    const {\n      placeholder,\n      answeredPlaceholder,\n      onChange,\n      disabled = false,\n      popoverPosition,\n      buttonAnimation = '',\n      isMatching = false,\n      isMatchingOption = false,\n      matchingAnswer = ''\n    } = this.props;\n    let { selectedAnswer, isPopoverOpen } = this.state;\n\n    if (matchingAnswer) {\n      selectedAnswer = matchingAnswer;\n    }\n\n    return (\n      <Helper isMatching={isMatching} isMatchingOption={isMatchingOption}>\n        <Downshift\n          onChange={onChange}\n          selectedItem={selectedAnswer}\n          onSelect={this.onOptionSelect}\n          itemToString={data => (data ? data.value : '')}\n          onStateChange={this.onStateChange}\n        >\n          {({\n            isOpen,\n            getToggleButtonProps,\n            getItemProps,\n            highlightedIndex,\n            getLabelProps,\n            getMenuProps,\n            getRootProps,\n            setHighlightedIndex\n          }) => {\n            const renderChosenValue = () => <div className=\"chosen-value\">{matchingAnswer}</div>;\n\n            return (\n              <div title={selectedAnswer || placeholder} className={'dropdown'}>\n                <DropdownInputPopover\n                  data={this.props.data}\n                  theme={this.props.theme || {}}\n                  isPopoverOpen={isPopoverOpen}\n                  popoverPosition={popoverPosition}\n                  getMenuProps={getMenuProps}\n                  getItemProps={getItemProps}\n                  selectedAnswer={selectedAnswer}\n                  highlightedIndex={highlightedIndex}\n                  isMatching={isMatching}\n                  setHighlightedIndex={setHighlightedIndex}\n                >\n                  <DropdownInputButton\n                    placeholder={placeholder}\n                    answeredPlaceholder={answeredPlaceholder}\n                    selectedAnswer={selectedAnswer}\n                    matchingAnswer={matchingAnswer}\n                    disabled={disabled}\n                    getToggleButtonProps={getToggleButtonProps}\n                    getLabelProps={getLabelProps}\n                    getRootProps={getRootProps}\n                    isOpen={isOpen}\n                    isMatching={isMatching}\n                    isMatchingOption={isMatchingOption}\n                    buttonAnimation={buttonAnimation}\n                  />\n                  {isMatching && matchingAnswer && renderChosenValue()}\n                </DropdownInputPopover>\n              </div>\n            );\n          }}\n        </Downshift>\n      </Helper>\n    );\n  }\n}\n\nexport default withTheme(DropdownInput);\n","export { default } from './DropdownInput';\n","import styled from 'styled-components';\n\ntype SeparatorTypes = {\n  margin?: number;\n  height?: number;\n  opacity?: number;\n  color?: string;\n  marginBottom?: number;\n};\nexport const Separator = styled.div<SeparatorTypes>`\n  position: relative;\n  width: 100%;\n  height: ${({ height = 2, margin = 32, opacity = 0.08, ...rest }: SeparatorTypes) =>\n    height + margin * 2}px;\n  margin-bottom: ${props =>\n    props.marginBottom || props.marginBottom === 0 ? props.marginBottom : 0}px;\n  &:after {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: ${props => props.height}px;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 0;\n    background-color: ${props =>\n      props.color && props.theme.colors[props.color]\n      ? props.theme.colors[props.color]\n      : props.theme.colors.ctaButtonColor};\n    opacity: ${props => (props.opacity || props.opacity === 0 ? props.opacity : 0.08)};\n  }\n`;\n\nSeparator.defaultProps = {\n  margin: 32,\n  height: 2,\n  opacity: 0.08\n};\n\nexport default Separator;\n","export { default } from './Separator';\n","import { getQuestion } from 'store/questions/selectors';\nimport { isRandomizeAnswersEnabled } from 'store/settings/selectors';\nimport { RootAppState } from '../../types';\n\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  const randomizeAnswersEnabled = isRandomizeAnswersEnabled(state);\n  const { answers: options, randomizedOptions = [] } = question;\n  const answers = randomizeAnswersEnabled ? randomizedOptions : options;\n  if (question.type === 'singleSelectImage') {\n    return answers.map((answer: any) => ({\n      id: answer.id,\n      image: answer.image,\n      selected: question.response.some((a: any) => a === answer.id)\n    }));\n  }\n  return answers.map((answer: any) => ({\n    id: answer.id,\n    isCorrect: answer.isCorrect,\n    text: answer.text,\n    selected: question.response.some((a: any) => a === answer.id)\n  }));\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  if (question.type === 'singleSelectImage') {\n    if (!question.response.includes(question.correctAnswerId)) {\n      return 0;\n    }\n  } else {\n    for (let i = 0; i < question.answers.length; i++) {\n      const answer = question.answers[i];\n      if (answer.isCorrect && !question.response.includes(answer.id)) {\n        return 0;\n      }\n      if (!answer.isCorrect && question.response.includes(answer.id)) {\n        return 0;\n      }\n    }\n  }\n\n  return 100;\n};\n","import resourceLoader from 'core/http/resourceLoader';\n\nexport const SETTINGS_LOADED = 'SETTINGS_LOADED';\nexport const SETTINGS_LOADING_FAILED = 'SETTINGS_LOADING_FAILED';\n\nclass ConfigurationReader {\n  readManifest() {\n    return resourceLoader.getLocalJsonResource('manifest.json');\n  }\n\n  readSettings() {\n    return resourceLoader.getLocalJsonResource('settings.js');\n  }\n\n  readPublishSettings() {\n    return resourceLoader.getLocalJsonResource('publishSettings.js');\n  }\n\n  readThemeSettings() {\n    return resourceLoader.getLocalJsonResource('themeSettings.js');\n  }\n\n  readCustomization() {\n    return resourceLoader.getLocalJsonResource('customisations.json');\n  }\n}\n\nexport default new ConfigurationReader();\n","import { deepMerge } from 'utils/object';\nimport resourceLoader from 'core/http/resourceLoader';\nimport { DEFAULT_LANGUAGE_CODE, CUSTOM_LANGUAGE_CODE } from 'constants/common';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const getTranslations = async function(settings: { [key: string]: any }) {\n  const languageCode = settings.languages.selected.toLowerCase();\n\n  if (languageCode === CUSTOM_LANGUAGE_CODE) {\n    const defaultTranslations = await loadTranslation(DEFAULT_LANGUAGE_CODE);\n    return deepMerge(defaultTranslations, settings.languages.customTranslations);\n  }\n\n  document.documentElement.setAttribute('lang', languageCode);\n\n  return loadTranslation(languageCode);\n};\n\nfunction loadTranslation(code: any) {\n  return resourceLoader.getLocalJsonResource(`lang/${code}.json`);\n}\n","import { deepExtend } from 'utils/object';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const processSettings = function (settings: { [key: string]: any}, themeSettings: { [key: string]: any }, manifest: { [key: string]: any }) {\n  return deepExtend(\n    processThemeSettings(themeSettings, manifest),\n    processTemplateSettings(settings, manifest)\n  );\n};\n\nfunction processThemeSettings(themeSettings: any, manifest: any) {\n  let preset = manifest && Array.isArray(manifest.presets) ? manifest.presets[0] : null;\n  let defaultThemeSettings = preset != null ? preset.settings : {};\n\n  return deepExtend(defaultThemeSettings, themeSettings);\n}\n\nfunction processTemplateSettings(templateSettings: any, manifest: any) {\n  if (!manifest.defaultTemplateSettings) {\n    throw new Error(\"Manifest doesn't have defaultTemplateSettings\");\n  }\n  return deepExtend(manifest.defaultTemplateSettings, templateSettings);\n}\n","import { events } from 'core/events/eventEmitter';\nimport BaseEventHandler from 'core/events/eventHandler';\nimport store from 'store';\nimport { ActionTypes } from 'store/app/types';\n\nexport default class EventHandler extends BaseEventHandler {\n  handlers: any[];\n\n  constructor() {\n    super();\n    this.handlers = [\n      {\n        event: events.APP_OFFLINE_OR_SERVER_ERROR,\n        instance: this.appOfflineOrServerError.bind(this)\n      },\n      { event: events.APP_ONLINE, instance: this.appOnline.bind(this) }\n    ];\n  }\n\n  appOfflineOrServerError() {\n    store.dispatch({\n      type: ActionTypes.APP_OFFLINE_OR_SERVER_ERROR\n    });\n  }\n\n  appOnline() {\n    store.dispatch({\n      type: ActionTypes.APP_ONLINE\n    });\n  }\n}\n","import EventHandler from './eventHandler';\nclass ConnectionAlert {\n  eventHandler: any;\n\n  constructor() {\n    this.eventHandler = new EventHandler();\n  }\n\n  subscribe() {\n    this.eventHandler.on();\n  }\n\n  unsubscribe() {\n    this.eventHandler.off();\n  }\n}\n\nexport default new ConnectionAlert();\n","import * as settingsActions from 'store/settings/actions';\nimport * as modulesActions from 'store/modules/actions';\nimport * as tocActions from 'store/treeOfContent/actions';\nimport * as userActions from 'store/user/actions';\nimport { isReviewMode, isResource, isCourse } from 'store/settings/selectors';\nimport { isLowerResolution, clearQueryString, getValueFromUrl } from 'utils/window';\nimport logger from 'utils/logger';\nimport { MEDIA_TABLET } from 'constants/screenResolutions';\nimport { ThunkResult } from 'store/types';\nimport connectionAlert from 'core/connectionAlert';\nimport resourceLoader from 'core/http/resourceLoader';\nimport { isAppLoaded } from './selectors';\nimport { ActionTypes } from './types';\nimport * as resourcesActions from '../resource/actions';\nimport * as courseActions from '../course/actions';\nimport contentLoader from '../../core/http/contentLoader';\nimport { LTI_CALLBACK_URL_PARAMETER_NAME } from '../../constants/common';\n\nconst loadMaterial = (data: any): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  if (isResource(getState())) {\n    await dispatch(resourcesActions.load(data));\n  } else {\n    connectionAlert.subscribe();\n\n    await dispatch(courseActions.load(data));\n    await dispatch(userActions.load());\n\n    if (isReviewMode(getState())) {\n      await dispatch(modulesActions.enableReview());\n    }\n    const ltiCallbackUrl = getValueFromUrl(LTI_CALLBACK_URL_PARAMETER_NAME);\n    if (ltiCallbackUrl) {\n      dispatch(modulesActions.subscribeLti(ltiCallbackUrl));\n    }\n  }\n};\n\nexport const load = (): ThunkResult => async (dispatch, getState) => {\n  if (isAppLoaded(getState())) return;\n\n  try {\n    const materialData = await contentLoader.loadMaterialData();\n    resourceLoader.cacheBuster = materialData.createdOn;\n\n    await dispatch(settingsActions.load());\n    await dispatch(modulesActions.subscribeProgressStorage());\n    await dispatch(loadMaterial(materialData));\n    clearQueryString();\n    dispatch({ type: ActionTypes.APP_LOADED });\n  } catch (e) {\n    logger.error(e);\n    dispatch({ type: ActionTypes.APP_LOADING_FAILED, reason: e });\n  }\n};\n\nexport const resolutionChanged = (): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.APP_RESOLUTION_CHANGED,\n    payload: {\n      isLowResolution: isLowerResolution(MEDIA_TABLET)\n    }\n  });\n  dispatch(tocActions.adaptToResolution());\n};\n\nexport const launchMaterial = (): ThunkResult => (dispatch, getState) => {\n  if (isResource(getState())) {\n    return dispatch(resourcesActions.launch());\n  }\n  if (isCourse(getState())) {\n    return dispatch(courseActions.launch());\n  }\n\n  throw new Error('The resource type is undefined');\n};\n","import logger from 'utils/logger';\nimport { hasQueryStringParameter } from 'utils/window';\nimport configurationReader from 'core/configuration/reader';\nimport { getTranslations } from 'core/configuration/translationProvider';\nimport { processSettings } from 'core/configuration/settingsProcessor';\nimport { loadFonts } from 'core/fonts/loader';\nimport { MATERIAL_TYPES } from 'constants/common';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from 'store/types';\n\nexport const load = (): ThunkResult<Promise<void>> => async dispatch => {\n  try {\n    const [\n      manifest,\n      customization,\n      publishSettings,\n      templateThemeSettings,\n      templateSettings\n    ]: [\n      { [key: string]: any },\n      { [key: string]: any },\n      { [key: string]: any },\n      any,\n      any\n    ] = await Promise.all([\n      configurationReader.readManifest(),\n      configurationReader.readCustomization(),\n      configurationReader.readPublishSettings(),\n      configurationReader.readThemeSettings(),\n      configurationReader.readSettings()\n    ]);\n\n    const settings: { [key: string]: any } = processSettings(templateSettings, templateThemeSettings, manifest);\n    const translations: { [key: string]: any } = await getTranslations(settings);\n    await loadFonts(settings && settings.fonts, publishSettings.customFontPlace);\n\n    const publishMode: { [key: string]: any } = {\n      isPreview: publishSettings.publishMode === 'Preview',\n      isReview: hasQueryStringParameter('reviewApiUrl'),\n      isScorm: publishSettings.publishMode === 'Lms' || publishSettings.publishMode === 'Lms2004',\n      isScorm2004: publishSettings.publishMode === 'Lms2004'\n    };\n\n    if (publishMode.isPreview || publishMode.isReview) {\n      settings.conductLearnerSatisfactionSurvey.enabled = false;\n      settings.saveProgressCrossDevice.enabled = false;\n      settings.resultsTracking.enabled = false;\n    }\n\n    if(publishSettings.materialType === MATERIAL_TYPES.RESOURCE) {\n      settings.saveProgressCrossDevice = false;\n    }\n\n    delete publishSettings.publishMode;\n\n    dispatch({\n      type: ActionTypes.SETTINGS_LOADED,\n      settings: {\n        manifest,\n        publishSettings,\n        settings,\n        customization,\n        translations,\n        publishMode\n      } as any\n    });\n  } catch (e) {\n    logger.error(e);\n    dispatch({ type: ActionTypes.SETTINGS_LOADING_FAILED, reason: e });\n    throw e;\n  }\n};\n","export type CourseState = {\n  title: string;\n  id: string;\n  templateId: string;\n  createdBy: string;\n  createdOn: Date;\n  hasIntroductionContent: boolean;\n  isLoadingFailed: boolean;\n  attemptId: string | null;\n  hasBeenContinued: boolean;\n  result: number;\n  isCompleted: boolean;\n  isCertificateDownloaded: boolean;\n  score: number;\n  status: number;\n  sections: string[];\n  introductions?: string[];\n  passedAfterwords: string[];\n  failedAfterwords: string[];\n  previewQuestionId?: string;\n  isAttemptSubmitted?: boolean;\n  courseAttempt: number;\n  isLaunched: boolean;\n  isProgressRestoreFailed?: boolean;\n  isProgressRestoreFetched?: boolean;\n  timeSpent: TimeSpentState;\n  isRandomizedOptionsLoaded?: boolean;\n  isCourseFinished?: boolean;\n};\n\nexport type TimeSpentState = {\n  accumulatedValueInMilliseconds: number;\n  incrementStartedAt: Date;\n};\n\nexport enum ActionTypes {\n  COURSE_DATA_LOADING_STARTED = 'COURSE_DATA_LOADING_STARTED',\n  COURSE_DATA_LOADED = 'COURSE_DATA_LOADED',\n  COURSE_DATA_LOADING_FAILED = 'COURSE_DATA_LOADING_FAILED',\n  COURSE_SCORE_UPDATED = 'COURSE_SCORE_UPDATED',\n  COURSE_LAUNCHED = 'COURSE_LAUNCHED',\n  COURSE_STARTED = 'COURSE_STARTED',\n  COURSE_SUBMIT_AT_ONCE = 'COURSE_SUBMIT_AT_ONCE',\n  COURSE_SUBMIT_AT_ONCE_LIMITED = 'COURSE_SUBMIT_AT_ONCE_LIMITED',\n  COURSE_REATTEMPTED_SUBMIT_AT_ONCE = 'COURSE_REATTEMPTED_SUBMIT_AT_ONCE',\n  COURSE_PROGRESS_RESTORED = 'COURSE_PROGRESS_RESTORED',\n  COURSE_PROGRESS_RESTORE_FAILED = 'COURSE_PROGRESS_RESTORE_FAILED',\n  COURSE_PROGRESS_RESTORE_FETCHED = 'COURSE_PROGRESS_RESTORE_FETCHED',\n  COURSE_CLEANUP = 'COURSE_CLEANUP',\n  COURSE_FINISHED = 'COURSE_FINISHED',\n  COURSE_FINALIZED = 'COURSE_FINALIZED',\n  CLEAR_PREVIEW_QUESTION_ID = 'CLEAR_PREVIEW_QUESTION_ID',\n  CERTIFICATE_DOWNLOADED = 'CERTIFICATE_DOWNLOADED',\n  COURSE_IS_PASSED = 'COURSE_PASSED',\n  TIME_SPENT_UPDATED = 'TIME_SPENT_UPDATED',\n  COURSE_IS_FAILED = 'COURSE_FAILED',\n  COURSE_RANDOMIZED_OPTIONS_LOADED = 'COURSE_RANDOMIZED_OPTIONS_LOADED'\n}\n\ninterface CourseIsPassed {\n  type: ActionTypes.COURSE_IS_PASSED;\n  payload: {\n    status: number;\n  };\n}\n\ninterface CourseIsFailed {\n  type: ActionTypes.COURSE_IS_FAILED;\n  payload: {\n    status: number;\n  };\n}\n\ninterface CourseSubmitAtOnce {\n  type: ActionTypes.COURSE_SUBMIT_AT_ONCE;\n}\n\ninterface CourseSubmitAtOnceLimited {\n  type: ActionTypes.COURSE_SUBMIT_AT_ONCE_LIMITED;\n  payload: {\n    courseAttempt: number;\n  };\n}\n\ninterface CourseReAttemptedSubmitAtOnce {\n  type: ActionTypes.COURSE_REATTEMPTED_SUBMIT_AT_ONCE;\n}\ninterface CourseScoreUpdate {\n  type: ActionTypes.COURSE_SCORE_UPDATED;\n  payload: {\n    score: number;\n    status: number;\n  };\n}\n\ninterface CourseDataLoadingStarted {\n  type: ActionTypes.COURSE_DATA_LOADING_STARTED;\n}\n\ninterface CourseDataLoaded {\n  type: ActionTypes.COURSE_DATA_LOADED;\n  payload: CourseState;\n}\n\ninterface CourseDataLoadedFailed {\n  type: ActionTypes.COURSE_DATA_LOADING_FAILED;\n  reason: any;\n}\n\ninterface CourseProgressRestored {\n  type: ActionTypes.COURSE_PROGRESS_RESTORED;\n  payload: {\n    attemptId: string;\n  };\n}\n\ninterface CourseProgressRestoreFailed {\n  type: ActionTypes.COURSE_PROGRESS_RESTORE_FAILED;\n  reason: any;\n}\n\ninterface CourseProgressRestoreFetched {\n  type: ActionTypes.COURSE_PROGRESS_RESTORE_FETCHED;\n}\n\ninterface CourseLaunched {\n  type: ActionTypes.COURSE_LAUNCHED;\n  payload: {\n    attemptId?: string;\n  };\n}\n\ninterface CourseStarted {\n  type: ActionTypes.COURSE_STARTED;\n}\n\ninterface CourseCleanUp {\n  type: ActionTypes.COURSE_CLEANUP;\n}\n\ninterface CourseFinished {\n  type: ActionTypes.COURSE_FINISHED;\n}\n\ninterface CourseFinalized {\n  type: ActionTypes.COURSE_FINALIZED;\n}\n\ninterface ClearPreviewQuestionId {\n  type: ActionTypes.CLEAR_PREVIEW_QUESTION_ID;\n}\n\ninterface CertificateDownloaded {\n  type: ActionTypes.CERTIFICATE_DOWNLOADED;\n  payload: any;\n}\n\ninterface TimeSpentUpdated {\n  type: ActionTypes.TIME_SPENT_UPDATED;\n  payload: {\n    timeSpent: {\n      accumulatedValueInMilliseconds: number;\n      incrementStartedAt: Date;\n    };\n  };\n}\n\ninterface CourseRandomizedOptionsLoaded {\n  type: ActionTypes.COURSE_RANDOMIZED_OPTIONS_LOADED;\n}\n\nexport type CourseActionTypes =\n  | CourseIsPassed\n  | CourseIsFailed\n  | CourseScoreUpdate\n  | CourseDataLoadingStarted\n  | CourseDataLoadedFailed\n  | CourseProgressRestored\n  | CourseLaunched\n  | CourseStarted\n  | CourseCleanUp\n  | CourseFinished\n  | CourseFinalized\n  | ClearPreviewQuestionId\n  | CertificateDownloaded\n  | CourseSubmitAtOnce\n  | CourseSubmitAtOnceLimited\n  | CourseReAttemptedSubmitAtOnce\n  | CourseDataLoaded\n  | CourseProgressRestoreFailed\n  | CourseProgressRestoreFetched\n  | TimeSpentUpdated\n  | CourseRandomizedOptionsLoaded;\n","import styled, { css } from 'styled-components';\nimport Icon from 'components/common/Icon';\nimport { transparentize } from 'utils/color';\nimport * as typography from 'components/mixins/typography';\nimport { centerAbsoluteElement } from 'components/mixins/placement';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nexport const ArrowIcon = styled(Icon)`\n  color: ${props => props.theme.colors.mainColor};\n  position: absolute;\n  ${centerAbsoluteElement};\n`;\n\ntype DroppableItemStyleProps = {\n  isMultipleList: boolean;\n  isDragging: boolean;\n  isPlaceholderVisible: boolean;\n}\nexport const DroppableItemStyle = styled.div.attrs({\n  'data-test': 'draggable-item'\n})<DroppableItemStyleProps>`\n  padding: 5px 30px 5px 40px;\n  userselect: 'none';\n  margin: 0 0 8px 0;\n  position: relative;\n  border-radius: 2px;\n  color: ${props => props.theme.colors.textColor};\n  width: 100%;\n  cursor: move;\n  user-select: none;\n  transform: ${props => (props.isMultipleList && !props.isDragging ? 'none !important' : '')};\n  ${props => (props.isMultipleList ? 'vertical-align: middle;' : '')};\n\n  &:before {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 15px;\n    width: 12px;\n    height: 2px;\n    border-top: 2px solid ${props => transparentize(props.theme.colors.textColor, 0.2)};\n    border-bottom: 2px solid ${props => transparentize(props.theme.colors.textColor, 0.2)};\n    margin-top: -3px;\n    transition: 0.2s;\n  }\n\n  &:hover {\n    box-shadow: 0 1px 4px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n\n    &:before {\n      border-color: ${props => props.theme.colors.mainColor};\n    }\n  }\n\n  ${props =>\n    props.isDragging\n      ? css`\n          background: ${props.theme.colors.contentBodyColor};\n          box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n\n          &:before {\n            border-color: ${props.theme.colors.mainColor};\n          }\n\n          & + div {\n            background: ${props.isPlaceholderVisible\n              ? transparentize(props.theme.colors.textColor, 0.02)\n              : 'transparent'};\n            border-radius: 2px;\n            vertical-align: middle;\n            ${props.isMultipleList ? 'vertical-align: middle;' : ''};\n          }\n        `\n      : css`\n          background: ${transparentize(props.theme.colors.textColor, 0.06)};\n        `};\n`;\n\nexport const DroppableListStyle = styled.div.attrs({\n  'data-test': 'droppable-area'\n})`\n  width: 100%;\n`;\n\ntype DroppableItemWrapperProps = {\n  isMultipleList: boolean;\n  isAreaEmpty: boolean;\n  position: any;\n  isImageLoaded: boolean;\n  isDropDisabled: boolean;\n  width: number;\n  widthInvisible: number;\n}\nexport const DroppableItemWrapper = styled.div<DroppableItemWrapperProps>`\n  display: flex;\n  align-items: center;\n  font-weight: bold;\n  ${typography.secondaryFontText};\n\n  ${props =>\n    props.isMultipleList &&\n    css`\n      ${DroppableListStyle} {\n        min-height: 40px;\n        margin-bottom: 15px;\n        width: 100%;\n\n        & + div {\n          display: none !important;\n        }\n\n        ${props.isAreaEmpty &&\n          css`\n            & {\n              margin-bottom: 30px;\n              background-color: ${transparentize(props.theme.colors.textColor, 0.04)};\n            }\n\n            &::after {\n              display: block;\n              content: attr(data-area-empty-text);\n              ${typography.secondaryFont}\n              font-weight: normal;\n              font-size: 14px;\n              text-align: center;\n              line-height: 40px;\n              color: ${transparentize(props.theme.colors.textColor, 0.4)};\n            }\n          `}\n      }\n\n      ${DroppableItemStyle} {\n        padding: 0;\n        white-space: nowrap;\n        display: inline-block;\n        width: auto !important;\n        margin-right: 15px;\n        margin-bottom: 15px;\n        max-width: 360px;\n\n        & > div {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          line-height: 1.5;\n          padding: 9px 30px 8px 40px;\n        }\n      }\n    `};\n  ${props =>\n    props.position &&\n    css`\n      position: absolute;\n      top: ${props.position.y}%;\n      left: ${props.position.x}%;\n      min-width: ${props.isDropDisabled ? '44' : props.width}px;\n      background: ${transparentize(props.theme.colors.contentBodyColor, 0.9)};\n      box-shadow: inset 0 2px 0 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n      border-radius: 2px;\n      transition: 0.3s;\n      transform: ${!props.isImageLoaded ? 'scale(0)' : ''};\n      opacity: ${!props.isImageLoaded ? '0.8' : '1'};\n\n      ${!props.isDropDisabled &&\n        css`\n          &:after {\n            content: '0';\n            display: block;\n            ${typography.secondaryFontText};\n            line-height: 1.5;\n            padding: 9px 0 8px;\n            color: transparent;\n          }\n        `}\n\n      &:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: ${props.width === 44\n          ? 'transparent'\n          : transparentize(props.theme.colors.mainColor, 0.25)};\n        transition: 0.3s;\n      }\n\n      & > div {\n        top: 0;\n        ${props.isDropDisabled ? '' : 'position: absolute'};\n        transition: 0.3s;\n        min-width: ${props.isDropDisabled ? '44' : props.widthInvisible}px;\n        height: 100%;\n\n        & + div {\n          display: none !important;\n        }\n      }\n\n      & ${DroppableItemStyle} {\n        background: ${props.theme.colors.contentBodyColor};\n        margin-bottom: 0;\n        box-shadow: 0 1px 3px 0 ${transparentize(defaultBoxShadowColor, 0.04)};\n      }\n    `};\n`;\n\ntype ImageWrapperProps = {\n  isImageLoaded?: boolean;\n  isImageNotFound?: boolean;\n}\nexport const ImageWrapper = styled.div.attrs({\n  'data-test': 'image-wrapper'\n})<ImageWrapperProps>`\n  position: relative;\n  display: inline-block;\n  height: ${props => (props.isImageLoaded ? 'auto' : '182px')};\n  width: max-content;\n  max-width: 100%;\n  background: ${props =>\n    props.isImageNotFound || !props.isImageLoaded\n      ? transparentize(props.theme.colors.textColor, 0.02)\n      : 'transparent'};\n  padding: ${props => (props.isImageNotFound ? '16px 0' : '0')};\n\n  ${DroppableListStyle} {\n    min-height: auto;\n    margin-right: 0;\n    margin-bottom: 0;\n  }\n\n  ${DroppableItemStyle} {\n    margin-right: 0;\n  }\n\n  img {\n    display: block;\n    opacity: ${props => (props.isImageLoaded ? '1' : '0')};\n    max-width: 100%;\n    margin: ${props => (props.isImageNotFound ? '0 auto' : '0')};\n  }\n`;\n","import * as React from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport cloneDeep from 'lodash.clonedeep';\nimport { localize } from 'core/localization';\nimport NumericList from 'components/common/NumericList';\nimport { NO_SELECTED_ID } from 'constants/common';\nimport CircleLoader from 'components/common/CircleLoader';\nimport {\n  DroppableListStyle,\n  DroppableItemStyle,\n  DroppableItemWrapper,\n  ArrowIcon,\n  ImageWrapper\n} from './DragDrop.styled';\n\nconst DROPPABLE_WIDTH = 44;\n\ntype DragDropProps = {\n  id: string;\n  listsOfItems: any[];\n  moveItem(arg1: any, arg2: any, arg3: any, arg4: boolean, arg5: any, arg6?: any): void;\n  isMultipleList: boolean;\n  actions?: { [key: string]: any };\n  imageUrl?: string;\n  getDragActions?(): void;\n  background?: string;\n  setPositionDependingImageScale?(): void;\n  getPositionDependingImageScale?(arg1: any, arg2: any, arg3: any): void;\n  handleImageLoaded?(arg1: any, arg2: any): void;\n  isImageLoaded?: boolean;\n  allowSubmit: boolean;\n  questionActions?: { [key: string]: any };\n  isImageNotFound?: boolean;\n  dropspots?: any[];\n  retries?: number;\n  isAnswered: boolean;\n};\n\ntype DragDropState = {\n  listsOfItems: any;\n  isPlaceholderVisible: boolean;\n  numericListHeights: any[];\n  droppableWidth: any;\n  droppableWidthInvisible: any;\n  isAnswered: boolean;\n  retries: number;\n};\nexport class DragDrop extends React.Component<DragDropProps, DragDropState> {\n  customRefs: any;\n  imageRefs: any;\n\n  constructor(props: DragDropProps) {\n    super(props);\n    this.customRefs = {};\n    this.imageRefs = {};\n    this.state = {\n      listsOfItems: props.listsOfItems,\n      isPlaceholderVisible: true,\n      numericListHeights: [],\n      droppableWidth: DROPPABLE_WIDTH,\n      droppableWidthInvisible: DROPPABLE_WIDTH,\n      isAnswered: props.isAnswered || false,\n      retries: props.retries || 0\n    };\n\n    if (!props.isMultipleList) {\n      props.moveItem(\n        this.state.listsOfItems[0].items,\n        props.listsOfItems[0].id,\n        props.actions,\n        props.allowSubmit,\n        props.questionActions,\n        true\n      );\n    } else {\n      props.moveItem(\n        this.state.listsOfItems,\n        props.id,\n        props.actions,\n        props.allowSubmit,\n        props.questionActions,\n        true\n      );\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps: DragDropProps, prevState: DragDropState) {\n    if (nextProps.retries !== prevState.retries) {\n      return {\n        retries: nextProps.retries\n      };\n    }\n    if (nextProps.isAnswered !== prevState.isAnswered) {\n      return {\n        isAnswered: nextProps.isAnswered\n      };\n    }\n    return null;\n  }\n\n  move = (source: any, destination: any, droppableSource: any, droppableDestination: any) => {\n    const { listsOfItems } = this.state;\n    const result: any[] = Array.from(listsOfItems);\n\n    const [removed] = source.splice(droppableSource.index, 1);\n\n    destination.splice(droppableDestination.index, 0, removed);\n\n    listsOfItems.forEach((element: any, index: any) => {\n      if (droppableSource.droppableId === element.id) {\n        result[index].items = source;\n      }\n\n      if (droppableDestination.droppableId === element.id) {\n        result[index].items = destination;\n      }\n\n      if (result[index].items.length && result[index].id !== NO_SELECTED_ID) {\n        result[index].isDropDisabled = true;\n      }\n    });\n\n    return result;\n  };\n\n  reorder = (list: any, startIndex: any, endIndex: any) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n\n    return result;\n  };\n\n  getItemStyle = (draggableStyle: any) => ({\n    // styles we need to apply on draggables\n    ...draggableStyle\n  });\n\n  getList = (listId: any) => {\n    const { listsOfItems } = this.state;\n    const list = listsOfItems.find((element: any) => element.id === listId);\n    return list.items;\n  };\n\n  setDisableDroppableArea = (droppableId: any) => {\n    const { listsOfItems } = this.state;\n    const results: any[] = Array.from(listsOfItems);\n    listsOfItems.forEach((element: any, index: any) => {\n      if (results[index].id === droppableId && droppableId !== NO_SELECTED_ID) {\n        results[index].isDropDisabled = true;\n      }\n    });\n    this.setState({\n      listsOfItems: results\n    });\n  };\n\n  reorderElementsPosition = (result: any) => {\n    const { listsOfItems } = this.state;\n    const { destination, source } = result;\n    listsOfItems.forEach((element: any) => {\n      if (destination.droppableId === element.id) {\n        const reorderedItems = this.reorder(element.items, source.index, destination.index);\n        element.items = reorderedItems;\n        this.props.moveItem(\n          reorderedItems,\n          this.props.id,\n          this.props.actions,\n          this.props.allowSubmit,\n          this.props.questionActions\n        );\n      }\n    });\n    this.setState({\n      listsOfItems,\n      isPlaceholderVisible: true\n    });\n  };\n\n  moveElementsBetweenLists = (source: any, destination: any) => {\n    const results = this.move(\n      this.getList(source.droppableId),\n      this.getList(destination.droppableId),\n      source,\n      destination\n    );\n\n    this.setState({\n      listsOfItems: results\n    });\n\n    this.props.moveItem(\n      this.state.listsOfItems,\n      this.props.id,\n      this.props.actions,\n      this.props.allowSubmit,\n      this.props.questionActions\n    );\n  };\n\n  onDragEnd = (result: any) => {\n    // dropped outside the list\n    const { isMultipleList } = this.props;\n    const { destination, source } = result;\n    this.setState({\n      droppableWidth: DROPPABLE_WIDTH\n    });\n    if (!destination) {\n      if (isMultipleList) {\n        this.setDisableDroppableArea(source.droppableId);\n      }\n      return;\n    }\n    if (source.droppableId === destination.droppableId) {\n      if (!isMultipleList) {\n        this.reorderElementsPosition(result);\n      }\n    } else {\n      this.moveElementsBetweenLists(source, destination);\n    }\n  };\n\n  onDragUpdate = (result: any) => {\n    const { destination, source } = result;\n\n    this.setState({\n      isPlaceholderVisible: !destination || destination.index === source.index\n    });\n\n    if (!this.props.isMultipleList) {\n      this.setNumericListHeights(destination, source);\n    }\n  };\n\n  onDragStart = (result: any) => {\n    const { source } = result;\n    const resultArr: any[] = Array.from(this.state.listsOfItems);\n\n    resultArr.forEach((list: any, index: any) => {\n      if (list.id === source.droppableId) {\n        resultArr[index].isDropDisabled = false;\n      }\n    });\n\n    this.setState({\n      listsOfItems: resultArr,\n      droppableWidth: this.customRefs[result.draggableId].offsetWidth\n    });\n  };\n\n  setDraggableWidth = (itemId: any) => {\n    if (this.customRefs[itemId]) {\n      this.setState({\n        droppableWidthInvisible: this.customRefs[itemId].offsetWidth\n      });\n    }\n  };\n\n  setNumericListHeights(destination: any, source?: any) {\n    const { listsOfItems } = this.state;\n    const draggableList = listsOfItems[0].items.slice();\n    const numericListHeights: any[] = [];\n    const reorderedItems = !destination\n      ? draggableList\n      : this.reorder(draggableList, source.index, destination.index);\n\n    reorderedItems.forEach((item: any) => {\n      numericListHeights.push(this.customRefs[item.id].offsetHeight + 10);\n    });\n    this.setState({\n      numericListHeights\n    });\n  }\n\n  setRef(itemId: any, ref: any, refsArray: any) {\n    refsArray[itemId] = ref;\n  }\n\n  resetListOfItems = () => {\n    const { getPositionDependingImageScale } = this.props;\n    if (getPositionDependingImageScale) {\n      this.setState({\n        listsOfItems: getPositionDependingImageScale(\n          this.imageRefs.background,\n          this.getDropspotsPosition(),\n          this.props.listsOfItems\n        )\n      });\n    }\n  };\n\n  getDropspotsPosition = () => {\n    const { dropspots = [] } = this.props;\n    return dropspots.reduce((dropspotsPosition, dropspot) => {\n      dropspotsPosition[dropspot.id] = { y: dropspot.y, x: dropspot.x };\n      return dropspotsPosition;\n    }, []);\n  };\n\n  componentDidUpdate(previousProps: DragDropProps, previousState: DragDropState) {\n    if (!this.state.numericListHeights.length && !this.props.isMultipleList) {\n      this.setNumericListHeights(false);\n    }\n    if (previousState.retries !== this.state.retries && this.props.isMultipleList) {\n      this.resetListOfItems();\n    }\n    if (previousState.isAnswered !== this.state.isAnswered) {\n      this.setState({\n        listsOfItems: this.props.listsOfItems\n      });\n    }\n  }\n\n  render() {\n    const {\n      listsOfItems,\n      isPlaceholderVisible,\n      numericListHeights,\n      droppableWidth,\n      droppableWidthInvisible\n    } = this.state;\n    const {\n      isMultipleList,\n      background = '',\n      isImageLoaded = false,\n      isImageNotFound = false\n    } = this.props;\n    const listsOfItemsArr = Array.from(cloneDeep(listsOfItems));\n    const nonSelected = listsOfItemsArr.shift();\n    const props = {\n      nonSelected,\n      isMultipleList,\n      droppableWidth,\n      droppableWidthInvisible,\n      isImageLoaded,\n      isImageNotFound,\n      numericListHeights,\n      isPlaceholderVisible\n    };\n    return (\n      <DragDropContext\n        onDragEnd={this.onDragEnd}\n        onDragUpdate={this.onDragUpdate}\n        onDragStart={this.onDragStart}\n      >\n        <div data-test=\"answer-options\">{this.getDroppableElement(nonSelected, props)}</div>\n        {isMultipleList && (\n          <ImageWrapper isImageLoaded={isImageLoaded} isImageNotFound={isImageNotFound}>\n            {!isImageNotFound &&\n              listsOfItemsArr.map(listItem => this.getDroppableElement(listItem, props))}\n            {background && !isImageLoaded && <CircleLoader />}\n            <img\n              src={background}\n              ref={(ref: any) => this.setRef('background', ref, this.imageRefs)}\n              onLoad={() =>\n                this.props.handleImageLoaded &&\n                this.props.handleImageLoaded(this.imageRefs.background, this.state.listsOfItems)\n              }\n              alt={localize('[drag and drop question image]')}\n            />\n          </ImageWrapper>\n        )}\n      </DragDropContext>\n    );\n  }\n\n  getDroppableElement(listItem: any, props: any) {\n    return (\n      <Droppable\n        isDropDisabled={listItem.isDropDisabled}\n        key={listItem.id}\n        droppableId={listItem.id}\n        direction={props.isMultipleList ? 'horizontal' : 'vertical'}\n      >\n        {(listProvided: any) => (\n          <DroppableItemWrapper\n            isAreaEmpty={listItem.id === NO_SELECTED_ID && !listItem.items.length}\n            isMultipleList={props.isMultipleList}\n            position={listItem.position}\n            isDropDisabled={listItem.isDropDisabled}\n            width={props.droppableWidth}\n            widthInvisible={props.droppableWidthInvisible}\n            isImageLoaded={props.isImageLoaded}\n          >\n            {listItem.position && <ArrowIcon size={9} name=\"arrow-down\" />}\n            {!props.isMultipleList && <NumericList items={props.numericListHeights} />}\n            <DroppableListStyle\n              data-area-empty-text={localize('[drag and drop question all texts are placed]')}\n              ref={listProvided.innerRef}\n            >\n              {listItem.items.map((item: any, index: any) => (\n                <Draggable draggableId={item.id} index={index} key={item.id}>\n                  {(provided, snapshot) => (\n                    <DroppableItemStyle\n                      onMouseEnter={() => this.setDraggableWidth(item.id)}\n                      isMultipleList={props.isMultipleList}\n                      isPlaceholderVisible={props.isPlaceholderVisible}\n                      isDragging={snapshot.isDragging}\n                      ref={provided.innerRef}\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                      style={this.getItemStyle(provided.draggableProps.style)}\n                      tabIndex={0}\n                      title={item.text}\n                    >\n                      <div\n                        ref={ref => this.setRef(item.id, ref, this.customRefs)}\n                        dangerouslySetInnerHTML={{ __html: item.text ? item.text : `&nbsp;` }}\n                      />\n                    </DroppableItemStyle>\n                  )}\n                </Draggable>\n              ))}\n            </DroppableListStyle>\n            {listProvided.placeholder}\n          </DroppableItemWrapper>\n        )}\n      </Droppable>\n    );\n  }\n}\n\nexport default DragDrop;\n","export { default } from './DragDrop';\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\n\ntype ProgressContainerProps = {\n  height: number;\n};\nexport const ProgressContainer = styled.div<ProgressContainerProps>`\n  position: relative;\n  width: 100%;\n  height: ${props => (props.height ? props.height : 2)}px;\n`;\n\ntype ProgressProps = {\n  progress: number;\n  progressColor: string;\n  opacity: any;\n};\nexport const Progress = styled.div<ProgressProps>`\n  height: 100%;\n  width: ${props => (props.progress ? props.progress : 0)}%;\n  background-color: ${props =>\n    transparentize(props.theme.colors[props.progressColor], props.opacity)};\n  border-radius: inherit;\n  transition: width 0.2s;\n`;\n","import React from 'react';\nimport { ProgressContainer, Progress } from './ProgressBar.styled';\n\nexport const MAX_PROGRESS = 100;\n\ntype ProgressBarProps = {\n  height?: number;\n  progress?: number;\n  className?: string;\n  children?: any;\n  progressColor?: string;\n  opacity?: any;\n};\n\nexport const ProgressBar = ({\n  height = 2,\n  progress = 0,\n  className = '',\n  opacity = 1,\n  children,\n  progressColor = 'correctColor'\n}: ProgressBarProps) => (\n  <ProgressContainer className={className} height={height}>\n    <Progress\n      progressColor={progressColor}\n      progress={progress > MAX_PROGRESS ? MAX_PROGRESS : progress}\n      opacity={opacity}\n    />\n    {children}\n  </ProgressContainer>\n);\n\nexport default ProgressBar;\n","export { default } from './ProgressBar';\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { LINK } from 'constants/components';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { secondaryFont } from 'components/mixins/typography';\n\ntype LinkElementProps = {\n  'data-test': string;\n  href: string;\n  layout: string;\n  size: number;\n  theme: any;\n  opacity: number;\n  tabIndex: number;\n};\n\nconst LinkElement = styled.a.attrs((props: LinkElementProps) => ({\n  href: props.href,\n  tabIndex: props.tabIndex,\n  'data-test': props['data-test']\n}))`\n  ${buttonDefaultStyle};\n  text-decoration: underline;\n  padding: 0;\n  &:focus {\n    outline: none;\n  }\n  ${(props: LinkElementProps) =>\n    props.layout === LINK.LAYOUT.FORM &&\n    css`\n      ${secondaryFont};\n      color: ${transparentize(props.theme.colors.textColor, props.opacity)};\n      font-weight: normal;\n      font-size: ${props.size}px;\n      &:hover {\n        color: ${props.theme.colors.textColor};\n      }\n      &:focus {\n        color: ${props.theme.colors.textColor};\n        outline: 1px solid black;\n      }\n      &:focus:not(:focus-visible) {\n        outline: none;\n      }\n    `};\n  ${props =>\n    props.layout === LINK.LAYOUT.DEFAULT &&\n    css`\n      color: ${props.theme.colors.textColor};\n    `};\n`;\n\nexport default LinkElement;\n","import * as React from 'react';\nimport { LINK } from 'constants/components';\nimport { SECTIONS_PATH } from 'constants/navigation';\nimport LinkElement from './Link.styled';\n\nexport interface LinkProps {\n  text?: string;\n  size?: number;\n  layout?: string;\n  onClick(): void;\n  onBlur?(): void;\n  href?: string;\n  opacity?: number;\n  tabIndex?: number;\n}\n\nexport const Link = (props: LinkProps) => {\n  const {\n    onClick,\n    onBlur,\n    text,\n    layout = LINK.LAYOUT.DEFAULT,\n    href = `#${SECTIONS_PATH}`,\n    size = 13,\n    opacity = 0.4,\n    tabIndex = 0,\n    ...restProps\n  } = props;\n  return (\n    <LinkElement\n      onClick={(event: any) => {\n        event.preventDefault();\n        onClick();\n      }}\n      onKeyPress={(event: any) => {\n        event.preventDefault();\n        onClick();\n      }}\n      layout={layout}\n      href={href}\n      size={size}\n      opacity={opacity}\n      tabIndex={tabIndex}\n      {...restProps}\n    >\n      {text}\n    </LinkElement>\n  );\n};\n\nexport default Link;\n","export { default } from './Link';\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport * as typography from 'components/mixins/typography';\nimport media from 'components/mixins/media';\n\nexport default styled.input`\n  min-width: 210px;\n  max-width: 280px;\n  min-height: 40px;\n  padding: 0 20px 0 13px;\n  margin: 0  8px;\n  border: 1px solid transparent;\n  border-radius: 2px;\n  box-shadow: inset 0 2px 0 0 ${props => transparentize(props.theme.colors.textColor, 0.08)};\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n  color: ${props => props.theme.colors.textColor};\n  ${typography.secondaryFontText};\n  white-space: nowrap;\n  word-wrap: normal;\n  outline: none;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-overflow: ellipsis ellipsis; // fix for firefox\n  transition: all 0.1s ease-out;\n  \n  &:hover,\n  &:focus {\n    box-shadow: inset 0 2px 0 0 ${props => transparentize(props.theme.colors.textColor, 0.05)};\n    border: 1px solid ${props => transparentize(props.theme.colors.mainColor, 0.7)};\n    background-color: ${props => props.theme.colors.contentBodyColor};\n    outline: none;\n  }\n  &:active {\n    box-shadow: inset 0 2px 0 0 ${props => transparentize(props.theme.colors.textColor, 0.05)};\n    border: 1px solid ${props => transparentize(props.theme.colors.mainColor, 0.7)};\n    background-color: ${props => props.theme.colors.contentBodyColor};\n  }\n\n  &::placeholder {\n    color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n  }\n\n  ${media.xsmall`\n    max-width: 100%;\n    width: 100%;\n  `};\n}`;\n","import * as React from 'react';\nimport Input from './TextInput.styled';\n\ntype TextInputProps = {\n  name: string,\n  maxLength: number,\n  value: string,\n  tabIndex: number,\n  alt: string,\n  placeholder: string,\n  onChange?(e?: any): void;\n  onBlur?(e?: any): void;\n  disabled: boolean;\n};\n\ntype TextInputState = {\n  value: any;\n}\nexport class TextInput extends React.Component<TextInputProps, TextInputState> {\n\n  constructor(props: TextInputProps) {\n    super(props);\n    this.state = {\n      value: this.props.value\n    };\n  }\n\n  static defaultProps = {\n    alt: 'Input value please',\n    placeholder: 'Type your answer',\n    maxLength: 255\n  };\n\n  onChangeHandler = (event: any) => {\n    this.setState({ value: event.target.value });\n  };\n\n  componentDidUpdate(prevProps: TextInputProps) {\n    if (this.props.value !== prevProps.value) {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  render() {\n    const { maxLength, alt, placeholder, tabIndex, onBlur, name, disabled } = this.props;\n    const { value } = this.state;\n\n    return (\n      <Input\n        key={name}\n        type=\"text\"\n        value={value}\n        tabIndex={tabIndex}\n        placeholder={placeholder}\n        aria-label={placeholder}\n        alt={alt}\n        name={name}\n        maxLength={maxLength}\n        disabled={disabled}\n        onChange={this.onChangeHandler}\n        onBlur={onBlur}\n        title={value || placeholder}\n      />\n    );\n  }\n}\n\nexport default TextInput;\n","export { default } from './TextInput';\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\nimport Text from 'components/common/Text';\nimport Icon from 'components/common/Icon';\n\nimport buttonDefaultStyle from 'components/mixins/normalize';\n\ntype CloseBtnWrapperProps = {\n  tabIndex: number;\n  ariaLabel: string;\n};\n\nexport const CloseBtnWrapper = styled.button.attrs((props: CloseBtnWrapperProps) => ({\n  tabIndex: props.tabIndex,\n  'aria-label': props.ariaLabel\n}))<CloseBtnWrapperProps>`\n  ${buttonDefaultStyle};\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  border-radius: 100%;\n  text-align: center;\n  height: 70px;\n  width: 70px;\n  transition: background-color 0.2s linear;\n  cursor: pointer;\n  z-index: 2;\n  color: #73899e;\n  font-family: none;\n  &:hover {\n    background-color: ${props => transparentize(props.theme.colors.textColor, 0.1)};\n    color: ${props => transparentize(props.theme.colors.textColor)};\n  }\n`;\n\ntype CloseBtnIconProps = {\n  size: number;\n  name: string;\n};\n\nexport const CloseBtnIcon = styled(Icon)<CloseBtnIconProps>`\n  font-size: 24px;\n`;\n\nexport const CloseBtnText = styled(Text)`\n  display: block;\n  padding-top: 6px;\n  ${media.medium`\n    display: none;\n  `};\n  color: #73899e;\n`;\n\nexport const DocumentContainer = styled.div`\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  background-color: white;\n  opacity: 0.99;\n  z-index: 300;\n  padding-bottom: 5%;\n  ${media.mobile`\n    padding-top: 20%;\n  `};\n`;\n\nexport const Document = styled.div.attrs({\n  'data-test': 'pdf-document',\n  tabIndex: 0\n})`\n  height: 100%;\n  width: 70%;\n  margin-left: 15%;\n  margin-top: 3%;\n  overflow-y: scroll;\n  overflow-x: hidden;\n\n  .canvas-wrapper {\n    border: 15px solid;\n    border-top: 7.5px solid;\n    border-bottom: 7.5px solid;\n    border-color: ${props => transparentize(props.theme.colors.textColor)};\n    ${media.mobile`\n      border: 5px solid;\n      border-top: 5px solid;\n      border-bottom: 2.5px solid;\n  `};\n  }\n`;\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport pdfjs from '@bundled-es-modules/pdfjs-dist';\nimport {\n  CloseBtnIcon,\n  CloseBtnText,\n  CloseBtnWrapper,\n  DocumentContainer,\n  Document\n} from './PdfDocument.styled';\n\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\ntype PdfDocumentProps = {\n  url: string;\n  toggle(any: boolean): any;\n};\n\nexport const PdfDocument = (props: PdfDocumentProps) => {\n  const onClick = () => {\n    props.toggle(false);\n  };\n\n  const [pdfDocument, setPdfDocument] = useState();\n  const rootDomElement: any = document.getElementById('root');\n\n  useEffect(() => {\n    pdfjs\n      .getDocument({ url: props.url })\n      .promise.then((loadedPdfDocument: any) => setPdfDocument(loadedPdfDocument));\n    document.getElementById('the-canvas')?.parentElement?.focus();\n  }, [props.url]);\n\n  const renderPdf = async () => {\n    const pages: any = [];\n    for (let num = 1; num <= pdfDocument?.numPages; num++) {\n      const page = await pdfDocument.getPage(num);\n      pages.push(renderPage(page, num));\n    }\n    return Promise.all(pages);\n  };\n\n  (async () => {\n    await renderPdf();\n  })();\n\n  const canvasContainer = document.getElementById('the-canvas');\n\n  async function renderPage(page: any, pageNumber: number) {\n    const viewport = page.getViewport({ scale: 3 });\n    let canvas: any = document.getElementById(`canvas-${pageNumber}`);\n\n    const canvasWrapper =\n      document.getElementById(`canvas-wrapper-${pageNumber}`) || document.createElement('div');\n\n    if (!canvas) {\n      canvasWrapper.setAttribute('id', `canvas-wrapper-${pageNumber}`);\n      canvasWrapper.classList.add('canvas-wrapper');\n      canvas = document.createElement('canvas');\n      canvas.setAttribute('id', `canvas-${pageNumber}`);\n    }\n\n    canvas.style.height = window.innerHeight;\n    canvas.style.width = `${window.innerWidth * 0.66}px`;\n\n    const ctx = canvas.getContext('2d');\n    const renderContext = {\n      canvasContext: ctx,\n      viewport\n    };\n    canvas.height = viewport.height;\n    canvas.width = viewport.width;\n    canvasWrapper.appendChild(canvas);\n    if (canvasContainer) {\n      canvasContainer.appendChild(canvasWrapper);\n    }\n    return page.render(renderContext);\n  }\n\n  const popupPdf = (\n    <DocumentContainer>\n      <Document>\n        <div id=\"the-canvas\"></div>\n      </Document>\n      <CloseBtnWrapper tabIndex={0} ariaLabel={'esc'} onClick={onClick}>\n        <CloseBtnIcon size={30} name=\"close-popup\" />\n        <CloseBtnText size={9}> Esc </CloseBtnText>\n      </CloseBtnWrapper>\n    </DocumentContainer>\n  );\n\n  return ReactDOM.createPortal(popupPdf, rootDomElement);\n};\n\nexport default PdfDocument;\n","export { default } from './PdfDocument';\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { reviewFontText } from 'components/mixins/reviewTypography';\nimport { transition } from 'components/mixins/interactivity';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport media from 'components/mixins/media';\n\nexport const HintWrapper = styled.div`\n  ${reviewFontText}\n`;\n\nexport const HintContainer = styled.div`\n  display: flex;\n  align-items: center;\n  width: 315px;\n  padding: 19px 17px 17px 21px;\n\n  ${media.mobile`\n    width: 300px;\n  `}\n`;\n\nexport const HintElementsContainer = styled.div`\n  width: 164px;\n  margin-right: 24px;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 1.42;\n  text-align: left;\n`;\n\nexport const HintButton = styled.button`\n  ${buttonDefaultStyle};\n  justify-self: flex-end;\n  max-height: 32px;\n  background: #4caf50;\n  border-radius: 16px;\n  padding: 11px 24px;\n  color: #fff;\n  font-size: 11px;\n  line-height: 11px;\n  cursor: pointer;\n  box-shadow: 0 2px 8px 0 ${transparentize('#000000', 0.2)};\n  ${transition(0.3)};\n\n  &:hover {\n    background: #46a14a;\n  }\n`;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport { Tooltip } from 'components/common';\nimport { HINT_FOR_SPOT_COMMENT, HINT_FOR_GENERAL_COMMENT } from 'constants/review';\nimport { HintWrapper, HintContainer, HintButton, HintElementsContainer } from './Hint.styled';\n\ntype HintProps = {\n  children: any;\n  isExpanded: boolean;\n  hintElements: any;\n  hintName: string;\n  position: any;\n};\n\ntype HintState = {\n  isExpanded: boolean;\n}\n\nexport class Hint extends React.PureComponent<HintProps, HintState> {\n  constructor(props: HintProps) {\n    super(props);\n    this.state = {\n      isExpanded: this.props.isExpanded\n    };\n  }\n\n  static defaultProps = {\n    children: null,\n    isExpanded: true,\n    hintElements: null,\n    hintName: ''\n  };\n\n  componentWillMount() {\n    const { hintName } = this.props;\n    if (hintName) {\n      this.setState({\n        isExpanded: !localStorage.getItem(hintName) || false\n      });\n    }\n    this.showReviewHints(hintName);\n  }\n\n  componentDidUpdate(prevProps: HintProps) {\n    const { isExpanded, hintName } = this.props;\n    if (isExpanded !== prevProps.isExpanded) {\n      this.setState({\n        isExpanded\n      });\n    }\n    this.hintShowOnce(hintName);\n  }\n\n  hintShowOnce = (hintName: any) => {\n    if (hintName) {\n      localStorage.setItem(hintName, true as any);\n      this.setState({\n        isExpanded: !localStorage.getItem(hintName)\n      });\n    }\n  };\n\n  showReviewHints = (hintName: any) => {\n    if (hintName === HINT_FOR_GENERAL_COMMENT) {\n      this.setState({\n        isExpanded: false\n      });\n      if (\n        localStorage.getItem(HINT_FOR_SPOT_COMMENT) &&\n        !localStorage.getItem(HINT_FOR_GENERAL_COMMENT)\n      ) {\n        this.setState({\n          isExpanded: true\n        });\n      }\n    }\n  };\n\n  closePopover = (event: any) => {\n    event.preventDefault();\n    const { isExpanded } = this.state;\n    const { hintName } = this.props;\n    this.setState({\n      isExpanded: !isExpanded\n    });\n\n    this.hintShowOnce(hintName);\n  };\n\n  render() {\n    const { isExpanded } = this.state;\n    const { hintElements, children, position } = this.props;\n    return (\n      <Tooltip\n        trigger={'manual'}\n        open={isExpanded}\n        tooltipTheme={'light'}\n        sticky={true}\n        arrow={true}\n        position={position}\n        interactive\n        html={\n          <HintWrapper>\n            <HintContainer>\n              <HintElementsContainer>{hintElements}</HintElementsContainer>\n              <HintButton onClick={this.closePopover}>{localize('[got it]')}</HintButton>\n            </HintContainer>\n          </HintWrapper>\n        }\n      >\n        {children}\n      </Tooltip>\n    );\n  }\n}\n\nexport default Hint;\n","import progressStorage from 'core/progressStorage';\nimport { isMeaningful as isMeaningfulString } from 'utils/string';\nimport {\n  isCrossDeviceSavingEnabled,\n  isTrackingEnabled,\n  isPublishMode\n} from '../settings/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getUser = (state: RootAppState) => state.user;\n\nexport const getEmail = (state: RootAppState) => state.user.email;\n\nexport const getName = (state: RootAppState) => state.user.name;\n\nexport const getAccount = (state: RootAppState) => state.user.account;\n\nexport const isAnonymous = (state: RootAppState) => !!state.user.authorizationSkipped;\n\nexport const isIntroduced = (state: RootAppState) => isMeaningfulString(getEmail(state));\n\nexport const shouldSaveCrossDevice = (state: RootAppState) =>\n  isCrossDeviceSavingEnabled(state) && !isAnonymous(state);\n\nexport const isAuthenticated = (state: RootAppState) =>\n  progressStorage.isAuthenticated() ||\n  (!isCrossDeviceSavingEnabled(state) && isAnonymous(state)) ||\n  (!isCrossDeviceSavingEnabled(state) && isTrackingEnabled(state) && isIntroduced(state)) ||\n  isAnonymous(state) ||\n  !isPublishMode(state) ||\n  !isTrackingEnabled(state);\n\nexport const isAuthorized = (state: RootAppState) => isAuthenticated(state) && !isAnonymous(state);\n\nexport const getAvatarLetter = (state: RootAppState) =>\n  (state.user.name && state.user.name[0]) || (state.user.email && state.user.email[0]);\n\nexport const getUserId = (state: RootAppState) => btoa(state.user?.email || '');\n","import uuidv4 from 'uuid/v4';\nimport deepmerge from 'deepmerge';\n\ntype ObjType = { [key: string]: any };\n\nexport function renameProperty(obj: ObjType, currPropName: string, newPropName: string) {\n  const modifiedObj: ObjType = obj || {};\n\n  modifiedObj[newPropName] = modifiedObj[currPropName];\n  delete modifiedObj[currPropName];\n}\n\nexport function guid() {\n  return uuidv4().replace(/[-]/g, '');\n}\n\nexport function guidWithHyphens() {\n  return uuidv4();\n}\n\nexport function toggleArrayElement(array: any[], element: any): any[] {\n  const index = array.indexOf(element);\n  if (index !== -1) {\n    array.splice(index, 1);\n  } else {\n    array.push(element);\n  }\n  return array;\n}\n\nexport function toggleArrayStatementElement(array: any[], element: any): any[] {\n  const index = array.indexOf(element);\n  if (index !== -1) {\n    array.splice(index, 1);\n  }\n  if (\n    array.some(e => e.id === element.id) &&\n    array.find(s => s.id === element.id).hasOwnProperty('isCorrect')\n  ) {\n    array.find(s => s.id === element.id).isCorrect = element.isCorrect;\n  } else {\n    array.push(element);\n  }\n  return array;\n}\n\nexport function objectToArray(value: ObjType): any[] {\n  return Object.keys(value).reduce((acc: any[], item: string) => {\n    acc.push(value[item]);\n    return acc;\n  }, []);\n}\n\nfunction overwriteMerge(destinationArray: any[], sourceArray: any[]): any[] {\n  return sourceArray.filter((item: any) => item != null);\n}\n\nexport function deepMerge(obj1: ObjType, obj2: ObjType): object {\n  if (Object.keys(obj2).length === 0) {\n    return obj1;\n  }\n  return deepmerge(obj1, obj2, {\n    arrayMerge: overwriteMerge\n  });\n}\n\nexport function isArray(item: any): boolean {\n  return item && item.constructor && item.constructor === Array;\n}\n\nexport function isObject(item: any): boolean {\n  return item && item.constructor && item.constructor === Object;\n}\n\nexport function isEmptyObject(item: any): boolean {\n  return isObject(item) && Object.keys(item).length === 0;\n}\n\nexport function deepExtend(destination: any, source: any): any {\n  if (destination === null || destination === undefined) {\n    return source;\n  }\n\n  for (const property in source) {\n    if (source[property] && (isObject(source[property]) || isArray(source[property]))) {\n      if (\n        (destination.hasOwnProperty(property) && hasInternalObjectsOrArrays(source[property])) ||\n        (!isArray(destination) &&\n          !isArray(source) &&\n          isObject(destination[property]) &&\n          isObject(source[property]) &&\n          !hasSameNumbersOfKeys(destination[property], source[property]))\n      ) {\n        deepExtend(destination[property], source[property]);\n      } else {\n        if (isArray(destination)) {\n          const { index, deleteNumber } = getItemPositionValues(destination, source[property].key);\n          destination.splice(index, deleteNumber, source[property]);\n          continue;\n        }\n\n        destination[property] = source[property];\n      }\n    } else {\n      destination[property] = source.hasOwnProperty(property)\n        ? source[property]\n        : destination[property];\n    }\n  }\n  return destination;\n}\n\nexport function hasInternalObjectsOrArrays(object: ObjType): boolean {\n  let counter = 0;\n  for (const property in object) {\n    if (object[property] && (isObject(object[property]) || isArray(object[property]))) {\n      counter++;\n    }\n  }\n  return counter > 0;\n}\n\nexport function hasSameNumbersOfKeys(destinationObj: ObjType, sourceObj: ObjType): boolean {\n  return Object.keys(destinationObj).length === Object.keys(sourceObj).length;\n}\n\ntype ReplacedItem = {\n  index: number;\n  deleteNumber: number;\n};\n\nfunction getItemPositionValues(destination: any, sourceKey: any): ReplacedItem {\n  const index = destination.findIndex((item: any) => item.key === sourceKey);\n  const shouldReplaceItem = index !== -1;\n\n  return {\n    index: shouldReplaceItem ? index : destination.length,\n    deleteNumber: shouldReplaceItem ? 1 : 0\n  };\n}\n\nexport function arrayToObject(array: any[]): ObjType {\n  return array.reduce((accum: ObjType, [k, v]: [string, any]) => {\n    accum[k] = v;\n    return accum;\n  }, {});\n}\n","import {\n  MULTIPLE_CHOICE,\n  SINGLE_CHOICE,\n  SINGLE_CHOICE_IMAGE,\n  STATEMENT_CHOICE,\n  OPEN_QUESTION,\n  RANKING_TEXT,\n  SCENARIO,\n  FILL_IN_THE_BLANK,\n  DRAG_AND_DROP_TEXT,\n  TEXT_MATCHING,\n  HOTSPOT\n} from 'constants/questionTypes';\nimport { MEDIA_TABLET } from 'constants/screenResolutions';\nimport { isLowerResolution } from 'utils/window';\nimport { ProgressStatus } from 'constants/progressStatus';\nimport { RootAppState } from './types';\nimport { TimerStatus } from 'constants/timer';\n\nconst state: RootAppState = {\n  app: {\n    isLoading: true,\n    isLoaded: false,\n    isLoadingFailed: false,\n    isLowResolution: false,\n    isOffline: false\n  },\n  course: {\n    sections: [],\n    title: '',\n    id: '',\n    templateId: '',\n    createdBy: '',\n    createdOn: new Date(),\n    hasIntroductionContent: false,\n    isLoadingFailed: false,\n    attemptId: null,\n    hasBeenContinued: false,\n    result: 0,\n    isCompleted: false,\n    isCertificateDownloaded: false,\n    score: 0,\n    status: ProgressStatus.IN_PROGRESS,\n    passedAfterwords: [],\n    failedAfterwords: [],\n    isAttemptSubmitted: false,\n    courseAttempt: 0,\n    isLaunched: false,\n    isProgressRestoreFailed: false,\n    isProgressRestoreFetched: false,\n    timeSpent: {\n      accumulatedValueInMilliseconds: 0,\n      incrementStartedAt: new Date()\n    },\n    isRandomizedOptionsLoaded: false,\n    isCourseFinished: false\n  },\n  timer: {\n    status: TimerStatus.NOT_STARTED,\n    elapsed: 0\n  },\n  modules: {\n    xapi: {\n      isInitialized: false,\n      isLrsTrackingOn: false,\n      isNpsTrackingOn: false\n    },\n    scorm: {\n      isInitialized: false\n    },\n    progressStorage: {\n      isProgressStorageOn: false\n    },\n    review: {\n      isReviewModeEnabled: false,\n      reviewApiUrl: ''\n    },\n    lti: {\n      isInitialized: false\n    }\n  },\n  sections: {},\n  questions: {},\n  contents: {},\n  settings: {\n    isLoadingFailed: false,\n    template: {},\n    publish: {},\n    manifest: {},\n    translations: {},\n    publishMode: {},\n    materialType: ''\n  },\n  navigation: {\n    chain: [],\n    prevUrl: null,\n    elementIdInViewport: ''\n  },\n  treeOfContent: {\n    isExpanded: true,\n    isSubmitButtonVisible: false\n  },\n  popup: {\n    isExpanded: false,\n    settings: {}\n  },\n  loader: {\n    isLoaded: false\n  },\n  user: {\n    account: null,\n    email: '',\n    name: '',\n    shortTermAccess: true,\n    authorizationSkipped: false\n  },\n  resource: {\n    id: '',\n    resourceType: '',\n    title: '',\n    createdBy: '',\n    createdOn: new Date(),\n    contentId: '',\n    resourceContents: []\n  },\n  checklist: {}\n};\n\nexport default state;\n\nexport function initialize() {\n  if (isLowerResolution(MEDIA_TABLET)) {\n    state.treeOfContent.isExpanded = false;\n  }\n}\n\nexport function getInitialQuestionResponse(questionType: string) {\n  switch (questionType) {\n    case SINGLE_CHOICE:\n    case SINGLE_CHOICE_IMAGE:\n    case MULTIPLE_CHOICE:\n    case STATEMENT_CHOICE:\n    case OPEN_QUESTION:\n    case RANKING_TEXT:\n    case SCENARIO:\n    case FILL_IN_THE_BLANK:\n    case DRAG_AND_DROP_TEXT:\n    case TEXT_MATCHING:\n    case HOTSPOT:\n      return [];\n    default:\n      return null;\n  }\n}\n","export enum ActionTypes {\n    QUESTION_STATEMENT_ANSWER_IS_SELECTED = 'QUESTION_STATEMENT_ANSWER_IS_SELECTED'\n}\n\ntype AnswerIsSelected = {\n    type: ActionTypes.QUESTION_STATEMENT_ANSWER_IS_SELECTED,\n    payload: {\n        questionId: string,\n        answerId: string,\n        isCorrect: boolean\n    }\n}\n\nexport type StatementChoiceActionTypes = AnswerIsSelected;\n","export enum ActionTypes {\n    OPEN_QUESTION_ANSWER_IS_SELECTED = 'OPEN_QUESTION_ANSWER_IS_SELECTED'\n}\n\ntype AnswerIsSelected = {\n    type: ActionTypes.OPEN_QUESTION_ANSWER_IS_SELECTED,\n    payload: {\n        questionId: string,\n        answeredText: string\n    }\n}\n\nexport type OpenQuestionActionTypes = AnswerIsSelected;\n","export enum ActionTypes {\n    QUESTION_RANKING_ANSWERS_ARE_SELECTED = 'QUESTION_RANKING_ANSWERS_ARE_SELECTED'\n}\n\ntype AnswersSelected = {\n    type: ActionTypes.QUESTION_RANKING_ANSWERS_ARE_SELECTED,\n    payload: {\n        answers: any,\n        questionId: string\n    }\n}\n\nexport type RankingTextActionTypes = AnswersSelected;\n","export enum ProgressStatus {\n  IN_PROGRESS = 0,\n  PASSED = 1,\n  FAILED = 2\n}\n\nexport enum CourseProgressStorageStatus {\n  IN_PROGRESS = 'IN_PROGRESS',\n  PASSED = 'PASSED',\n  FAILED = 'FAILED'\n}\n","export enum ActionTypes {\n    QUESTION_SCENARIO_BRANCHTRACK_DATA = 'QUESTION_SCENARIO_BRANCHTRACK_DATA'\n}\n\ntype ScenarioBranchTrackData = {\n    type: ActionTypes.QUESTION_SCENARIO_BRANCHTRACK_DATA,\n    payload: {\n        score: number,\n        isFinished: boolean,\n        questionId: string\n    }\n}\n\nexport type ScenarioActionTypes = ScenarioBranchTrackData;\n","export enum ActionTypes {\n    FILL_IN_THE_BLANK_ANSWER = 'FILL_IN_THE_BLANK_ANSWER'\n}\n\ntype QuestionAnswer = {\n    type: ActionTypes.FILL_IN_THE_BLANK_ANSWER,\n    payload: {\n        questionId: string,\n        data: any\n    }\n}\n\nexport type FillInTheBlankActionTypes = QuestionAnswer;\n","export enum ActionTypes {\n    QUESTION_DRAG_AND_DROP_ANSWERS_ARE_SELECTED = 'QUESTION_DRAG_AND_DROP_ANSWERS_ARE_SELECTED'\n}\n\ntype AnswerSelected = {\n    type: ActionTypes.QUESTION_DRAG_AND_DROP_ANSWERS_ARE_SELECTED,\n    payload: {\n        answers: any,\n        questionId: string\n    }\n}\n\nexport type DragAndDropActionTypes = AnswerSelected;\n","export enum ActionTypes {\n    HOTSPOT_QUESTION_ANSWER = 'HOTSPOT_QUESTION_ANSWER'\n}\n\ntype QuestionAnswer = {\n    type: ActionTypes.HOTSPOT_QUESTION_ANSWER,\n    payload: {\n        data: any,\n        questionId: string\n    }\n}\n\nexport type HotspotActionTypes = QuestionAnswer;\n","export enum ActionTypes {\n    QUESTION_MATCHING_ANSWERS_ARE_SELECTED = 'QUESTION_MATCHING_ANSWERS_ARE_SELECTED'\n}\n\ntype AnswersSelected = {\n    type: ActionTypes.QUESTION_MATCHING_ANSWERS_ARE_SELECTED,\n    payload: {\n        answers: any,\n        questionId: string\n    }\n}\n\nexport type TextMatchingActionTypes = AnswersSelected;\n","import { getQuestion } from 'store/questions/selectors';\nimport { isRandomizeAnswersEnabled } from 'store/settings/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  const randomizeAnswersEnabled = isRandomizeAnswersEnabled(state);\n  const { answers: options, randomizedOptions = [] } = question;\n  const answers = randomizeAnswersEnabled ? randomizedOptions : options;\n\n  return answers.map((answer: any) => {\n    const responseAnswer = question.response.find((r: any) => r.id === answer.id);\n    return {\n      id: answer.id,\n      isCorrect: answer.isCorrect,\n      text: answer.text,\n      userSelected: !!responseAnswer, // Fix for undefined\n      isTrue: responseAnswer ? responseAnswer.isCorrect : false\n    };\n  });\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  const originalAnswers = question.answers.map((answer: any) => ({\n    id: answer.id,\n    isCorrect: answer.isCorrect\n  }));\n  const userAnswers = question.response.map((answer: any) => ({\n    id: answer.id,\n    isCorrect: answer.isCorrect\n  }));\n\n  originalAnswers.sort(compare);\n  userAnswers.sort(compare);\n\n  if (JSON.stringify(originalAnswers) === JSON.stringify(userAnswers)) {\n    return 100;\n  }\n  return 0;\n};\n\nfunction compare(prev: any, next: any) {\n  if (getStringHash(prev.id) > getStringHash(next.id)) {\n    return -1;\n  }\n  return 1;\n}\n\nfunction getStringHash(text: string) {\n  let hash = 0;\n  let chr;\n  if (text.length === 0) {\n    return hash;\n  }\n  for (let index = 0; index < text.length; index++) {\n    chr = text.charCodeAt(index);\n    // eslint-disable-next-line\n    hash = (hash << 5) - hash + chr;\n    // eslint-disable-next-line\n    hash |= 0; // Convert to 32bit integer\n  }\n  return hash;\n}\n","import { getQuestion } from 'store/questions/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  let question = getQuestion(state, questionId);\n  const responseAnswer = question.response !== null ? question.response : '';\n  return {\n    id: question.id,\n    answeredText: !responseAnswer ? '' : responseAnswer.answeredText // Fix for undefined\n  };\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  const responseAnswer = question.response !== null ? question.response : ' ';\n  if (responseAnswer && responseAnswer.answeredText) {\n    return responseAnswer.answeredText.trim() ? 100 : 0;\n  }\n  return 0;\n};\n","import { getQuestion } from 'store/questions/selectors';\nimport { isRandomizeAnswersEnabled } from 'store/settings/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  const randomizeAnswersEnabled = isRandomizeAnswersEnabled(state);\n  const { answers: options, randomizedOptions = [] } = question;\n  const answers = randomizeAnswersEnabled ? randomizedOptions : options;\n  return answers.map((answer: any) => ({\n    id: answer.id,\n    text: answer.text\n  }));\n};\n\nexport const getUserResponse = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  return question.response;\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  if (JSON.stringify(question.answers) === JSON.stringify(question.response)) {\n    return 100;\n  }\n  return 0;\n};\n","export type QuestionsState = {\n  [key: string]: any;\n};\nexport enum ActionTypes {\n  QUESTIONS_LOADED = 'QUESTIONS_LOADED',\n  QUESTION_UPDATE_SCORE = 'QUESTION_UPDATE_SCORE',\n  QUESTION_ANSWERED = 'QUESTION_ANSWERED',\n  QUESTION_ANSWERED_BEFORE_SUBMIT = 'QUESTION_ANSWERED_BEFORE_SUBMIT',\n  QUESTION_PROGRESS_RESET = 'QUESTION_PROGRESS_RESET',\n  QUESTION_PROGRESS_RESET_KEEP_ANSWER = 'QUESTION_PROGRESS_RESET_KEEP_ANSWER',\n  QUESTION_PROGRESS_RESET_ATTEMPT = 'QUESTION_PROGRESS_RESET_ATTEMPT',\n  QUESTION_OPENED = 'QUESTION_OPENED',\n  QUESTION_PROGRESS_RESTORE = 'QUESTION_PROGRESS_RESTORE',\n  QUESTION_RESTORE_RESPONSE = 'QUESTION_RESTORE_RESPONSE',\n  QUESTION_RESTORE_SHOW_PREV_ANSWER = 'QUESTION_RESTORE_SHOW_PREV_ANSWER',\n  FEEDBACK_ANIMATING = 'FEEDBACK_ANIMATING',\n  QUESTION_UPDATE_RETRY = 'QUESTION_UPDATE_RETRY',\n  QUESTION_PROGRESS_RESTORE_BEFORE_SUBMIT = 'QUESTION_PROGRESS_RESTORE_BEFORE_SUBMIT'\n}\n\ntype QuestionLoaded = {\n  type: ActionTypes.QUESTIONS_LOADED;\n  payload: {\n    questions: any; // TODO: add type\n  };\n};\n\ntype QuestionAnswered = {\n  type: ActionTypes.QUESTION_ANSWERED;\n  payload: {\n    id: string;\n    score: number;\n    attempt: number;\n  };\n};\n\ntype QuestionAnsweredBeforeSubmit = {\n  type: ActionTypes.QUESTION_ANSWERED_BEFORE_SUBMIT;\n  payload: {\n    id: string;\n    attempt: number;\n  };\n};\n\ntype QuestionUpdateScore = {\n  type: ActionTypes.QUESTION_UPDATE_SCORE;\n  payload: {\n    id: string;\n    score: number;\n  };\n};\n\ntype QuestionOpened = {\n  type: ActionTypes.QUESTION_OPENED;\n  payload: {\n    hasBeenOpened: boolean;\n    questionId: string;\n  };\n};\n\ntype QuestionProgressReset = {\n  type: ActionTypes.QUESTION_PROGRESS_RESET;\n  payload: {\n    id: string;\n    isPoolQuestion: boolean;\n    type: string;\n  };\n};\n\ntype QuestionProgressResetKeepAnswer = {\n  type: ActionTypes.QUESTION_PROGRESS_RESET_KEEP_ANSWER;\n  payload: {\n    id: string;\n  };\n};\n\ntype QuestionProgressResetAttempt = {\n  type: ActionTypes.QUESTION_PROGRESS_RESET_ATTEMPT;\n  payload: {\n    id: string;\n  };\n};\n\ntype QuestionRestoreResponse = {\n  type: ActionTypes.QUESTION_RESTORE_RESPONSE;\n  payload: {\n    id: string;\n    response: any;\n    attempt: number;\n  };\n};\n\ntype QuestionRestoreShowPrevAnswer = {\n  type: ActionTypes.QUESTION_RESTORE_SHOW_PREV_ANSWER;\n  payload: {\n    id: string;\n    response: any;\n  };\n};\n\ntype QuestionProgressRestore = {\n  type: ActionTypes.QUESTION_PROGRESS_RESTORE;\n  payload: {\n    id: string;\n    score: number;\n    attempt: number;\n  };\n};\n\ntype FeedbackAnimating = {\n  type: ActionTypes.FEEDBACK_ANIMATING;\n  payload: {\n    id: string;\n    isFeedbackAnimating: boolean;\n  };\n};\n\ntype QuestionUpdateRetry = {\n  type: ActionTypes.QUESTION_UPDATE_RETRY;\n  payload: {\n    questionId: string;\n    retries: number;\n  };\n};\n\ntype QuestionProgressRestoreBeforeSubmit = {\n  type: ActionTypes.QUESTION_PROGRESS_RESTORE_BEFORE_SUBMIT;\n  payload: {\n    id: string;\n    attempt: number;\n  };\n};\n\nexport type QuestionActionTypes =\n  | FeedbackAnimating\n  | QuestionOpened\n  | QuestionLoaded\n  | QuestionAnswered\n  | QuestionUpdateScore\n  | QuestionAnsweredBeforeSubmit\n  | QuestionProgressReset\n  | QuestionProgressResetKeepAnswer\n  | QuestionProgressResetAttempt\n  | QuestionRestoreResponse\n  | QuestionRestoreShowPrevAnswer\n  | QuestionProgressRestore\n  | QuestionUpdateRetry\n  | QuestionProgressRestoreBeforeSubmit;\n","import { getQuestion } from 'store/questions/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getEmbedCode = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  return question.embedCode;\n};\n\nexport const getProjectId = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  return question.projectId;\n};\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  let question = getQuestion(state, questionId);\n  const responseAnswer = question.response !== null ? question.response : '';\n  return {\n    score: !responseAnswer ? '' : responseAnswer.score,\n    isFinished: !responseAnswer ? '' : responseAnswer.isFinished\n  };\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  if (question.response.score >= question.masteryScore && question.response.isFinished) {\n    return 100;\n  }\n  return 0;\n};\n","import { getQuestion } from 'store/questions/selectors';\nimport { objectToArray } from 'utils/object';\nimport { RootAppState } from '../../types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  const questionContent = objectToArray(state.contents).find(\n    content => content.id === question.questionContent[0]\n  );\n  const userAnswers: { [key: string]: any } = {};\n  const responseAnswer = question.response !== null ? question.response : [];\n  question.answerGroups.forEach((answer: any) => {\n    userAnswers[answer.id] =\n      responseAnswer && responseAnswer.data ? responseAnswer.data[answer.id] : '';\n  });\n  return {\n    id: question.id,\n    questionContent,\n    userAnswers\n  };\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  const responseAnswer = question.response !== null ? question.response : [];\n  const newAnswer = objectToArray(question.answerGroups).map(group =>\n    responseAnswer.data\n      ? responseAnswer.data.hasOwnProperty(group.id)\n        ? group.answers.find((answer: any) =>\n            answer.matchCase === true\n              ? answer.text === responseAnswer.data[group.id] && answer.isCorrect === true\n              : answer.text.toLowerCase() === responseAnswer.data[group.id].toLowerCase() &&\n                answer.isCorrect === true\n          )\n        : null\n      : 0\n  );\n\n  if (responseAnswer && responseAnswer.data) {\n    if (newAnswer && !newAnswer.includes(undefined)) {\n      return 100;\n    }\n    return 0;\n  }\n  return 0;\n};\n","import { getQuestion } from 'store/questions/selectors';\nimport { isRandomizeAnswersEnabled } from 'store/settings/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  const randomizeAnswersEnabled = isRandomizeAnswersEnabled(state);\n  const { answers: options, randomizedOptions = [] } = question;\n  const answers = randomizeAnswersEnabled ? randomizedOptions : options;\n  return answers.map((answer: any) => ({\n    id: answer.id,\n    key: answer.key,\n    value: answer.value,\n    selectedKey: ''\n  }));\n};\n\nexport const getUserResponse = (state: RootAppState, questionId: string) => getQuestion(state, questionId).response;\n\nexport const getScore = (state: RootAppState, question: any) => {\n  if (!question.response.length) return 0;\n  for (let i = 0; i < question.response.length; i++) {\n    const item = question.response[i];\n    if (item.value !== item.shownSelectedValue) {\n      return 0;\n    }\n  }\n\n  return 100;\n};\n","import { getQuestion } from 'store/questions/selectors';\nimport { RootAppState } from '../../types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  const responseAnswer = question.response ? question.response : [];\n  return {\n    id: question.id,\n    background: question.background,\n    isMultiple: question.isMultiple,\n    spots: question.spots.map((spot: any) => spot),\n    markers: !responseAnswer.length ? [] : responseAnswer\n  };\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  const responseAnswer = question.response !== null ? question.response : [];\n  const answers: any[] = [];\n  const correctMarkers: any[] = [];\n  const { spots } = question;\n\n  if (!question.spots.length) {\n    return 100;\n  }\n\n  if (!responseAnswer.length) {\n    return 0;\n  }\n\n  function markIsInSpot(mark: any, spot: any) {\n    const { x } = mark;\n    const { y } = mark;\n\n    let inside = false;\n    for (let i = 0, j = spot.length - 1; i < spot.length; j = i, i++) {\n      const xi = spot[i].x;\n      const yi = spot[i].y;\n      const xj = spot[j].x;\n      const yj = spot[j].y;\n\n      // eslint-disable-next-line\n      const intersect = yi > y !== yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\n      if (intersect) {\n        inside = !inside;\n      }\n    }\n\n    return inside;\n  }\n\n  for (let i = 0; i < spots.length; i++) {\n    let isMarkerInsideInSpot = false;\n\n    for (let k = 0; k < responseAnswer.length; k++) {\n      if (markIsInSpot(responseAnswer[k], spots[i])) {\n        if (!isMarkerInsideInSpot) {\n          isMarkerInsideInSpot = true;\n          answers.push(true);\n        }\n        correctMarkers.push(responseAnswer[k]);\n      }\n    }\n    if (isMarkerInsideInSpot) {\n      continue;\n    }\n    answers.push(false);\n  }\n\n  if (correctMarkers.length === responseAnswer.length) {\n    if (question.isMultiple && answers.some(element => element === false)) {\n      return 0;\n    }\n    return 100;\n  }\n\n  if (!question.background && !spots.length) {\n    return 100;\n  }\n\n  return 0;\n};\n","import shuffle from 'lodash.shuffle';\n\nexport const shuffleAnswerOptions = (answerOptions: any[]): any[] => {\n  if (answerOptions.length <= 1) {\n    return answerOptions;\n  }\n\n  let shuffledArray = shuffle(answerOptions);\n  let iterationCount = 0;\n\n  const MAX_RETRIES = 10;\n\n  while (\n    JSON.stringify(shuffledArray) === JSON.stringify(answerOptions) &&\n    iterationCount < MAX_RETRIES\n  ) {\n    iterationCount++;\n    shuffledArray = shuffle(shuffledArray);\n  }\n\n  return shuffledArray;\n};\n\nexport default shuffleAnswerOptions;\n","export const INDEX_PATH = '/';\nexport const SECTIONS_PATH = `/sections`;\nexport const SECTION_PATH = `${SECTIONS_PATH}/:sectionId`;\nexport const RESULTS_PATH = '/results';\nexport const QUESTION_PATH = `${SECTION_PATH}/questions/:questionId`;\nexport const SIGNUP_PATH = `/signup`;\nexport const LOGIN_PATH = `/login`;\nexport const LEARNING_OBJECTIVE_PATH = `${SECTION_PATH}/learning-objective`;\nexport const RESOURCE_PATH = '/resource';\n","import styled from 'styled-components';\nimport { Text } from 'components/common';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\nimport { MEDIA_MOBILE } from 'constants/screenResolutions';\n\nexport const TextElement = styled(Text)`\n  && {\n    font-weight: 300;\n    font-size: 16px;\n    color: ${props => props.theme.colors.buttonTextColor};\n  }\n`;\n\nexport const Button = styled.button.attrs(props => ({\n  tabIndex: props.tabIndex,\n  'data-test': 'button-vote'\n}))`\n  ${buttonDefaultStyle};\n  background-color: ${props => props.theme.colors.correctColor};\n  border-radius: 2px;\n  position: relative;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  padding: 10px;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  overflow: visible;\n  ${media.mobile`\n    border-radius: 30px;\n    width: 160px;\n    height: 44px;\n    flex-flow: row nowrap;\n    justify-content: center;\n  `};\n\n  &::before {\n    content: '';\n    display: block;\n    position: absolute;\n    width: inherit;\n    height: inherit;\n    top: 0;\n    left: 0;\n  }\n\n  &:hover::before {\n    background: rgba(255, 255, 255, 0.1);\n  }\n\n  &:active::before {\n    background: rgba(0, 0, 0, 0.1);\n  }\n\n  &:focus {\n    outline: 1px solid black;\n    background-color: ${props => props.theme.colors.correctColor};\n  }\n\n  &:focus:not(:focus-visible) {\n    outline: none;\n  }\n`;\n\nexport const TextLabel = styled(Text)`\n  font-weight: normal;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.4)};\n  position: relative;\n  top: 30px;\n  min-width: 100px;\n\n  @media (max-width: ${MEDIA_MOBILE}px) {\n    top: 0;\n    color: ${props => props.theme.colors.buttonTextColor};\n    font-weight: 600;\n    margin-left: 10px;\n    min-width: auto;\n  }\n`;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport { TextElement, Button, TextLabel } from './ButtonVote.styled';\n\ntype ButtonVoteProps = {\n  rating: number;\n  ratingLabelKey: string;\n  tabIndex: number;\n  onClick(): void;\n};\n\nconst ButtonVote = ({ rating, ratingLabelKey, tabIndex, onClick }: ButtonVoteProps) => (\n  <Button tabIndex={tabIndex} onClick={onClick}>\n    <TextElement appearance=\"span\" size={16} font=\"mainFont\">\n      {rating}\n    </TextElement>\n    {ratingLabelKey && (\n      <TextLabel appearance=\"span\" size={12} font=\"secondaryFont\">\n        {localize(ratingLabelKey)}\n      </TextLabel>\n    )}\n  </Button>\n);\n\nexport default ButtonVote;\n","import styled from 'styled-components';\nimport { Text } from 'components/common';\nimport media from 'components/mixins/media';\n\nexport const Figure = styled.div`\n  margin: 200px 0 40px;\n  text-align: center;\n  ${media.mobile`\n    display: none;\n  `};\n`;\n\nexport const TextElement = styled(Text)`\n  font-weight: bold;\n  color: ${props => props.theme.colors.textColor};\n  text-align: center;\n  ${media.mobile`\n  padding: 80px 35px 30px;\n`};\n`;\n\nexport const ButtonsListItem = styled.li`\n  box-sizing: border-box;\n  margin-right: 15px;\n  &:last-child {\n    margin-right: 0;\n  }\n  ${media.mobile`\n    margin-right: 0;\n    margin-bottom: 12px;\n  `};\n`;\n\nexport const ButtonsListWrapper = styled.ul`\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  margin-top: 30px;\n  z-index: 1;\n  ${media.mobile`\n    flex-flow: column-reverse nowrap;\n    align-items: center;\n  `};\n`;\n\nexport const Wrapper = styled.div`\n  flex-grow: 1;\n`;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport Trophy from 'assets/figures/Trophy';\nimport ButtonVote from '../buttonVote';\nimport {\n  Figure,\n  TextElement,\n  ButtonsListItem,\n  ButtonsListWrapper,\n  Wrapper\n} from './EvaluateCourse.styled';\n\ntype EvaluateCourseProps = {\n  onClick(data: any): void;\n};\n\ntype EvaluateCourseState = {\n  npsScore: number;\n}\n\nexport class EvaluateCourse extends React.PureComponent<EvaluateCourseProps, EvaluateCourseState> {\n  constructor(props: EvaluateCourseProps) {\n    super(props);\n    this.state = {\n      npsScore: 0\n    };\n  }\n\n  renderButtonsVote() {\n    let items = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n    return (\n      <ButtonsListWrapper>\n        {items.map(item => (\n          <ButtonsListItem key={item}>\n            <ButtonVote\n              rating={item}\n              ratingLabelKey={\n                (item === 1 && '[poor rating]') || ((item === 10 && '[excellent rating]') || '')\n              }\n              tabIndex={1}\n              onClick={() => this.props.onClick(item)}\n            />\n          </ButtonsListItem>\n        ))}\n      </ButtonsListWrapper>\n    );\n  }\n\n  render() {\n    return (\n      <Wrapper>\n        <Figure>\n          <Trophy />\n        </Figure>\n        <TextElement appearance=\"p\" size={18}>\n          {localize('[rate the course]')}\n        </TextElement>\n        {this.renderButtonsVote()}\n      </Wrapper>\n    );\n  }\n}\n\n\nexport default EvaluateCourse;\n","import React from 'react';\nimport { withTheme } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { localize } from 'core/localization';\nimport { Figure } from './Figure.styled';\n\ntype RateProps = {\n  theme: {[key: string]: any};\n  number: number;\n  promoters: boolean;\n};\n\nexport const Rate = (props: RateProps) => (\n  <Figure\n    width=\"261px\"\n    height=\"89px\"\n    viewBox=\"0 0 261 89\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    role=\"img\"\n    arialabel={`${localize('[aria label rate figure]')}`}\n  >\n    <title>F19AC1D1-78C9-451F-BAEC-6A87EB3B013B</title>\n    <desc>Created with sketchtool.</desc>\n    <defs>\n      <filter\n        x=\"0.0%\"\n        y=\"0.0%\"\n        width=\"100.0%\"\n        height=\"100.0%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"filter-1\"\n      >\n        <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\" />\n      </filter>\n      <filter\n        x=\"0.0%\"\n        y=\"0.0%\"\n        width=\"100.0%\"\n        height=\"100.0%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"filter-2\"\n      >\n        <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\" />\n      </filter>\n    </defs>\n    <g id=\"Page-2\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"nps-step2-8-10\" transform=\"translate(-589.000000, -238.000000)\">\n        <g id=\"Group\" transform=\"translate(589.590278, 238.000000)\">\n          <path\n            d=\"M74.427445,8.42331288 L20.970725,8.42331288 C20.970725,8.42331288 11.5990823,9.43488193 11.5990823,16.8895706 \n            C11.5990823,24.3442592 20.970725,25.3558282 20.970725,25.3558282 L52.7758247,25.4163015 C52.7758247,25.4163015 \n            60.2185692,26.8676599 60.2185692,33.398773 C60.2185692,39.9298861 52.7758247,41.8650307 52.7758247,41.8650307 L36.3437913,41.8650307 \n            C36.3437913,41.8650307 23.0048466,42.6797948 23.0048466,50.7546012 C23.0048466,58.8294077 36.3437913,60.0674847 36.3437913,60.0674847 \n            L9.47258391,60.0674847 C9.47258391,60.0674847 5.06374068e-16,61.7002629 0,68.4732691 C0,75.2462752 9.47258391,77 9.47258391,77 \n            L217.193919,77 C217.193919,77 228.888558,75.6695881 228.888558,68.4732691 C228.888558,61.27695 217.193919,60.0674847 217.193919,60.0674847 \n            L196.883512,60.0674847 C196.883512,60.0674847 185.023855,59.3602005 184.812045,52.0245399 C184.600235,44.6888793 196.883512,43.3163891 \n            196.883512,43.3163891 L220.452862,42.5 C220.452862,42.5 232.754919,44.3142786 232.754919,34.1244522 C232.754919,23.9346259 \n            221.437027,25.3558282 221.437027,25.3558282 L249.670247,25.4163015 C249.670247,25.4163015 259.819444,24.8060045 259.819444,16.8895706 \n            C259.819444,8.97313658 249.670247,8 249.670247,8 L74.427445,8.42331288 Z\"\n            id=\"Path-8\"\n            fillOpacity=\"0.02\"\n            fill=\"#191919\"\n            filter=\"url(#filter-1)\"\n          />\n          <ellipse\n            id=\"Oval-6\"\n            fillOpacity=\"0.1\"\n            fill=\"#191919\"\n            filter=\"url(#filter-2)\"\n            cx=\"129.909722\"\n            cy=\"85\"\n            rx=\"29.9791667\"\n            ry=\"4\"\n          />\n          <rect\n            id=\"Rectangle-2\"\n            fillOpacity=\"0.3\"\n            fill=\"#191919\"\n            x=\"126.911806\"\n            y=\"49\"\n            width=\"5.99583333\"\n            height=\"35\"\n            rx=\"2.99791667\"\n          />\n          <rect\n            id=\"Rectangle-26\"\n            strokeOpacity=\"0.1\"\n            stroke=\"#000000\"\n            strokeWidth=\"2\"\n            fill={\n              props.promoters\n                ? props.theme.colors.correctColor\n                : transparentize(props.theme.colors.textColor, 0.3, { solidColor: true })\n            }\n            x=\"100.930556\"\n            y=\"1\"\n            width=\"57.9583333\"\n            height=\"58\"\n            rx=\"5\"\n          />\n          <text\n            id=\"8\"\n            fontFamily=\"Charter-Roman, Charter\"\n            fontSize=\"32\"\n            fontWeight=\"normal\"\n            fill=\"#FFFFFF\"\n          >\n            <tspan x=\"49.5%\" y=\"47.5%\" textAnchor=\"middle\">\n              {props.number}\n            </tspan>\n          </text>\n        </g>\n      </g>\n    </g>\n  </Figure>\n);\n\nexport default withTheme(Rate);\n","import styled from 'styled-components';\nimport { Text } from 'components/common';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\nimport { EditableContentWrapper } from 'components/common/EditableTextarea/EditableTextarea.styled'\n\nexport const Figure = styled.div`\n  margin: 45px 0;\n`;\n\nexport const TextElement = styled(Text)`\n  font-weight: bold;\n  color: ${props => props.theme.colors.textColor};\n  text-align: center;\n`;\n\nexport const FeedbackContainer = styled.div`\n  margin-bottom: 40px;\n  & ${TextElement} {\n    margin: 0 25px 20px;\n  }\n`;\n\nexport const EditableTextareaContainer = styled.div`\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n  box-shadow: inset 0 2px 0 0 rgba(39, 17, 0, 0.06);\n  padding: 10px 23px 45px;\n  ${EditableContentWrapper} {\n    padding: 0;\n  }\n  & textarea {\n    min-height: 160px;\n    font-size: 14px;\n    font-family: ${props => props.theme.fonts.secondaryFont};\n  }\n  ${media.mobile`\n    padding: 10px 10px 45px;\n    textarea {\n        padding: 4px 5px 29px;\n    }\n`};\n`;\n\nexport const Wrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  margin-top: 40px;\n  z-index: 1;\n  ${media.mobile`\n    margin-top: 70px;\n  `};\n`;\n","import * as React from 'react';\n\nimport { localize } from 'core/localization';\nimport Rate from 'assets/figures/Rate';\nimport { Button } from 'components/common';\nimport EditableTextarea from 'components/common/EditableTextarea';\nimport {\n  Figure,\n  TextElement,\n  FeedbackContainer,\n  EditableTextareaContainer,\n  Wrapper\n} from './FeedbackStep.styled';\n\ntype FeedbackStepProps = {\n  onChange(e: any): void;\n  onSubmit(): void;\n  npsScore: number;\n};\n\nexport class FeedbackStep extends React.PureComponent<FeedbackStepProps, {}> {\n\n  render() {\n    const { npsScore, onChange, onSubmit } = this.props;\n    let score = npsScore / 10;\n    return (\n      <Wrapper>\n        <TextElement appearance=\"h3\">{localize('[you gave a rate of]')}</TextElement>\n        <Figure>\n          <Rate number={score} promoters={score > 6} />\n        </Figure>\n        <FeedbackContainer>\n          <TextElement appearance=\"p\" size={18}>\n            {localize('[course score reason]')}\n          </TextElement>\n          <EditableTextareaContainer>\n            <EditableTextarea\n              placeholder={`${localize('[placeholder textarea]')}`}\n              tabIndex={1}\n              onChange={(e: any) => onChange(e)}\n              rows={1}\n              isAutofocus={true}\n            />\n          </EditableTextareaContainer>\n        </FeedbackContainer>\n        <Button tabIndex={1} onClick={onSubmit}>\n          {localize('[submit]')}\n        </Button>\n      </Wrapper>\n    );\n  }\n}\n\nexport default FeedbackStep;\n","import styled from 'styled-components';\nimport { Text } from 'components/common';\nimport media from 'components/mixins/media';\n\nexport const Figure = styled.div`\n  margin-bottom: 55px;\n  text-align: center;\n`;\n\nexport const TextElement = styled(Text)`\n  font-weight: normal;\n  color: ${props => props.theme.colors.textColor};\n  text-align: center;\n  ${media.mobile`\n  padding: 0 65px;\n`};\n`;\n\nexport const ButtonsWrapper = styled.div`\n  display: inline-block;\n  margin-top: 40px;\n\n  & > button {\n    width: 100%;\n    display: block;\n    margin: 0 0 20px;\n    &:focus {\n      outline: 1px solid black;\n    }\n    &:focus:not(:focus-visible) {\n      outline: none;\n    }\n  }\n`;\n\nexport const Wrapper = styled.div`\n  text-align: center;\n  z-index: 1;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { localize } from 'core/localization';\nimport { RootAppState } from 'store/types';\nimport Trophy from 'assets/figures/Trophy';\nimport { Text, Button } from 'components/common';\nimport { getLearnServiceUrl, isPreviewMode } from 'store/settings/selectors';\nimport * as navigationActions from 'store/navigation/actions';\nimport { Figure, TextElement, ButtonsWrapper, Wrapper } from './ThankForFeedback.styled';\nimport { isLtiInitialized } from 'store/modules/selectors';\n\ntype ThankForFeedbackProps = {\n  backTo(): void;\n  closeCourse(): void;\n  fromDownloadCertificateButton: boolean;\n  isScormMode: boolean;\n  isLti: boolean;\n  previewMode: boolean;\n  learnServiceUrl?: string;\n  navigationActions: { [key: string]: any };\n};\n\nexport class ThankForFeedback extends React.PureComponent<ThankForFeedbackProps, {}> {\n  static defaultProps = {\n    fromDownloadCertificateButton: false,\n    isScormMode: false,\n    previewMode: false\n  };\n\n  render() {\n    const {\n      fromDownloadCertificateButton,\n      backTo,\n      closeCourse,\n      isScormMode,\n      isLti,\n      previewMode,\n      navigationActions,\n      learnServiceUrl\n    } = this.props;\n\n    return (\n      <Wrapper>\n        <Figure>\n          <Trophy />\n        </Figure>\n        <Text appearance=\"h3\">{localize('[thank for feedback]')}</Text>\n        {!isScormMode && !previewMode && !fromDownloadCertificateButton && (\n          <Wrapper>\n            <TextElement appearance=\"p\" size={20} font=\"secondaryFont\">\n              {isLti ? localize('[close lti course text]') : localize('[close course text]')}\n            </TextElement>\n            {!isLti && (\n              <ButtonsWrapper>\n                <Button\n                  data-test=\"my-courses-button\"\n                  onClick={() => navigationActions.goToUrl(learnServiceUrl)}\n                  layout=\"primary\"\n                  tabIndex={1}\n                >\n                  {localize('[my courses]')}\n                </Button>\n              </ButtonsWrapper>\n            )}\n          </Wrapper>\n        )}\n\n        {isScormMode && (\n          <Button onClick={closeCourse} layout=\"secondary\" tabIndex={0}>\n            {localize('[close course]')}\n          </Button>\n        )}\n\n        {fromDownloadCertificateButton && (\n          <ButtonsWrapper>\n            {!isLti && (\n              <Button\n                onClick={() => navigationActions.goToUrl(learnServiceUrl)}\n                layout=\"primary\"\n                tabIndex={1}\n              >\n                {localize('[my courses]')}\n              </Button>\n            )}\n            <Button onClick={backTo} layout=\"primary\" tabIndex={1}>\n              {localize('[back to the results]')}\n            </Button>\n            <Button onClick={closeCourse} layout=\"secondary\" tabIndex={1}>\n              {localize('[close course]')}\n            </Button>\n          </ButtonsWrapper>\n        )}\n      </Wrapper>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    learnServiceUrl: getLearnServiceUrl(state),\n    previewMode: isPreviewMode(state),\n    isLti: isLtiInitialized(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    navigationActions: bindActionCreators(navigationActions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ThankForFeedback);\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport * as courseActions from 'store/course/actions';\nimport { isScormMode } from 'store/settings/selectors';\nimport { CssAnimation } from 'components/common';\nimport { closeWindow } from 'utils/window';\nimport { POPUP_ID_CLOSE_COURSE } from 'constants/popups';\nimport EvaluateCourse from './evaluateCourse';\nimport FeedbackStep from './feedbackStep';\nimport ThankForFeedback from './thankForFeedback';\nimport CloseCoursePopup from '../closeCourse';\nimport { RootAppState } from 'store/types';\n\nconst EVALUATE_COURSE_BLOCK = 'EVALUATE_COURSE_BLOCK';\nconst FEEDBACK_STEP_BLOCK = 'FEEDBACK_STEP_BLOCK';\nconst THANK_FOR_FEEDBACK_BLOCK = 'THANK_FOR_FEEDBACK_BLOCK';\n\ninterface NPSSteps {\n  EVALUATE_COURSE_BLOCK: string;\n  FEEDBACK_STEP_BLOCK: string;\n  THANK_FOR_FEEDBACK_BLOCK: string;\n}\n\ntype NpsPopupProps = {\n  courseActions: { [key: string]: any };\n  actions: { [key: string]: any };\n  closePopup(): void;\n  popupSettings: { [key: string]: any };\n  scormMode: boolean;\n};\n\ntype NpsPopupState = {\n  npsScore: number;\n  textFeedback: string;\n  currentStep: keyof NPSSteps;\n}\n\nexport class NpsPopup extends React.PureComponent<NpsPopupProps, NpsPopupState> {\n  steps: Array<keyof NPSSteps>;\n  constructor(props: NpsPopupProps) {\n    super(props);\n    this.state = {\n      npsScore: 0,\n      textFeedback: '',\n      currentStep: EVALUATE_COURSE_BLOCK\n    };\n    this.steps = [EVALUATE_COURSE_BLOCK, FEEDBACK_STEP_BLOCK, THANK_FOR_FEEDBACK_BLOCK];\n  }\n\n  updateNpsScore = (score: number) => {\n    this.setState({ npsScore: score * 10 });\n    this.goToNextStep();\n  };\n\n  updateTextFeedback = (e: { [key: string]: any }) => {\n    this.setState({ textFeedback: e.target.value });\n  };\n\n  submitNpsFeedback = async () => {\n    await this.props.courseActions.evaluate({\n      score: this.state.npsScore,\n      response: this.state.textFeedback\n    });\n\n    this.goToNextStep();\n  };\n\n  goToNextStep() {\n    let currentNameBlock = this.steps.indexOf(this.state.currentStep);\n    if (currentNameBlock < this.steps.length) {\n      ++currentNameBlock;\n      this.setState({ currentStep: this.steps[currentNameBlock] });\n    }\n  }\n\n  backToResult = () => {\n    this.props.closePopup();\n  };\n\n  openClosePopup() {\n    this.props.actions.openPopup({\n      popupId: POPUP_ID_CLOSE_COURSE,\n      popupAriaLabelKey: '[aria label close course popup]',\n      component: CloseCoursePopup,\n      disablePopupClosing: true,\n      closePopupByTap: false\n    });\n  }\n\n  closeCourse = () => {\n    this.props.closePopup();\n    if (!closeWindow()) {\n      this.openClosePopup();\n    } else {\n      closeWindow();\n    }\n  };\n\n  closeCourseInScormMode = () => {\n    this.props.closePopup();\n    this.openClosePopup();\n    this.props.courseActions.finalized();\n  };\n\n  render() {\n    const { fromDownloadCertificateButton } = this.props.popupSettings;\n    const { scormMode } = this.props;\n    return (\n      <React.Fragment>\n        {this.state.currentStep === EVALUATE_COURSE_BLOCK && (\n          <CssAnimation type={CssAnimation.AnimationType.fadeInDown}>\n            <EvaluateCourse onClick={this.updateNpsScore} />\n          </CssAnimation>\n        )}\n        {this.state.currentStep === FEEDBACK_STEP_BLOCK && (\n          <CssAnimation type={CssAnimation.AnimationType.fadeInDown}>\n            <FeedbackStep\n              npsScore={this.state.npsScore}\n              onChange={this.updateTextFeedback}\n              onSubmit={this.submitNpsFeedback}\n            />\n          </CssAnimation>\n        )}\n        {this.state.currentStep === THANK_FOR_FEEDBACK_BLOCK && (\n          <CssAnimation type={CssAnimation.AnimationType.fadeInDown}>\n            <ThankForFeedback\n              fromDownloadCertificateButton={fromDownloadCertificateButton}\n              backTo={this.backToResult}\n              closeCourse={scormMode ? this.closeCourseInScormMode : this.closeCourse}\n              isScormMode={scormMode}\n            />\n          </CssAnimation>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    scormMode: isScormMode(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    courseActions: bindActionCreators(courseActions, dispatch)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(NpsPopup);\n","export { default } from './nps';\n","export const getStringHash = (string: string) => {\n  let hash = 0;\n  let chr;\n  if (string.length === 0) {\n    return hash;\n  }\n  for (let index = 0; index < string.length; index++) {\n    chr = string.charCodeAt(index);\n    // eslint-disable-next-line\n    hash = (hash << 5) - hash + chr;\n    // eslint-disable-next-line\n    hash |= 0; // Convert to 32bit integer\n  }\n  return hash;\n};\n\nexport default getStringHash;\n","import getStringHash from 'utils/getStringHash';\n\nexport const sortById = (prev: any, next: any) => {\n  if (getStringHash(prev.id) > getStringHash(next.id)) {\n    return -1;\n  }\n  return 1;\n};\n\nexport default sortById;\n","import { getQuestion } from 'store/questions/selectors';\nimport { isRandomizeAnswersEnabled } from 'store/settings/selectors';\nimport { NO_SELECTED_ID } from 'constants/common';\nimport { sortById } from 'utils/sort';\nimport { RootAppState } from '../../types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  const randomizeAnswersEnabled = isRandomizeAnswersEnabled(state);\n  const { dropspots: options, randomizedOptions = [] } = question;\n  const dropspots = randomizeAnswersEnabled ? randomizedOptions : options;\n  return dropspots.map((dropspot: any) => ({\n    id: dropspot.id,\n    text: dropspot.text,\n    x: dropspot.x,\n    y: dropspot.y\n  }));\n};\n\nexport const getBackground = (state: RootAppState, questionId: string) => getQuestion(state, questionId).background;\n\nexport const getUserResponse = (state: RootAppState, questionId: string) => getQuestion(state, questionId).response;\n\nexport const getScore = (state: RootAppState, question: any) => {\n  const userAnswers: { [key: string]: any }[] = [];\n  const originalAnswers = question.dropspots.map((answer: any) => ({\n    id: answer.id,\n    text: answer.text\n  }));\n\n  if (question.response.length && !question.response[0].items.length) {\n    question.response.forEach((list: any) => {\n      if (list.id !== NO_SELECTED_ID) {\n        const answerId = list.id;\n        const answerText = list.items[0].text;\n        userAnswers.push({\n          id: answerId,\n          text: answerText\n        });\n      }\n    });\n  }\n\n  originalAnswers.sort(sortById);\n  userAnswers.sort(sortById);\n\n  if (JSON.stringify(originalAnswers) === JSON.stringify(userAnswers)) {\n    return 100;\n  }\n\n  return 0;\n};\n","import React from 'react';\nimport { IconElement, TextElement } from './Icon.styled';\n\ntype IconProps = {\n  name: string;\n  color?: any;\n  opacity?: any;\n  getColor?(): void;\n  className?: string;\n  size?: number;\n  text?: string;\n  fontSize?: number;\n  shapeSize?: any;\n  role?: string;\n  ariaLabel?: string;\n  tabIndex?: number;\n  onKeyDown?: any;\n  onClick?: any;\n  theme?: { [key: string]: any };\n  isBlur?: boolean;\n};\nexport const Icon = (props: IconProps) => {\n  const {\n    name = 'ok',\n    className = 'buttonTextColor',\n    text = '',\n    fontSize = 2,\n    size = 8,\n    opacity = 1,\n    ...other\n  } = props;\n  return (\n    <IconElement\n      className={`icon icon-${name} ${className || ''}`}\n      size={size}\n      opacity={opacity}\n      {...other}\n    >\n      <TextElement theme={props.theme} fontSize={fontSize}>\n        {text}\n      </TextElement>\n    </IconElement>\n  );\n};\n\nexport default Icon;\n","export { default } from './Icon';\n","import styled from 'styled-components';\nimport { Text, Icon } from 'components/common';\nimport { transparentize } from 'utils/color';\nimport { secondaryFontText } from 'components/mixins/typography';\nimport media from 'components/mixins/media';\n\nexport const Wrapper = styled.article`\n  display: flex;\n  max-width: 368px;\n  padding: 36px 24px 32px;\n  background-color: ${props => transparentize(props.theme.colors.mainColor, 0.05)};\n  border-top: 4px solid ${props => transparentize(props.theme.colors.mainColor, 0.3)};\n\n  ${media.small`\n    padding: 32px 16px 32px;\n  `};\n`;\n\nexport const DescriptionText = styled(Text)`\n  ${secondaryFontText};\n  padding-left: 13px;\n`;\n\nexport const DescriptionIcon = styled(Icon)`\n  &:before {\n    color: ${props => props.theme.colors.mainColor};\n    line-height: 2;\n  }\n`;\n","import * as React from 'react';\nimport { Wrapper, DescriptionIcon, DescriptionText } from './DescriptionWithBackground.styled';\n\ntype DescriptionWithBackgroundProps = {\n  iconName: string;\n  iconSize: number;\n  descriptionText: string | null;\n  descriptionTextAppearance?: any;\n  descriptionChildren?: any;\n};\n\nexport const DescriptionWithBackground = ({\n  iconName = 'info',\n  iconSize = 2,\n  descriptionText = null,\n  descriptionTextAppearance = 'p',\n  descriptionChildren = null\n}: DescriptionWithBackgroundProps) => (\n    <Wrapper>\n      <DescriptionIcon size={iconSize} name={iconName} />\n      <DescriptionText appearance={descriptionTextAppearance}>\n        {descriptionText}\n        {descriptionChildren}\n      </DescriptionText>\n    </Wrapper>\n  );\n\nexport default DescriptionWithBackground;\n","export { default } from './DescriptionWithBackground';\n","import { DEFAULT_AUTH_URL, DEFAULT_LEARN_URL } from 'constants/progressStorage';\nimport {\n  DEFAULT_ALTERNATIVE_LOGO_URL,\n  DEFAULT_BACKGROUND,\n  DEFAULT_COLORS,\n  DEFAULT_FONTS\n} from 'constants/defaults';\nimport getImageResizeUrl from 'components/mixins/images';\nimport { RootAppState } from 'store/types';\nimport { MATERIAL_TYPES } from '../../constants/common';\nimport { getMillisecondsFromTime } from 'utils/timer';\nimport { objectToArray } from 'utils/object';\n\nexport enum ShowAllQuestionAndContentItemsTypes {\n  SEPARATE_PAGES = 'separatePages',\n  ONE_PAGE = 'onePage'\n}\n\nexport enum SubmitAnswerTypes {\n  AFTER_EVERY_QUESTION = 'afterEveryQuestion',\n  ALL_QUESTIONS_AT_ONCE = 'allQuestionsAtOnce'\n}\n\nexport enum PreviousAttemptAnswerTypes {\n  SHOW = 'show',\n  RESET = 'reset'\n}\n\nexport enum AnswerOptionsOrderTypes {\n  SET_BY_AUTHOR = 'setByAuthor',\n  RANDOMIZE = 'randomize'\n}\n\nexport enum QuestionPoolRandomizationTypes {\n  SAME_ON_EVERY_ATTEMPT = 'sameOnEveryAttempt',\n  DIFFERENT_ON_EVERY_ATTEMPT = 'differentOnEveryAttempt'\n}\n\nexport const isSettingsLoadingFailed = (state: RootAppState) => state.settings.isLoadingFailed;\n\nexport const getFonts = (state: RootAppState) => state.settings.template?.fonts || DEFAULT_FONTS;\n\nexport const isAttemptsLimited = (state: RootAppState) =>\n  state.settings.template &&\n  state.settings.template.numberOfAttempts &&\n  state.settings.template.numberOfAttempts.isLimited;\n\nexport const getLimitedAttemptsNumber = (state: RootAppState) =>\n  state.settings.template &&\n  state.settings.template.numberOfAttempts &&\n  state.settings.template.numberOfAttempts.attemptsLimit\n    ? state.settings.template.numberOfAttempts.attemptsLimit\n    : 0;\n\nexport const getColors = (state: RootAppState) =>\n  state.settings.template.branding?.colors || DEFAULT_COLORS;\n\nexport const getLogo = (state: RootAppState) =>\n  state.settings.template && getImageResizeUrl(state.settings.template.branding.mainLogo, 400, 160);\n\nexport const getAlternativeLogo = (state: RootAppState) =>\n  getImageResizeUrl(\n    state.settings.template?.branding?.alternativeLogo || DEFAULT_ALTERNATIVE_LOGO_URL,\n    720,\n    400\n  );\n\nexport const isMainLogoShown = (state: RootAppState) =>\n  state.settings.template && state.settings.template.branding.allowToShowMainLogo;\n\nexport const getBackground = (state: RootAppState) =>\n  state.settings.template?.background || DEFAULT_BACKGROUND;\n\nexport const getTranslations = (state: RootAppState) => state.settings.translations;\n\nexport const isResultsTrackingEnabled = (state: RootAppState) =>\n  state.settings.template.resultsTracking && state.settings.template.resultsTracking.enabled;\n\nexport const getXapiSettings = (state: RootAppState) =>\n  state.settings.template && state.settings.template.xApi;\n\nexport const isScoringOfContentPagesAllowed = (state: RootAppState) =>\n  state.settings.template.allowScoringOfContentPages &&\n  state.settings.template.allowScoringOfContentPages.enabled;\n\nexport const isShowContentPagesEnabled = (state: RootAppState) =>\n  state.settings.template.showContentPages.enabled;\n\nexport const shouldSubmitEachQuestions = (state: RootAppState) =>\n  state.settings.template.submitAnswers &&\n  state.settings.template.submitAnswers.selected &&\n  state.settings.template.submitAnswers.selected === SubmitAnswerTypes.AFTER_EVERY_QUESTION;\n\nexport const shouldSubmitAllQuestions = (state: RootAppState) =>\n  state.settings.template.submitAnswers &&\n  state.settings.template.submitAnswers.selected &&\n  state.settings.template.submitAnswers.selected === SubmitAnswerTypes.ALL_QUESTIONS_AT_ONCE;\n\nexport const getPublishSettings = (state: RootAppState) =>\n  state.settings.template && state.settings.publish;\n\nexport const getAuthoringToolUrl = (state: RootAppState) =>\n  state.settings.publish.hasOwnProperty('authoringToolUrl') &&\n  state.settings.publish.authoringToolUrl;\n\nexport const isCrossDeviceSavingEnabled = (state: RootAppState) =>\n  state.settings.template.saveProgressCrossDevice &&\n  state.settings.template.saveProgressCrossDevice.enabled;\n\nexport const isNpsEnabled = (state: RootAppState) =>\n  state.settings.template.conductLearnerSatisfactionSurvey &&\n  state.settings.template.conductLearnerSatisfactionSurvey.enabled;\n\nexport const isAccessLimited = (state: RootAppState) =>\n  (state.settings.publish &&\n    state.settings.publish.accessLimitation &&\n    state.settings.publish.accessLimitation.enabled) ||\n  false;\n\nexport const isAllowToSkipTrackingAndTracingEnabled = (state: RootAppState) =>\n  state.settings.template.allowUserToSkipTrackingAndTracing &&\n  state.settings.template.allowUserToSkipTrackingAndTracing.enabled;\n\nexport const isTrackingEnabled = (state: RootAppState) =>\n  isCrossDeviceSavingEnabled(state) ||\n  isResultsTrackingEnabled(state) ||\n  isNpsEnabled(state) ||\n  isAccessLimited(state);\n\nexport const isLoginViaSocialMediaEnabled = (state: RootAppState) =>\n  state.settings.template.loginViaSocialMedia &&\n  state.settings.template.loginViaSocialMedia.enabled;\n\nexport const isScormMode = (state: RootAppState) =>\n  state.settings.template && state.settings.publishMode && state.settings.publishMode.isScorm;\nexport const isScorm2004Mode = (state: RootAppState) =>\n  state.settings.template && state.settings.publishMode && state.settings.publishMode.isScorm2004;\nexport const isPreviewMode = (state: RootAppState) =>\n  state.settings.template && state.settings.publishMode && state.settings.publishMode.isPreview;\nexport const isReviewMode = (state: RootAppState) =>\n  state.settings.template && state.settings.publishMode && state.settings.publishMode.isReview;\nexport const isPublishMode = (state: RootAppState) =>\n  !(isScormMode(state) || isPreviewMode(state) || isReviewMode(state));\n\nexport const getAuthServiceUrl = (state: RootAppState) =>\n  state.settings.publish && state.settings.publish.authServiceUrl\n    ? `${state.settings.publish.authServiceUrl}`\n    : DEFAULT_AUTH_URL;\n\nexport const getLearnServiceUrl = (state: RootAppState) =>\n  state.settings.publish && state.settings.publish.learnServiceUrl\n    ? `${state.settings.publish.learnServiceUrl}`\n    : DEFAULT_LEARN_URL;\n\nexport const getAllowedUsers = (state: RootAppState) =>\n  isAccessLimited(state) ? state.settings.publish.accessLimitation.allowedUsers : [];\n\nexport const getQuestionShortIds = (state: RootAppState) =>\n  isScormMode(state) ? state.settings.publish.questionShortIds : [];\n\nexport const getSelectedLanguage = (state: RootAppState) =>\n  state.settings.template.languages && state.settings.template.languages.selected;\n\nexport const isAllowedDownloadCertificate = (state: RootAppState) =>\n  state.settings.template.allowUsersToDownloadCertificates &&\n  state.settings.template.allowUsersToDownloadCertificates.enabled;\n\nexport const isOverallMasteryScore = (state: RootAppState) =>\n  state.settings.template.masteryScore && state.settings.template.masteryScore.isOverall;\n\nexport const getMasteryScoreValue = (state: RootAppState) =>\n  state.settings.template.masteryScore && state.settings.template.masteryScore.score;\n\nexport const isAllQuestionsOnOnePage = (state: RootAppState) =>\n  state.settings.template.showAllQuestionAndContentItems &&\n  state.settings.template.showAllQuestionAndContentItems.selected &&\n  state.settings.template.showAllQuestionAndContentItems.selected ===\n    ShowAllQuestionAndContentItemsTypes.ONE_PAGE;\n\nexport const isResource = (state: RootAppState) =>\n  state.settings.publish.materialType === MATERIAL_TYPES.RESOURCE;\n\nexport const isCourse = (state: RootAppState) =>\n  state.settings.publish.materialType === MATERIAL_TYPES.COURSE;\n\nexport const analyticsWriteKey = (state: RootAppState) => state.settings.publish.analyticsWriteKey;\n\nexport const isShowLearningHintsEnabled = (state: RootAppState) =>\n  state.settings.template.showLearningHints && state.settings.template.showLearningHints.enabled;\n\nexport const isQuestionPoolEnabled = (state: RootAppState) =>\n  state.settings.template.questionPool && state.settings.template.questionPool.enabled;\n\nexport const getQuestionPoolSize = (state: RootAppState) => {\n  let questionPoolSize =\n    state.settings.template.questionPool && state.settings.template.questionPool.size\n      ? state.settings.template.questionPool.size\n      : 0;\n\n  const nonSurveyQuestions = objectToArray(state.questions).filter( question => !question.isSurvey)\n  if (questionPoolSize && nonSurveyQuestions.length < questionPoolSize) {\n      questionPoolSize = nonSurveyQuestions.length;\n  }\n\n  return questionPoolSize;\n};\n\nexport const isQuestionRandomizeEnabled = (status: RootAppState) =>\n  status.settings.template.questionPool &&\n  status.settings.template.questionPool.subset &&\n  status.settings.template.questionPool.subset.type ===\n    QuestionPoolRandomizationTypes.SAME_ON_EVERY_ATTEMPT &&\n  status.settings.template.questionPool.subset.randomizeQuestionOrder;\n\nexport const isNewSubsetOnEveryAttempt = (status: RootAppState) =>\n  status.settings.template.questionPool &&\n  status.settings.template.questionPool.subset &&\n  status.settings.template.questionPool.subset.type ===\n    QuestionPoolRandomizationTypes.DIFFERENT_ON_EVERY_ATTEMPT;\n\nexport const isRandomizeAnswersEnabled = (state: RootAppState) =>\n  state.settings.template.answerOptionsOrder?.selected === AnswerOptionsOrderTypes.RANDOMIZE;\n\nexport const isAnswersFromPreviousAttemptEnabled = (state: RootAppState) =>\n  state.settings.template.answersFromPreviousAttempt &&\n  state.settings.template.answersFromPreviousAttempt.selected === PreviousAttemptAnswerTypes.SHOW;\n\nexport const getTimerEnabled = (state: RootAppState) => state.settings.template.timer.enabled;\n\nexport const getTimerLimit = (state: RootAppState) =>\n  getMillisecondsFromTime(state.settings.template.timer?.time);\n","const getImageResizeUrl = (url: any, width: any, height: any, scaleBySmallerSide = true) =>\n  `${url}?height=${height}&amp;width=${width}&amp;scaleBySmallerSide=${scaleBySmallerSide}`;\n\nexport default getImageResizeUrl;\n","export enum TimerStatus {\n  NOT_STARTED = 'NOT_STARTED',\n  STARTED = 'STARTED',\n  STOPPED = 'STOPPED',\n  TIMED_OUT = 'TIMED_OUT',\n  RESET = 'RESET'\n}\nexport const COURSE_TIMER_PROGRESS_KEY = 'course_timer_progress';\nexport const PROGRESS_STORAGE_TIMER_UPDATE_INTERVAL = 60000;\nexport const APP_STORE_TIMER_UPDATE_INTERVAL = 5000;\n","import { css } from 'styled-components';\n\nexport const TRANSITION_DURATION = '0.2s';\n\nexport const transition = (\n  transitionProperty: any,\n  transitionDuration: string | number = TRANSITION_DURATION,\n  transitionFunction = 'ease-in-out',\n  transitionDelay = 0\n) => css`\n  transition-property: ${transitionProperty};\n  transition-timing-function: ${transitionFunction};\n  transition-duration: ${toTimeString(transitionDuration)};\n  transition-delay: ${toTimeString(transitionDelay)};\n`;\n\nfunction toTimeString(value: string | number) {\n  return typeof value === 'string' ? value : `${value}ms`;\n}\n\nexport const pointerOnHover = () => css`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport const bounce = () => `\nanimation: bounce 0.5s linear;\n@keyframes bounce{\n  0%{\n    transform-origin: center center;\n    transform: scale(0, 0) translate(0,0,0);\n  }\n  30%{\n    transform: scale(1.01, 1.01);\n  }\n  45%{\n    transform: scale(0.95, 0.95);\n  }\n  60%{\n    transform: scale(1.01, 1.01);\n  }\n  75%{\n    transform: scale(0.95, 0.95);\n  }\n  100%{\n    transform: scale(1, 1) translate(0,0,0);\n  }\n}`;\n\nexport const crossFade = (animateFrom: string) => {\n  let position = '';\n  if (animateFrom === 'fromTop') {\n    position = '0, -16px';\n  }\n  if (animateFrom === 'fromRight') {\n    position = '16px, 0';\n  }\n  if (animateFrom === 'fromBottom') {\n    position = '0, 16px';\n  }\n  if (animateFrom === 'fromLeft') {\n    position = '-16px, 0';\n  }\n  return `\n  animation: crossFade${animateFrom} 0.2s ease-in-out;\n  @keyframes crossFade${animateFrom}{\n    0%{\n      transform: translate(${position});\n      opacity: 0;\n    }\n    100%{\n      transform: translate(0, 0);\n      opacity: 1;\n    }\n  }`;\n};\n\nexport const shake = (animateFrom: string, animateDuration = 1, animateIteration = 'infinite') => {\n  let position = '';\n  if (animateFrom === 'horizontal') {\n    position = '3px, 0';\n  }\n  if (animateFrom === 'vertical') {\n    position = '0, -3px';\n  }\n  return `\n  animation: shake${animateFrom} ${animateDuration}s ${animateIteration} ease-in-out;\n  @keyframes shake${animateFrom}{\n    0% {\n      transform: translate(0, 0);\n    }\n    50% {\n      transform: translate(${position});\n    }\n    100% {\n      transform: translate(0, 0);\n    }\n  }\n  `;\n};\n\nexport const pulse = (color: any) => {\n  const start = color.start || 'rgba(255,255,255, 0.5)';\n  const middle = color.middle || 'rgba(255,255,255, 0.3)';\n  const end = color.end || 'rgba(255,255,255, 0.05)';\n  return `\n  animation: pulse 1s infinite;\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 ${start};\n    }\n    50% {\n      box-shadow: 0 0 0 6px ${middle};\n    }\n    100% {\n      box-shadow: 0 0 0 8px ${end};\n    }\n  }\n  `;\n};\n","import { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { MEDIA_FONT_SIZES } from 'constants/common';\nimport media from './media';\n\nconst defaultMainFont = 'PT Serif, Serif';\nconst defaultSecondaryFont = 'Arial, Sans-Serif';\n\nexport const fontFamilyWithFallback = (fontFamily: any, fallback: any) =>\n  `${fontFamily || 'Arial'}, ${fallback}`;\n\nexport const mainFont = css`\n  font-family: ${props =>\n    fontFamilyWithFallback(props.theme.fonts.mainFont.fontFamily, defaultMainFont)};\n`;\n\nexport const secondaryFont = css`\n  font-family: ${props =>\n    fontFamilyWithFallback(props.theme.fonts.secondaryFont.fontFamily, defaultSecondaryFont)};\n`;\n\nconst styledColors = (fontStyles: any, isInverted: any, InvertedColor: any) => css`\n  color: ${isInverted ? InvertedColor : fontStyles.color};\n`;\n\nconst styledFonts = (fontStyles: any) => css`\n  font-family: ${fontFamilyWithFallback(fontStyles.fontFamily, defaultMainFont)};\n  font-size: ${fontStyles.size}px;\n  font-style: ${fontStyles.fontStyle};\n  font-weight: ${fontStyles.fontWeight};\n  text-decoration: ${fontStyles.textDecoration};\n  background-color: ${fontStyles.textBackgroundColor};\n`;\n\nconst mediaFontSize = (fontSize: any, percentage: any, limitSize: any = null) => {\n  let result = fontSize * percentage;\n\n  if (limitSize && result > limitSize) {\n    result = limitSize;\n  }\n\n  return css`\n    font-size: ${result}px;\n  `;\n};\n\nexport const bold = css`\n  font-weight: 600;\n`;\n\nexport const mainFontH1 = css`\n  ${(props: any) => styledFonts(props.theme.fonts.heading1)};\n  line-height: 1.4;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.heading1,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.smallFontRatio`\n    ${(props: any) =>\n      mediaFontSize(props.theme.fonts.heading1.size, MEDIA_FONT_SIZES.heading1.MULTIPLIER)};\n  `}\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.heading1.size,\n      MEDIA_FONT_SIZES.heading1.MULTIPLIER,\n      MEDIA_FONT_SIZES.heading1.MAXIMUM_VALUE\n    )}`}\n`;\n\nexport const mainFontH2 = css`\n  ${(props: any) => styledFonts(props.theme.fonts.heading2)};\n  line-height: 1.4;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.heading2,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.large`\n    ${(props: any) =>\n      mediaFontSize(props.theme.fonts.heading2.size, MEDIA_FONT_SIZES.heading2.MULTIPLIER)};\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.heading2.size,\n      MEDIA_FONT_SIZES.heading2.MULTIPLIER,\n      MEDIA_FONT_SIZES.heading2.MAXIMUM_VALUE\n    )}`}\n  `};\n`;\n\nexport const mainFontH3 = css`\n  ${(props: any) => styledFonts(props.theme.fonts.heading3)};\n  line-height: 1.4;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.heading3,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.large`\n    ${(props: any) =>\n      mediaFontSize(props.theme.fonts.heading3.size, MEDIA_FONT_SIZES.heading3.MULTIPLIER)};\n  `};\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.heading3.size,\n      MEDIA_FONT_SIZES.heading3.MULTIPLIER,\n      MEDIA_FONT_SIZES.heading3.MAXIMUM_VALUE\n    )}`};\n`;\n\nexport const mainFontH4 = css`\n  ${(props: any) => styledFonts(props.theme.fonts.heading4)};\n  line-height: 1.4;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.heading4,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.large`\n    ${(props: any) =>\n      mediaFontSize(props.theme.fonts.heading4.size, MEDIA_FONT_SIZES.heading4.MULTIPLIER)};\n  `};\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.heading4.size,\n      MEDIA_FONT_SIZES.heading4.MULTIPLIER,\n      MEDIA_FONT_SIZES.heading4.MAXIMUM_VALUE\n    )}`};\n`;\n\nexport const mainFontText = css`\n  ${mainFont};\n  font-size: 18px;\n  ${bold};\n  line-height: 1.6;\n`;\n\nexport const mainFontSmallText = css`\n  ${mainFont};\n  font-size: 14px;\n  ${bold};\n  line-height: 28px;\n  ${media.xlarge`\n    font-size: 12px;\n  `};\n`;\n\nexport const secondaryFontH1 = css`\n  ${secondaryFont};\n  font-size: 36px;\n  font-weight: 100;\n  line-height: 54px;\n  ${media.mobile`\n    font-size: 32px;\n    line-height: 48px;\n  `};\n`;\n\nexport const secondaryFontText = css`\n  ${(props: any) => styledFonts(props.theme.fonts.normal)};\n  line-height: 1.6;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.normal,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.large`\n    ${(props: any) =>\n      mediaFontSize(props.theme.fonts.normal.size, MEDIA_FONT_SIZES.paragraph.MULTIPLIER)};\n  `};\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.normal.size,\n      MEDIA_FONT_SIZES.paragraph.MULTIPLIER,\n      MEDIA_FONT_SIZES.paragraph.MAXIMUM_VALUE\n    )}`};\n`;\n\nexport const secondaryFontSmallText = css`\n  ${secondaryFont};\n  font-size: 14px;\n  line-height: 28px;\n  ${media.xlarge`\n    font-size: 12px;\n  `};\n  ${media.mobile`\n    font-size: 11px;\n    line-height: 26px;\n  `};\n`;\n\nexport const quote = css`\n  ${(props: any) => styledFonts(props.theme.fonts.quote)};\n  line-height: 1.6;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.quote,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.large`\n    ${(props: any) =>\n      mediaFontSize(props.theme.fonts.quote.size, MEDIA_FONT_SIZES.quote.MULTIPLIER)};\n  `};\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.quote.size,\n      MEDIA_FONT_SIZES.quote.MULTIPLIER,\n      MEDIA_FONT_SIZES.quote.MAXIMUM_VALUE\n    )}`};\n`;\n\nexport const highlighted = css`\n  ${(props: any) => styledFonts(props.theme.fonts.highlighted)};\n  line-height: 2;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.highlighted,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  background-color: ${(props: any) => props.theme.fonts.highlighted.textBackgroundColor};\n  ${media.xlarge`\n    ${(props: any) => mediaFontSize(props.theme.fonts.highlighted.size, 0.88)};\n  `};\n  ${media.mobile`\n    ${(props: any) => mediaFontSize(props.theme.fonts.highlighted.size, 0.82)};\n  `};\n`;\n\nexport const code = css`\n  color: #000;\n  font-family: 'PT-Mono', Courier, monospace;\n  padding: 8px;\n  border-color: #cccccc;\n  border-radius: 2px;\n  background-clip: padding-box;\n  background-color: #f5f5f5;\n`;\n\nexport const links = css`\n  ${(props: any) => styledFonts(props.theme.fonts.links)};\n  line-height: 2;\n  color: ${(props: any) =>\n    props.inverted\n      ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.7)\n      : transparentize(props.theme.fonts.links.color, 0.7)};\n  ${media.xlarge`\n    ${(props: any) => mediaFontSize(props.theme.fonts.links.size, 1)};\n  `};\n  ${media.medium`\n    ${(props: any) => mediaFontSize(props.theme.fonts.links.size, 0.88)};\n  `};\n\n  &:hover {\n    ${(props: any) =>\n      styledColors(\n        props.theme.fonts.links,\n        props.inverted,\n        props.theme.colors.coverBgOverlayTextColor\n      )};\n  }\n`;\n","export const MEDIA_XSMALL = 376;\nexport const MEDIA_SMALL = 768;\nexport const MEDIA_MEDIUM = 1024;\nexport const MEDIA_LARGE = 1280;\nexport const MEDIA_XLARGE = 1440;\n\nexport const MEDIA_SMALL_FONT_RATIO = 1200;\nexport const MEDIA_TABLET = 1000;\nexport const MEDIA_MOBILE = 580;\n","import { createSelector } from 'reselect';\nimport { isPassed, isInProgress } from 'utils/comparison';\nimport * as questionSelectors from 'store/questions/selectors';\nimport {\n  getMasteryScoreValue,\n  isOverallMasteryScore,\n  isQuestionPoolEnabled\n} from 'store/settings/selectors';\nimport { objectToArray } from 'utils/object';\nimport { RootAppState } from 'store/types';\nimport { INFORMATION_CONTENT } from 'constants/questionTypes';\n\nexport const getSectionQuestions = (state: RootAppState, sectionId: string) =>\n  objectToArray(state.questions).filter(question => question.sectionId === sectionId);\n\nexport const getSection = (state: RootAppState, sectionId: string) => state.sections[sectionId];\n\nexport const getSections = createSelector(\n  (state: RootAppState) => state.sections,\n  sections => objectToArray(sections)\n);\n\nconst getQuestionIds = createSelector(getSection, section => (section && section.questions) || []);\n\nexport const getQuestionCount = createSelector(\n  getSection,\n  section => section && section.questions.length\n);\n\nexport const getCourseQuestionCount = (state: RootAppState) => {\n  if (isQuestionPoolEnabled(state)) {\n    return (\n      state &&\n      Object.values(state.questions).filter((question: any) => question.isPoolQuestion).length\n    );\n  }\n  return state && state.questions && Object.keys(state.questions).length;\n};\n\nexport const getQuestionIndex = createSelector(\n  getQuestionIds,\n  (state, sectionId, questionId) => questionId,\n  (questionIds, questionId) => questionIds.indexOf(questionId)\n);\n\nexport const getCourseQuestionIndex = (state: RootAppState, questionId: any) =>\n  questionId && Object.keys(state.questions).indexOf(questionId);\n\nexport const affectsProgress = createSelector(\n  getQuestionIds,\n  state => state,\n  (questionIds, state) =>\n    questionIds.find(\n      (questionId: string) => questionSelectors.getQuestion(state, questionId).affectsProgress\n    ) !== undefined\n);\n\nexport const getAffectProgressSections = createSelector(\n  getSections,\n  state => state,\n  (sections, state) => sections.filter(section => affectsProgress(state, section.id))\n);\n\nexport const getAffectProgressSectionsCount = (state: RootAppState) =>\n  getAffectProgressSections(state).length;\n\nexport const getSectionsPassedCount = createSelector(\n  getSections,\n  sections => sections.filter(section => isPassed(section.status)).length\n);\n\nexport const isSectionsPassed = createSelector(getAffectProgressSections, sections =>\n  sections.every(section => isPassed(section.status))\n);\n\nexport const isSectionsFailed = createSelector(\n  getAffectProgressSections,\n  state => state,\n  (sections, state) =>\n    !isSectionsPassed(state) && sections.every(section => !isInProgress(section.status))\n);\n\nexport const getAnsweredSectionsCount = createSelector(\n  getAffectProgressSections,\n  sections => sections.filter(section => section.isSectionAnswered).length\n);\n\nexport const getQuestions = createSelector(\n  getQuestionIds,\n  state => state,\n  (questionIds, state) =>\n    questionIds.reduce((result: any, questionId: string) => {\n      result.push(questionSelectors.getQuestion(state, questionId));\n      return result;\n    }, [])\n);\n\nexport const getAffectProgressQuestions = createSelector(getQuestions, questions =>\n  questions.filter((question: any) => question.affectsProgress)\n);\n\nexport const getAnsweredOnceQuestionsInSecton = createSelector(\n  getAffectProgressQuestions,\n  questions => questions.filter((question: any) => question.isAnswered)\n);\n\nexport const isSectionFailed = createSelector(\n  getAffectProgressQuestions,\n  state => state,\n  (questions, state) =>\n    questions.every((question: any) => !questionSelectors.hasAvailableAttempt(state, question))\n);\n\nexport const getSectionScore = (state: RootAppState) =>\n  isOverallMasteryScore(state) ? 100 : getMasteryScoreValue(state);\n\nexport const getAffectProgressQuestionsCountInSection = (state: RootAppState, sectionId: string) =>\n  getAffectProgressQuestions(state, sectionId).length;\n\nexport const getAnsweredSectionQuestionsCount = (state: RootAppState, sectionId: string) =>\n  getAnsweredOnceQuestionsInSecton(state, sectionId).length;\n\nexport const getSectionProgress = (state: RootAppState, sectionId: string) => {\n  const affectProgressQuestionsCountInSection = getAffectProgressQuestionsCountInSection(\n    state,\n    sectionId\n  );\n  const answeredQuestionsCountInSection = getAnsweredSectionQuestionsCount(state, sectionId);\n  return affectProgressQuestionsCountInSection > 0\n    ? Math.floor((answeredQuestionsCountInSection * 100) / affectProgressQuestionsCountInSection)\n    : 0;\n};\n\nexport const getCorrectlyAffectProgressQuestionsCountInSection = createSelector(\n  getQuestions,\n  questions =>\n    questions.filter((question: any) => question.isAnsweredCorrectly && question.affectsProgress)\n      .length\n);\n\nexport const getAffectCorrectlyAnsweredQuestionsCount = (state: RootAppState, sectionId: string) =>\n  Math.ceil(\n    getSectionScore(state) / (100 / getAffectProgressQuestionsCountInSection(state, sectionId))\n  );\n\nexport const sectionExists = (state: RootAppState, sectionId: string) =>\n  sectionId && Object.keys(state.sections).includes(sectionId);\n\nexport const getCorrectlyAnsweredQuestionsCount = (state: RootAppState) =>\n  objectToArray(state.questions).filter((question: any) => question.isAnsweredCorrectly).length;\n\nexport const getNonInfoContentQuestions = (state: RootAppState, sectionId: string) => {\n  const questions = getSectionQuestions(state, sectionId) || [];\n  return questions\n    .filter((question: any) => question.type !== INFORMATION_CONTENT)\n    .map((question: any) => question.id);\n};\n\nexport const getAnsweredAffectProgressQuestionsCountInSection = createSelector(\n  getQuestions,\n  questions =>\n    questions.filter((question: any) => question.isAnswered && question.affectsProgress).length\n);\n\nexport const getSectionIndex = createSelector(\n  getSections,\n  (state: RootAppState, sectionId: string) => sectionId,\n  (sections, sectionId) => sections.map(section => section.id).indexOf(sectionId)\n);\n\nexport const isSectionAnswered = (state: RootAppState, sectionId: string) => {\n  const affectProgressQuestionsCountInSection = getAffectProgressQuestionsCountInSection(\n    state,\n    sectionId\n  );\n  const answeredQuestionsCountInSection = getAnsweredSectionQuestionsCount(state, sectionId);\n  return affectProgressQuestionsCountInSection === answeredQuestionsCountInSection;\n};\n\nexport const isLearningObjective = createSelector(\n  getSections,\n  (state: RootAppState, sectionId: string) => sectionId,\n  (sections, sectionId) => sections.map(section => section.id).indexOf(sectionId) >= 0\n);\n","export const DEFAULT_AUTH_URL = 'https://auth-staging.easygenerator.com';\nexport const DEFAULT_LEARN_URL = 'https://learn-staging.easygenerator.com/';\nexport const USER_ALREADY_EXISTS = 'userAlreadyExists';\nexport const EMAIL_PASSWORD_COMBINATION_NOT_EXISTS = 'emailPasswordCombinationNotExists';\nexport const PASSWORD_RESET_SENDING_FAILED = 'passwordResetSendingFailed';\nexport const UNKNOWN_ERROR = 'unknownError';\nexport const STATUS_OK = 'statusOk';\n","export type ModulesState = {\n    xapi: {\n        isInitialized: boolean;\n        isLrsTrackingOn: boolean;\n        isNpsTrackingOn: boolean;\n    },\n    scorm: {\n        isInitialized: boolean\n    };\n    progressStorage: {\n        isProgressStorageOn: boolean;\n    };\n    review: {\n        isReviewModeEnabled: boolean;\n        reviewApiUrl: string;\n    };\n    lti: {\n        isInitialized: boolean;\n    }\n}\nexport enum ActionTypes {\n    MODULE_XAPI_INITIALIZED = 'MODULE_XAPI_INITIALIZED',\n    MODULE_XAPI_LRS_ON = 'MODULE_XAPI_LRS_ON',\n    MODULE_XAPI_LRS_OFF = 'MODULE_XAPI_LRS_OFF',\n    MODULE_XAPI_NPS_ON = 'MODULE_XAPI_NPS_ON',\n    MODULE_XAPI_NPS_OFF = 'MODULE_XAPI_NPS_OFF',\n    MODULE_SCORM_INITIALIZED = 'MODULE_SCORM_INITIALIZED',\n    MODULE_PROGRESS_STORAGE_ON = 'MODULE_PROGRESS_STORAGE_ON',\n    MODULE_PROGRESS_STORAGE_OFF = 'MODULE_PROGRESS_STORAGE_OFF',\n    ENABLE_REVIEW_MODE = 'ENABLE_REVIEW_MODE',\n    MODULE_LTI_INITIALIZED = 'MODULE_LTI_INITIALIZED'\n}\n\ntype InitializeXApi = {\n    type: ActionTypes.MODULE_XAPI_INITIALIZED \n}\n\ntype SubscribeLRS = {\n    type: ActionTypes.MODULE_XAPI_LRS_ON\n}\n\ntype SubscribeNPS = {\n    type: ActionTypes.MODULE_XAPI_NPS_ON\n}\n\ntype SubscribePS = {\n    type: ActionTypes.MODULE_PROGRESS_STORAGE_ON\n}\n\ntype SubscribeLTI = {\n    type: ActionTypes.MODULE_LTI_INITIALIZED\n}\n\ntype UnsubscribeLrs = {\n    type: ActionTypes.MODULE_XAPI_LRS_OFF\n}\n\ntype UnsubscribeNPS = {\n    type: ActionTypes.MODULE_XAPI_NPS_OFF\n}\n\ntype UnsubscribePS = {\n    type: ActionTypes.MODULE_PROGRESS_STORAGE_OFF\n}\n\ntype ScrormInitialize = {\n    type: ActionTypes.MODULE_SCORM_INITIALIZED\n}\n\ntype EnableReview = {\n    type: ActionTypes.ENABLE_REVIEW_MODE,\n    payload: {\n        reviewApiUrl: string\n    }\n}\n\nexport type  ModulesActionTypes = InitializeXApi | SubscribeLRS | SubscribeNPS | SubscribePS | SubscribeLTI | UnsubscribeLrs | UnsubscribeNPS | UnsubscribePS | ScrormInitialize | EnableReview;\n\n","import { css } from 'styled-components';\n\nconst buttonDefaultStyle = () => css`\n  background: none;\n  border: none;\n  outline: none;\n  &:focus,\n  &::-moz-focus-inner {\n    border: none;\n    outline: 2px solid black;\n    outline-offset: 2px;\n  }\n`;\nexport default buttonDefaultStyle;\n","import { schema } from 'normalizr';\nimport { QuestionChildren } from './question';\n\nconst content = new schema.Entity(\n  'contents',\n  {},\n  {\n    processStrategy: (value: any, parent: any, key: string) => {\n      const result = {\n        ...value,\n        value: undefined\n      }\n\n      if (result.children as QuestionChildren) {\n        result.children = result.children.map((item: any) => item.id) as Array<string>;\n      }\n\n      switch (key) {\n        case 'instructions':\n        case 'hints':\n        case 'correctFeedback':\n        case 'incorrectFeedback':\n        case 'children':\n          result.url = `${parent.sectionId}/${parent.id}/${value.id}.html`;\n          break;\n        case 'questionContent':\n          result.url = `${parent.sectionId}/${parent.id}/content.html`;\n          break;\n        default:\n          throw new Error('Content entity key is not supported');\n      }\n      return result;\n    }\n  }\n);\n\nexport default content;\n","import { schema } from 'normalizr';\n\nfunction getAnswerId(answerList: any, explanationBlockId: any) {\n  const answer = answerList.find(\n    (item: any) => item.explanationBlocks.findIndex((block: any) => block.id === explanationBlockId) >= 0\n  );\n  return answer.id;\n}\n\nconst explanationBlock = new schema.Entity(\n  'contents',\n  {},\n  {\n    processStrategy: (value: any, parent: any, key: string) => {\n      let answerId;\n      const result = {\n        ...value,\n        value: undefined\n      };\n      switch (key) {\n        case 'explanationBlocks':\n          answerId = getAnswerId(parent.answers, value.id);\n          result.url = `${parent.sectionId}/${parent.id}/${answerId}/${value.id}.html`;\n          result.sectionId = parent.sectionId;\n          result.questionId = parent.id;\n          result.answerId = answerId;\n          break;\n        case 'children':\n          result.url = `${parent.sectionId}/${parent.questionId}/${parent.answerId}/${value.id}.html`;\n          break;\n        default:\n          throw new Error('Content entity key is not supported');\n      }\n      return result;\n    }\n  }\n);\n\nexplanationBlock.define({\n  children: [explanationBlock]\n});\n\nexport default explanationBlock;\n","import { schema } from 'normalizr';\nimport { renameProperty, guid } from 'utils/object';\nimport { INFORMATION_CONTENT } from 'constants/questionTypes';\nimport { getInitialQuestionResponse } from 'store/initialState';\nimport content from './content';\nimport explanationBlock from './explanationBlock';\n\nexport type QuestionChildren = Array<object>\n\nexport function transferPropBetweenObj(currentList: [{ [key: string]: any }], nameOfTargetProp: string, targetList: [{ [key: string]: any }]) {\n  if (currentList) {\n    currentList.forEach((prop: any) => {\n      if (prop[nameOfTargetProp] && prop[nameOfTargetProp].length) {\n        prop[nameOfTargetProp].forEach((item: any) => {\n          targetList.push({ id: item.id });\n        });\n      }\n    });\n  }\n}\n\nexport function transferExplanationBlocks(answerList: [{ [key: string]: any }], targetList: [{ [key: string]: any }]) {\n  if (answerList) {\n    answerList.forEach((answer: any) => {\n      if (answer.explanationBlocks && answer.explanationBlocks.length) {\n        answer.explanationBlocks.forEach((explanation: any) => {\n          const entity: { [key: string]: any } = {\n            id: explanation.id\n          };\n          if (explanation.children && explanation.children.length) {\n            entity.children = explanation.children;\n          }\n          targetList.push(entity);\n        });\n      }\n    });\n  }\n}\n\nconst question = new schema.Entity(\n  'questions',\n  {\n    children: [content],\n    instructions: [content],\n    hints: [content],\n    correctFeedback: [content],\n    incorrectFeedback: [content],\n    questionContent: [content],\n    explanationBlocks: [explanationBlock],\n  },\n  {\n    processStrategy: (value, parent) => {\n      const result = {\n        ...value,\n        questionContent: [],\n        children: [] as QuestionChildren,\n        explanationBlocks: [],\n        sectionId: parent.id,\n        score: 0,\n        hasBeenOpened: false,\n        isAnswered: false,\n        isAnsweredCorrectly: false,\n        response: getInitialQuestionResponse(value.type),\n        affectsProgress: value.type !== INFORMATION_CONTENT\n      };\n\n      if (result.hasOwnProperty('isSurvey') && result.affectsProgress) {\n        result.affectsProgress = !result.isSurvey;\n      }\n\n\n      if (result.hasContent) {\n        result.questionContent.push({ id: guid() });\n      }\n\n      transferPropBetweenObj(result.learningContents, 'children', result.children);\n      transferPropBetweenObj(result.questionInstructions, 'children', result.children);\n      transferPropBetweenObj(result.questionCorrectFeedbacks, 'children', result.children);\n      transferPropBetweenObj(result.questionIncorrectFeedbacks, 'children', result.children);\n\n      transferExplanationBlocks(result.answers, result.explanationBlocks);\n\n      renameProperty(result, 'questionInstructions', 'instructions');\n      renameProperty(result, 'learningContents', 'hints');\n      renameProperty(result, 'questionCorrectFeedbacks', 'correctFeedback');\n      renameProperty(result, 'questionIncorrectFeedbacks', 'incorrectFeedback');\n      delete result.hasCorrectFeedback;\n      delete result.hasIncorrectFeedback;\n      delete result.hasContent;\n      return result;\n    }\n  }\n);\n\nexport default question;\n","import { schema } from 'normalizr';\nimport question from './question';\nimport { ProgressStatus } from 'constants/progressStatus';\n\nconst section = new schema.Entity(\n  'sections',\n  {\n    questions: [question]\n  },\n  {\n    processStrategy: (value: any) => ({\n      ...value,\n      score: 0,\n      status: ProgressStatus.IN_PROGRESS\n    })\n  }\n);\n\nexport default section;\n","import { schema } from 'normalizr';\n\nconst afterword = new schema.Entity(\n  'contents',\n  {},\n  {\n    processStrategy: (value: any, parent: any, key: string) => {\n      const result = {\n        ...value,\n        value: undefined\n      };\n      switch (key) {\n        case 'children':\n          result.url = `afterword/${value.id}.html`;\n          break;\n        case 'passedAfterwords':\n          result.url = `afterword/${value.id}.html`;\n          break;\n        case 'failedAfterwords':\n          result.url = `afterword/${value.id}.html`;\n          break;\n        default:\n          throw new Error('Content entity key is not supported');\n      }\n      return result;\n    }\n  }\n);\n\nafterword.define({\n  children: [afterword]\n});\n\nexport default afterword;\n","import { schema } from 'normalizr';\n\nconst introduction = new schema.Entity(\n  'contents',\n  {},\n  {\n    processStrategy: (value: any, parent: any, key: string) => {\n      const result = {\n        ...value,\n        value: undefined\n      };\n      switch (key) {\n        case 'children':\n          result.url = `introduction/${value.id}.html`;\n          break;\n        case 'introductions':\n          result.url = `introduction/${value.id}.html`;\n          break;\n        default:\n          throw new Error('Content entity key is not supported');\n      }\n      return result;\n    }\n  }\n);\n\nintroduction.define({\n  children: [introduction]\n});\n\nexport default introduction;\n","import { schema } from 'normalizr';\nimport section from './section';\nimport afterword from './afterword';\nimport introduction from './introductions';\nimport { ProgressStatus } from 'constants/progressStatus';\n\nconst course = new schema.Entity(\n  'course',\n  {\n    sections: [section],\n    introductions: [introduction],\n    passedAfterwords: [afterword],\n    failedAfterwords: [afterword]\n  },\n  {\n    processStrategy: value => ({\n      ...value,\n      score: 0,\n      status: ProgressStatus.IN_PROGRESS\n    })\n  }\n);\n\nexport default course;\n","import { normalize } from 'normalizr';\nimport questionTypes, { INFORMATION_CONTENT } from 'constants/questionTypes';\nimport courseSchema from '../schemas/course/course';\n\n/* eslint-disable import/prefer-default-export */\nexport default {\n  map: (data: any, showContentPages: boolean) => {\n    const normalized: any = normalize(filterCourseData(data, showContentPages), courseSchema);\n    const course: any = normalized.entities.course[normalized.result];\n    const { sections, questions, contents } = normalized.entities;\n\n    return {\n      course,\n      sections,\n      questions,\n      contents\n    };\n  }\n};\n\nfunction filterCourseData(data: any, showContentPages: boolean) {\n  data.sections = data.sections.filter((section: any) => {\n    section.questions = section.questions.filter((question: any) => {\n      question.attemptNumber = 0;\n      return questionTypes.includes(question.type);\n    });\n    if (!showContentPages) {\n      section.questions = section.questions.filter(\n        (question: any) => question.type !== INFORMATION_CONTENT\n      );\n    }\n    return section.questions.length > 0;\n  });\n\n  return data;\n}\n","export const shuffle = (obj: any) => {\n  let ctr = obj.length;\n  let temp;\n  let index;\n  while (ctr > 0) {\n    index = Math.floor(Math.random() * ctr);\n    ctr--;\n    temp = obj[ctr];\n    obj[ctr] = obj[index];\n    obj[index] = temp;\n  }\n  return obj;\n};\n\nexport default shuffle;\n","import {\n  SINGLE_CHOICE,\n  MULTIPLE_CHOICE,\n  STATEMENT_CHOICE,\n  SINGLE_CHOICE_IMAGE,\n  RANKING_TEXT,\n  DRAG_AND_DROP_TEXT,\n  TEXT_MATCHING\n} from 'constants/questionTypes';\nimport shuffle from 'lodash.shuffle';\nimport { objectToArray, arrayToObject } from 'utils/object';\nimport shuffleAnswerOptions from 'utils/questions';\n\nconst OPTION_ID_LENGTH = 6;\nconst OPTION_MAP_ORDER_KEY = 'id';\n\nconst truncate = (id: string, maxLength: number) =>\n  id.length > maxLength ? id.slice(0, maxLength) : id;\n\nconst shortenOptionIds = (options: any[]) =>\n  options.map((option: { id: string }) => truncate(option.id, OPTION_ID_LENGTH));\n\nconst mapOrder = (array: any[] = [], order: any[] = []) =>\n  [...array].sort((a, b) =>\n    order.indexOf(truncate(a[OPTION_MAP_ORDER_KEY], OPTION_ID_LENGTH)) >\n    order.indexOf(truncate(b[OPTION_MAP_ORDER_KEY], OPTION_ID_LENGTH))\n      ? 1\n      : -1\n  );\n\nexport const mapRandomizedOptionsOrder = (\n  questions: any = {},\n  randomizedOptionsArray: any[][] = []\n) =>\n  objectToArray(questions).map((question, index) => {\n    let questionWithRandomizedOptions;\n    switch (question.type) {\n      case DRAG_AND_DROP_TEXT:\n        questionWithRandomizedOptions = {\n          ...question,\n          ...{ randomizedOptions: mapOrder(question.dropspots, randomizedOptionsArray[index]) }\n        };\n        break;\n      case SINGLE_CHOICE:\n      case MULTIPLE_CHOICE:\n      case STATEMENT_CHOICE:\n      case SINGLE_CHOICE_IMAGE:\n      case TEXT_MATCHING:\n      case RANKING_TEXT:\n        questionWithRandomizedOptions = {\n          ...question,\n          ...{ randomizedOptions: mapOrder(question.answers, randomizedOptionsArray[index]) }\n        };\n        break;\n      default:\n        questionWithRandomizedOptions = { ...question };\n    }\n    return questionWithRandomizedOptions;\n  });\n\nexport const buildRandomizedOptions = (questions: any) =>\n  objectToArray(questions).reduce((randomizedOptionsArray, question) => {\n    switch (question.type) {\n      case DRAG_AND_DROP_TEXT:\n        randomizedOptionsArray.push(shuffle(shortenOptionIds([...question.dropspots])));\n        break;\n      case SINGLE_CHOICE:\n      case MULTIPLE_CHOICE:\n      case STATEMENT_CHOICE:\n      case SINGLE_CHOICE_IMAGE:\n      case TEXT_MATCHING:\n        randomizedOptionsArray.push(shuffle(shortenOptionIds([...question.answers])));\n        break;\n      case RANKING_TEXT:\n        randomizedOptionsArray.push(shuffleAnswerOptions(shortenOptionIds([...question.answers])));\n        break;\n      default:\n        randomizedOptionsArray.push([]);\n    }\n    return randomizedOptionsArray;\n  }, []);\n\nexport const buildQuestionWithRandomizedOptions = (\n  questions: any = {},\n  randomizedOptionsArray: any[][] = []\n) =>\n  arrayToObject(\n    mapRandomizedOptionsOrder(questions, randomizedOptionsArray).map(question => [\n      question.id,\n      { ...question }\n    ])\n  );\n","import courseMapper from 'core/mappers/course';\nimport { guidWithHyphens } from 'utils/object';\nimport * as questionActions from 'store/questions/actions';\nimport * as contentsActions from 'store/contents/actions';\nimport * as sectionActions from 'store/sections/actions';\nimport {\n  initializeXapi,\n  subscribeXapi,\n  unsubscribeXapi,\n  initializeScorm\n} from 'store/modules/actions';\nimport * as navigationActions from 'store/navigation/actions';\nimport { isXapiInitialized, shouldInitializeXapi } from 'store/modules/selectors';\nimport {\n  getAffectProgressSections,\n  getSections,\n  isSectionsPassed,\n  isSectionsFailed\n} from 'store/sections/selectors';\nimport { getValueFromUrl } from 'utils/window';\nimport {\n  getCourse,\n  getAttemptId,\n  hasBeenContinued,\n  isCourseAccessLimited,\n  getCourseAttempt,\n  getPreviewQuestionId,\n  getTimeSpent,\n  isAttemptSubmitted,\n  isInProgress,\n  getTimerProgressKey\n} from 'store/course/selectors';\nimport eventEmitter, { events } from 'core/events/eventEmitter';\nimport { getUser, isAnonymous } from 'store/user/selectors';\nimport {\n  getQuestions,\n  getQuestion,\n  getAffectProgressQuestions,\n  getQuestionSection,\n  isAllQuestionsFailed,\n  getCorrectlyAffectProgressAnsweredQuestionsCount,\n  isAllQuestionsTimedOut,\n  hasAnyQuestionOpened\n} from 'store/questions/selectors';\n\nimport sampleSize from 'lodash.samplesize';\nimport shuffle from 'utils/shuffle';\nimport progressStorage from 'core/progressStorage';\nimport { INDEX_PATH } from 'constants/navigation';\nimport { DEFAULT_QUESTION_POOL_ID_LENGTH } from 'constants/common';\nimport { getQuestionUrl } from 'utils/navigation';\nimport { ProgressStatus } from 'constants/progressStatus';\nimport { TimerStatus, PROGRESS_STORAGE_TIMER_UPDATE_INTERVAL } from 'constants/timer';\nimport * as courseTimerActions from 'store/timer/actions';\nimport { TimerState } from 'store/timer/types';\nimport {\n  buildRandomizedOptions,\n  buildQuestionWithRandomizedOptions\n} from 'core/dataProcessors/questionOptions';\nimport {\n  isShowContentPagesEnabled,\n  isReviewMode,\n  isPreviewMode,\n  isScormMode,\n  isOverallMasteryScore,\n  getMasteryScoreValue,\n  shouldSubmitAllQuestions,\n  isQuestionPoolEnabled,\n  getQuestionPoolSize,\n  isQuestionRandomizeEnabled,\n  isAnswersFromPreviousAttemptEnabled,\n  getTimerEnabled,\n  isAllQuestionsOnOnePage,\n  isRandomizeAnswersEnabled\n} from '../settings/selectors';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\nimport { arrayToObject } from '../../utils/object';\n\nconst buildQuestionPool = (questions: any[], questionPoolIds: string[]): any[] => {\n  let tempQuestion;\n  const sortedQuestions = [];\n  sortedQuestions.push(\n    ...questionPoolIds.map(questionPoolId => {\n      tempQuestion = questions.find(\n        question => question.id.slice(0, questionPoolId.length) === questionPoolId\n      );\n      if (tempQuestion === -1) {\n        throw new Error('Question not found');\n      }\n      tempQuestion.isPoolQuestion = true;\n      return tempQuestion;\n    })\n  );\n\n  sortedQuestions.push(\n    ...questions.filter(question => {\n      if (!questionPoolIds.includes(question.id.slice(0, questionPoolIds[0].length))) {\n        question.isPoolQuestion = false;\n        return question;\n      }\n      return false;\n    })\n  );\n\n  return sortedQuestions;\n};\n\nexport const loadPoolQuestions = (\n  questions: any[],\n  questionPoolIds: string[]\n): ThunkResult<Promise<void>> => async dispatch => {\n  let questionPool = [...buildQuestionPool(questions, questionPoolIds)];\n\n  questionPool = questionPool.map(question => [question.id, { ...question }]);\n  const questionPoolObjects = arrayToObject(questionPool);\n  dispatch(questionActions.questionsLoaded(questionPoolObjects));\n  dispatch(navigationActions.poolUrlReset(questionPoolObjects));\n};\n\nconst getShortenedIds = (questions: any[], idLength = DEFAULT_QUESTION_POOL_ID_LENGTH): any => {\n  const maxIdLength = questions[0]?.id.length;\n  let shortenedIds: string[] = [];\n\n  idLength = idLength > maxIdLength ? maxIdLength : idLength;\n  for (let i = idLength; i <= maxIdLength; i++) {\n    const uniqueShortenedIds = new Set(shortenedIds);\n    if (uniqueShortenedIds.size === questions.length) {\n      return shortenedIds;\n    }\n    shortenedIds = questions.map(question => question.id.slice(0, i));\n  }\n\n  return shortenedIds;\n};\n\nexport const clearPreviewQuestionId = (): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.CLEAR_PREVIEW_QUESTION_ID });\n};\n\nexport const markCourseAsPassed = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const affectProgressSections = getAffectProgressSections(getState());\n  const isCoursePassed =\n    getMasteryScoreValue(getState()) === 0 || affectProgressSections.length === 0;\n\n  if (isCoursePassed) {\n    affectProgressSections.forEach(section =>\n      dispatch(sectionActions.onSectionIsPassed(section.id))\n    );\n\n    await dispatch({\n      type: ActionTypes.COURSE_IS_PASSED,\n      payload: {\n        status: ProgressStatus.PASSED\n      }\n    });\n  }\n};\n\nexport const updateScorePerCourse = (): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  const affectProgressQuestions = getAffectProgressQuestions(getState());\n  const masteryScore = getMasteryScoreValue(getState());\n\n  const correctlyAnsweredQuestionsCount = getCorrectlyAffectProgressAnsweredQuestionsCount(\n    getState()\n  );\n\n  const score =\n    affectProgressQuestions.length > 0\n      ? Math.floor((correctlyAnsweredQuestionsCount * 100) / affectProgressQuestions.length)\n      : 100;\n\n  let status = ProgressStatus.IN_PROGRESS;\n\n  if (isAllQuestionsFailed(getState()) || isAllQuestionsTimedOut(getState())) {\n    status = ProgressStatus.FAILED;\n  }\n\n  if (score >= masteryScore) {\n    status = ProgressStatus.PASSED;\n  }\n\n  dispatch({\n    type: ActionTypes.COURSE_SCORE_UPDATED,\n    payload: {\n      score,\n      status\n    }\n  });\n};\n\nexport const updateScorePerSection = (): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  const sections = getAffectProgressSections(getState());\n  const totalScore = sections.reduce((sum, section) => sum + section.score, 0);\n  const score = sections.length > 0 ? Math.floor(totalScore / sections.length) : 100;\n  let status = ProgressStatus.IN_PROGRESS;\n\n  if (isSectionsFailed(getState())) {\n    status = ProgressStatus.FAILED;\n  }\n  if (isSectionsPassed(getState())) {\n    status = ProgressStatus.PASSED;\n  }\n\n  dispatch({\n    type: ActionTypes.COURSE_SCORE_UPDATED,\n    payload: {\n      score,\n      status\n    }\n  });\n};\n\nexport const makeSubmitAtOnce = (): ThunkResult<Promise<void>> => async dispatch => {\n  dispatch({\n    type: ActionTypes.COURSE_SUBMIT_AT_ONCE\n  });\n};\n\nexport const updateSubmitAtOnceAttemptNumber = (): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  const courseAttempt = getCourseAttempt(getState()) ? getCourseAttempt(getState()) + 1 : 1;\n  dispatch({\n    type: ActionTypes.COURSE_SUBMIT_AT_ONCE_LIMITED,\n    payload: {\n      courseAttempt\n    }\n  });\n  await eventEmitter.emit(events.COURSE_SUBMIT_AT_ONCE_LIMITED, courseAttempt);\n};\n\nexport const courseAttemptedSubmitAtOnce = (): ThunkResult<Promise<void>> => async dispatch => {\n  dispatch({\n    type: ActionTypes.COURSE_REATTEMPTED_SUBMIT_AT_ONCE\n  });\n};\n\nconst setTimeSpent = (value: number): ThunkResult<Promise<void>> => async dispatch => {\n  await dispatch({\n    type: ActionTypes.TIME_SPENT_UPDATED,\n    payload: {\n      timeSpent: {\n        accumulatedValueInMilliseconds: value,\n        incrementStartedAt: new Date()\n      }\n    }\n  });\n};\n\nconst getClickedId = (url: any) => {\n  const clickedId = url.split('/');\n  if (clickedId[clickedId.length - 1] === 'learning-objective') {\n    return clickedId.slice(-2, -1)[0];\n  }\n  return clickedId.slice(-1)[0];\n};\n\nexport const setTimerProgress = (\n  timerProgress: TimerState = { elapsed: 0, status: TimerStatus.NOT_STARTED }\n): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  if (timerProgress.status === TimerStatus.RESET) {\n    localStorage.setItem(getTimerProgressKey(getState()), '0');\n  }\n\n  const localStorageTimerProgress = localStorage.getItem(getTimerProgressKey(getState())) || '0';\n  const elapsedTime = timerProgress.elapsed || 0;\n  const elapsedTimeDelta = parseInt(localStorageTimerProgress, 10) - elapsedTime;\n\n  if (\n    elapsedTime > 0 ||\n    (elapsedTimeDelta > 0 && elapsedTimeDelta < PROGRESS_STORAGE_TIMER_UPDATE_INTERVAL) ||\n    hasAnyQuestionOpened(getState())\n  ) {\n    dispatch(\n      courseTimerActions.setTimerStatus(\n        timerProgress.status === TimerStatus.NOT_STARTED\n          ? TimerStatus.STARTED\n          : timerProgress.status\n      )\n    );\n    dispatch(\n      courseTimerActions.setTimerElapsed(\n        Math.max(timerProgress.elapsed, parseInt(localStorageTimerProgress, 10))\n      )\n    );\n    localStorage.setItem(\n      getTimerProgressKey(getState()),\n      `${Math.max(timerProgress.elapsed, parseInt(localStorageTimerProgress, 10))}`\n    );\n  } else if (timerProgress.status === TimerStatus.STARTED) {\n    dispatch(courseTimerActions.setTimerStatus(timerProgress.status));\n    dispatch(courseTimerActions.setTimerElapsed(timerProgress.elapsed));\n  }\n};\n\nexport const emitCourseProgressed = async (state: any) => {\n  const course = getCourse(state);\n  let courseStatus = course.status;\n  if (isAttemptSubmitted(state) && isInProgress(state) && shouldSubmitAllQuestions(state)) {\n    courseStatus = ProgressStatus.FAILED;\n  }\n\n  let eventToCall = events.COURSE_PROGRESSED;\n  if (shouldSubmitAllQuestions(state) && !isAttemptSubmitted(state)) {\n    eventToCall = events.SUBMIT_ONCE_COURSE_PROGRESSED;\n  }\n\n  return eventEmitter.emit(eventToCall, {\n    ...state,\n    course,\n    timeSpent: getTimeSpent(state),\n    xapiStatus: courseStatus\n  });\n};\n\nexport const updateScore = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const masteryScorePerCourse = isOverallMasteryScore(getState());\n\n  if (masteryScorePerCourse) {\n    dispatch(updateScorePerCourse());\n  } else {\n    const isQuestionPoolAllowed = isQuestionPoolEnabled(getState());\n    if (!isQuestionPoolAllowed) {\n      dispatch(updateScorePerSection());\n    }\n  }\n};\n\nexport const updateProgress = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  dispatch(updateScore());\n  emitCourseProgressed(getState());\n};\n\nexport const load = (data: any): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  dispatch({ type: ActionTypes.COURSE_DATA_LOADING_STARTED });\n  try {\n    const showContentPages = isShowContentPagesEnabled(getState());\n    const { course, sections, questions, contents } = courseMapper.map(data, showContentPages);\n\n    if (getValueFromUrl('questionId')) {\n      course.previewQuestionId = getValueFromUrl('questionId');\n    }\n    dispatch(questionActions.questionsLoaded(questions));\n    dispatch(sectionActions.sectionsLoaded(sections));\n    await dispatch(contentsActions.contentsLoaded(contents));\n    await dispatch({ type: ActionTypes.COURSE_DATA_LOADED, payload: course });\n    eventEmitter.emit(events.APP_INITIALIZED, {\n      state: getState(),\n      isScormMode: isScormMode(getState())\n    });\n  } catch (e) {\n    dispatch({ type: ActionTypes.COURSE_DATA_LOADING_FAILED, reason: e });\n    throw e;\n  }\n};\n\nexport const processPoolQuestions = (): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  const inProgressQuestionPool = progressStorage.getQuestionPool();\n  const questions = getQuestions(getState());\n  const questionPoolSize = getQuestionPoolSize(getState());\n  const nonSurveyQuestions = questions.filter(question => !question.isSurvey);\n  if (inProgressQuestionPool && inProgressQuestionPool.length > 0) {\n    await dispatch(loadPoolQuestions(questions, inProgressQuestionPool));\n  } else {\n    const randomQuestionsSubset = sampleSize(nonSurveyQuestions, questionPoolSize);\n    // shortening ids to save on the storage space(4Kb) for suspend_data in scorm enabled lms\n    const questionPoolIds = getShortenedIds(randomQuestionsSubset);\n    await dispatch(loadPoolQuestions(questions, questionPoolIds));\n    await eventEmitter.emit(events.COURSE_QUESTION_POOL_SELECTED, {\n      questionPoolIds,\n      state: getState()\n    });\n  }\n};\n\nexport const loadAnswers = (showPrevAnswer: boolean): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  const questions = getQuestions(getState());\n  const answers = progressStorage.getAnswers(questions);\n  const sectionIds = new Set();\n  for (const { id, response, attempt } of answers) {\n    const question = getQuestion(getState(), id);\n    sectionIds.add(question.sectionId);\n    dispatch(questionActions.restoreProgress(id, response, attempt, showPrevAnswer));\n  }\n\n  if (getTimerEnabled(getState())) {\n    await dispatch(setTimerProgress(progressStorage.timer));\n  }\n\n  if (!isQuestionPoolEnabled(getState())) {\n    for (const sectionId of sectionIds) {\n      dispatch(sectionActions.updateSection(sectionId as string));\n    }\n  }\n  await dispatch(updateScore());\n};\n\nexport const processRandomizeAnswers = (): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  const storedRandomizedAnswersList = progressStorage.getRandomizeAnswers();\n  const questions = getQuestions(getState());\n  if (storedRandomizedAnswersList?.length > 0) {\n    dispatch(\n      questionActions.questionsLoaded(\n        buildQuestionWithRandomizedOptions(getQuestions(getState()), storedRandomizedAnswersList)\n      )\n    );\n  } else {\n    const randomizedOptionsList = buildRandomizedOptions(questions);\n    dispatch(\n      questionActions.questionsLoaded(\n        buildQuestionWithRandomizedOptions(getQuestions(getState()), randomizedOptionsList)\n      )\n    );\n    await eventEmitter.emit(events.COURSE_RANDOMIZED_OPTIONS_SAVED, {\n      randomizedOptionsList,\n      state: getState()\n    });\n  }\n  dispatch({\n    type: ActionTypes.COURSE_RANDOMIZED_OPTIONS_LOADED\n  });\n};\n\nexport const setCourseAttempt = (attempt: number): ThunkResult<Promise<void>> => async dispatch => {\n  dispatch({\n    type: ActionTypes.COURSE_SUBMIT_AT_ONCE_LIMITED,\n    payload: {\n      courseAttempt: attempt\n    }\n  });\n};\n\nexport const setCourseAttemptOnTimeOut = (): ThunkResult<Promise<void>> => async dispatch => {\n  try {\n    await progressStorage.restoreProgress();\n    if (progressStorage?.courseAttemptNumber) {\n      dispatch(setCourseAttempt(progressStorage.courseAttemptNumber));\n    }\n  } catch (e) {\n    console.error(e);\n  }\n};\n\nexport const restoreProgress = (): ThunkResult<Promise<boolean>> => async (\n  dispatch,\n  getState\n): Promise<boolean> => {\n  try {\n    const isProgressRestored = await progressStorage.restoreProgress();\n    dispatch({ type: ActionTypes.COURSE_PROGRESS_RESTORE_FETCHED });\n\n    const isQuestionPoolAllowed = isQuestionPoolEnabled(getState());\n\n    if (isQuestionPoolAllowed) {\n      await dispatch(processPoolQuestions());\n    }\n\n    const randomizeAnswersEnabled = isRandomizeAnswersEnabled(getState());\n\n    if (randomizeAnswersEnabled) {\n      await dispatch(processRandomizeAnswers());\n    }\n\n    if (!isProgressRestored) {\n      return false;\n    }\n\n    const isSubmitAllAtOnce = shouldSubmitAllQuestions(getState());\n    const isCourseOnOnePage = isAllQuestionsOnOnePage(getState());\n    await dispatch(loadAnswers(false));\n\n    if (isSubmitAllAtOnce) {\n      const { allQuestionsSubmitted } = progressStorage;\n      const { courseAttemptNumber } = progressStorage;\n      await dispatch(setCourseAttempt(courseAttemptNumber));\n\n      if (allQuestionsSubmitted) {\n        await dispatch(makeSubmitAtOnce());\n      }\n    }\n\n    if (progressStorage.timeSpent) {\n      await dispatch(setTimeSpent(progressStorage.timeSpent));\n    }\n\n    if (isCourseOnOnePage) {\n      await dispatch(\n        navigationActions.updateElementIdInViewPort(getClickedId(progressStorage.url))\n      );\n    }\n\n    dispatch({\n      type: ActionTypes.COURSE_PROGRESS_RESTORED,\n      payload: { attemptId: progressStorage.attemptId }\n    });\n    return true;\n  } catch (e) {\n    dispatch({ type: ActionTypes.COURSE_PROGRESS_RESTORE_FAILED, reason: e });\n    return false;\n  }\n};\n\nexport const onCourseLaunched = (attemptId?: string): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.COURSE_LAUNCHED,\n    payload: { attemptId }\n  });\n  eventEmitter.emit(events.COURSE_LAUNCHED, attemptId);\n};\n\nexport const onCourseStarted = (): ThunkResult<Promise<void>> => async dispatch => {\n  await dispatch({\n    type: ActionTypes.COURSE_STARTED\n  });\n\n  await dispatch(setTimeSpent(0));\n  await eventEmitter.emit(events.COURSE_STARTED);\n};\n\nconst loadScormMode = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  if (isScormMode(getState())) {\n    await dispatch(initializeScorm());\n    await progressStorage.checkScormNonAsciiSupport();\n  } else {\n    if (isAnonymous(getState())) {\n      await eventEmitter.emit(events.APP_INITIALIZED, {\n        state: getState(),\n        isScormMode: isScormMode(getState())\n      });\n    }\n    await eventEmitter.emit(events.USER_AUTHENTICATED, getUser(getState()));\n  }\n};\n\nconst loadPreviewMode = (): ThunkResult<Promise<string>> => async (dispatch, getState) => {\n  const isQuestionPoolAllowed = isQuestionPoolEnabled(getState());\n  if (isQuestionPoolAllowed) {\n    await dispatch(processPoolQuestions());\n  }\n  dispatch(onCourseLaunched());\n  dispatch(onCourseStarted());\n  const previewQuestionId = getPreviewQuestionId(getState());\n  const randomizeAnswersEnabled = isRandomizeAnswersEnabled(getState());\n  if (randomizeAnswersEnabled) {\n    await dispatch(processRandomizeAnswers());\n  }\n  if (previewQuestionId) {\n    const previewSectionId = getQuestionSection(getState(), previewQuestionId);\n    const questionUrl = getQuestionUrl(previewSectionId, previewQuestionId);\n    dispatch(clearPreviewQuestionId());\n    return questionUrl;\n  }\n  return INDEX_PATH;\n};\n\nconst loadPreviouslyAnsweredQuestions = (\n  restoreStatus: boolean\n): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  if (\n    !restoreStatus &&\n    isAnswersFromPreviousAttemptEnabled(getState()) &&\n    shouldSubmitAllQuestions(getState())\n  ) {\n    const isAnswersInProgress = await progressStorage.restoreAnswers();\n    if (isAnswersInProgress) {\n      await dispatch(loadAnswers(true));\n    }\n  }\n};\n\nexport const isCourseEmpty = async (state: any) => {\n  const isQuestionPoolAllowed = isQuestionPoolEnabled(state);\n  const questionPoolSize = getQuestionPoolSize(state);\n\n  return isQuestionPoolAllowed && questionPoolSize <= 0;\n};\n\nexport const launch = (): ThunkResult<Promise<string>> => async (dispatch, getState) => {\n  if (isCourseAccessLimited(getState())) {\n    dispatch(onCourseLaunched());\n    return INDEX_PATH;\n  }\n\n  await dispatch(markCourseAsPassed());\n\n  if (isPreviewMode(getState()) || isReviewMode(getState())) {\n    return dispatch(loadPreviewMode());\n  }\n\n  await dispatch(loadScormMode());\n\n  const restoreStatus = await dispatch(restoreProgress());\n\n  let attemptId = getAttemptId(getState());\n  if (!attemptId) {\n    attemptId = guidWithHyphens();\n  }\n\n  // TODO: events\n  dispatch(onCourseLaunched(attemptId));\n\n  const courseEmpty = await isCourseEmpty(getState());\n\n  if (!restoreStatus && !courseEmpty) {\n    await eventEmitter.emit(events.COURSE_ATTEMPT_STARTED, getState());\n  }\n\n  dispatch(loadPreviouslyAnsweredQuestions(restoreStatus));\n\n  const state = getState();\n\n  if (shouldInitializeXapi(state) && !courseEmpty) {\n    await dispatch(initializeXapi());\n    await dispatch(subscribeXapi());\n  }\n\n  if (hasBeenContinued(getState()) && !courseEmpty) {\n    return progressStorage.url || INDEX_PATH;\n  }\n\n  await dispatch(onCourseStarted());\n\n  if (\n    (getMasteryScoreValue(getState()) === 0 ||\n      getAffectProgressSections(getState()).length === 0) &&\n    !courseEmpty\n  ) {\n    await emitCourseProgressed(getState());\n  }\n\n  return INDEX_PATH;\n};\n\nexport const cleanup = (isLogout: boolean): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  dispatch({\n    type: ActionTypes.COURSE_CLEANUP\n  });\n\n  dispatch(courseTimerActions.resetTimer());\n  localStorage.setItem(getTimerProgressKey(getState()), '0');\n\n  const sections = getSections(getState());\n  sections.forEach(section => {\n    dispatch(sectionActions.cleanup(section.id));\n  });\n  const questions = getQuestions(getState());\n\n  if (\n    shouldSubmitAllQuestions(getState()) &&\n    isAnswersFromPreviousAttemptEnabled(getState()) &&\n    !isLogout\n  ) {\n    questions.forEach(question => {\n      dispatch(questionActions.cleanupKeepAnswers(question.id));\n    });\n  } else {\n    questions.forEach(question => {\n      dispatch(questionActions.cleanup(question.id));\n    });\n  }\n\n  if (isXapiInitialized(getState())) {\n    await dispatch(unsubscribeXapi());\n  }\n};\n\nexport const finished = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  dispatch({\n    type: ActionTypes.COURSE_FINISHED\n  });\n  eventEmitter.emit(events.COURSE_FINISHED, getCourse(getState()));\n};\n\nexport const finalized = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  dispatch({\n    type: ActionTypes.COURSE_FINALIZED\n  });\n  eventEmitter.emit(events.COURSE_FINALIZED, getCourse(getState()));\n};\n\nexport const startNewAttempt = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const currentAttemptCount = getCourseAttempt(getState());\n  await dispatch(cleanup(false));\n  await progressStorage.removeProgress();\n  if (shouldSubmitAllQuestions(getState())) {\n    await dispatch(courseAttemptedSubmitAtOnce());\n    await dispatch(setCourseAttempt(currentAttemptCount));\n  }\n\n  if (isQuestionRandomizeEnabled(getState())) {\n    let inProgressQuestionPool = progressStorage.getQuestionPool();\n    if (inProgressQuestionPool && inProgressQuestionPool.length > 0) {\n      inProgressQuestionPool = shuffle(inProgressQuestionPool);\n      await eventEmitter.emit(events.COURSE_QUESTION_POOL_SELECTED, {\n        questionPoolIds: inProgressQuestionPool,\n        state: getState()\n      });\n    }\n  }\n  await dispatch(launch());\n};\n\nexport const certificateDownloaded = (\n  isCertificateDownloaded: boolean\n): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.CERTIFICATE_DOWNLOADED,\n    payload: { isCertificateDownloaded }\n  });\n};\n\nexport const evaluate = (data: { score: number; response: any }) => () => {\n  const { score, response } = data;\n  eventEmitter.emit(events.COURSE_EVALUATED, {\n    score,\n    response\n  });\n};\n","import eventEmitter, { events } from 'core/events/eventEmitter';\nimport fetch from 'fetch-retry';\nimport originalFetch from 'isomorphic-fetch';\n\nexport const RETRY_DELAY_MILLISECONDS = 3000;\ntype RequestData = { [key: string]: any };\nlet lastRequestSuccess = true;\nconst defaultCredentials = 'same-origin';\nconst defaultRetryOptions = {\n  retryDelay: RETRY_DELAY_MILLISECONDS,\n  retryOn(attempt: number, error: any, response: any) {\n    if (error !== null || response.status >= 500) {\n      lastRequestSuccess && eventEmitter.emit(events.APP_OFFLINE_OR_SERVER_ERROR);\n      lastRequestSuccess = false;\n      return true;\n    }\n\n    !lastRequestSuccess && eventEmitter.emit(events.APP_ONLINE);\n    lastRequestSuccess = true;\n    return false;\n  }\n};\n\nconst fetchRetry = fetch(originalFetch, defaultRetryOptions);\n\nconst getRequestOptions = (requestOptions: any, retryOptions: any) => ({\n  ...retryOptions,\n  ...requestOptions\n});\n\nexport class Requester {\n  public async get(\n    url: string,\n    {\n      headers,\n      cacheBuster,\n      credentials = defaultCredentials,\n      mode,\n      query,\n      retryOptions\n    }: RequestData\n  ) {\n    const queryString = this._buildQueryString(query, cacheBuster);\n    const requestOptions = {\n      method: 'GET',\n      headers: this._buildHeaders(headers, cacheBuster),\n      credentials,\n      mode\n    };\n\n    return fetchRetry(url + queryString, getRequestOptions(requestOptions, retryOptions));\n  }\n\n  public async post(\n    url: string,\n    {\n      headers,\n      cacheBuster,\n      credentials = defaultCredentials,\n      data,\n      retryOptions,\n      referrerPolicy\n    }: RequestData\n  ) {\n    const body = JSON.stringify(data);\n\n    if ('Content-Type' in headers) {\n      headers['Content-Length'] = body.length;\n    }\n\n    const requestOptions = {\n      method: 'POST',\n      headers: this._buildHeaders(headers, cacheBuster),\n      body,\n      credentials,\n      referrerPolicy\n    };\n\n    return fetchRetry(url, getRequestOptions(requestOptions, retryOptions));\n  }\n\n  public async put(\n    url: string,\n    {\n      headers,\n      cacheBuster,\n      credentials = defaultCredentials,\n      data,\n      query,\n      retryOptions\n    }: RequestData\n  ) {\n    const queryString = this._buildQueryString(query, cacheBuster);\n    const body = JSON.stringify(data);\n    if ('Content-Type' in headers) {\n      headers['Content-Length'] = body.length;\n    }\n\n    const requestOptions = {\n      method: 'PUT',\n      headers: this._buildHeaders(headers, cacheBuster),\n      body,\n      credentials\n    };\n\n    return fetchRetry(url + queryString, getRequestOptions(requestOptions, retryOptions));\n  }\n\n  private _buildQueryString(query: any, cacheBuster: any) {\n    if (!query) {\n      query = {};\n    }\n    let queryString = '';\n\n    query.v = cacheBuster || +new Date();\n    for (let key of Object.keys(query)) {\n      queryString += `&${encodeURIComponent(key)}=${encodeURIComponent(query[key])}`;\n    }\n    if (queryString) {\n      queryString = queryString.replace('&', '?');\n    }\n\n    return queryString;\n  }\n\n  private _buildHeaders(headers: { [key: string]: any } = {}, cacheBuster = '') {\n    const _headers = Object.assign({}, headers);\n    const CACHE_EXPIRATION_DATE_IN_SECONDS = 2678400;\n    if (cacheBuster) {\n      _headers['Cache-Control'] = 'public';\n      _headers.Pragma = 'public';\n      _headers.Expires = CACHE_EXPIRATION_DATE_IN_SECONDS;\n    } else {\n      _headers['Cache-Control'] = 'no-cache';\n      _headers.Pragma = 'no-cache';\n      _headers.Expires = 0;\n    }\n\n    return _headers;\n  }\n}\n\nexport default new Requester();\n","export type SectionsState = {\n  [key: string]: {\n    [key: string]: any;\n  };\n};\n\nexport enum ActionTypes {\n  SECTIONS_LOADED = 'SECTIONS_LOADED',\n  SECTION_SCORE_UPDATED = 'SECTION_SCORE_UPDATED',\n  SECTION_IS_PASSED = 'SECTION_PASSED',\n  SECTION_ANSWERED = 'SECTION_ANSWERED',\n  SECTION_ANSWERED_SCORE = 'SECTION_ANSWERED_SCORE'\n}\n\ntype SectionScoreUpdated = {\n  [key: string]: any;\n  type: ActionTypes.SECTION_SCORE_UPDATED;\n  payload: {\n    id: string;\n    score: number;\n    status: number;\n  };\n};\n\ntype SectionPassed = {\n  [key: string]: any;\n  type: ActionTypes.SECTION_IS_PASSED;\n  payload: {\n    id: string;\n    status: number;\n  };\n};\n\ntype SectionAnswered = {\n  [key: string]: any;\n  type: ActionTypes.SECTION_ANSWERED;\n  payload: {\n    id: string;\n    isSectionAnswered: boolean;\n  };\n};\n\ntype SectionAnsweredProgress = {\n  [key: string]: any;\n  type: ActionTypes.SECTION_ANSWERED_SCORE;\n  payload: {\n    id: string;\n    sectionProgress: number;\n  };\n};\n\ntype SectionLoaded = {\n  type: ActionTypes.SECTIONS_LOADED;\n  payload: {\n    [sections: string]: any;\n  };\n};\n\nexport type SectionsActionTypes =\n  | SectionLoaded\n  | SectionPassed\n  | SectionScoreUpdated\n  | SectionAnsweredProgress\n  | SectionAnswered;\n","/* eslint-disable no-useless-escape */\n\nexport const toCamelCase = (value: string) =>\n  value.toLowerCase().replace(/(\\-\\w)/g, matches => matches[1].toUpperCase());\n\nexport const normalizeColorName = (color: any) => toCamelCase(color.replace('@', ''));\n\nexport const getShortString = (str: any, countOfSymbols = 0) => {\n  const eos = '...';\n  if (typeof str !== 'string') {\n    return str;\n  }\n  let strLength = str.length;\n  if (strLength <= countOfSymbols) {\n    return str;\n  }\n  return `${str.substr(0, countOfSymbols)}${eos}`;\n};\n\nexport const getSizeString = (size: number) => {\n  var sizeStr = '';\n  if (!size || size < 1024) {\n    return '0 Kb';\n  }\n  if (size < 1024 * 1024) {\n    sizeStr = (size / 1024).toFixed(2);\n    return `${sizeStr} Kb`;\n  }\n  sizeStr = (size / (1024 * 1024)).toFixed(2);\n  return `${sizeStr} MB`;\n};\n\nexport const isMeaningful = (value: string) => !!(value && value.trim().length > 0);\n\nexport const isUUID = (id: string) => {\n  const regex = new RegExp(\n    /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i\n  );\n  return regex.test(id);\n};\n\n// temporary for learnServiceUrl courseId`s, delete after migration\nexport const IdToUuid = (id: string) => {\n  if (isUUID(id)) {\n    return id;\n  }\n  return `${id.slice(0, 8)}-${id.slice(8, 12)}-${id.slice(12, 16)}-${id.slice(16, 20)}-${id.slice(\n    20,\n    32\n  )}`;\n};\n\nexport const getTextContent = (value: string) => {\n  const textElement = document.createElement('div');\n  textElement.innerHTML = value;\n  return textElement.textContent;\n};\n\nexport const hasNonAscii = (value: string) => [...value].some(char => char.charCodeAt(0) > 127);\n\nexport const decodeJson = (value: string) =>\n  value && !/[{}]/gm.test(value) ? decodeURIComponent(value) : value;\n","import { isAuthorized } from 'store/user/selectors';\nimport { isResultsTrackingEnabled, isNpsEnabled } from 'store/settings/selectors';\nimport { RootAppState } from '../types';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const isXapiInitialized = (state: RootAppState) => state.modules.xapi.isInitialized;\n\nexport const shouldInitializeXapi = (state: RootAppState) =>\n  isAuthorized(state) && (isResultsTrackingEnabled(state) || isNpsEnabled(state));\n\nexport const isReviewEnabled = (state: RootAppState) => state.modules.review.isReviewModeEnabled;\n\nexport const getReviewApiUrl = (state: RootAppState) => state.modules.review.reviewApiUrl;\n\nexport const isLtiInitialized = (state: RootAppState) => state.modules.lti.isInitialized;\n","import requester from './requester';\n\nclass ResourceLoader {\n  expires: any;\n\n  constructor() {\n    this.expires = +new Date();\n  }\n\n  set cacheBuster(cacheBuster) {\n    if (!cacheBuster) {\n      return;\n    }\n    this.expires = +Date.parse(cacheBuster);\n  }\n\n  get cacheBuster() {\n    return this.expires;\n  }\n\n  getLocalResource(relativeUrl: string) {\n    let { expires } = this;\n    return requester.get(`${relativeUrl}`, {\n      cacheBuster: expires\n    });\n  }\n\n  async getLocalJsonResource(relativeUrl: string) {\n    const response = await this.getLocalResource(relativeUrl);\n    const responseText = await response.text(); // fix for preview\n    if (!responseText || responseText.length === 0) {\n      return {};\n    }\n\n    return JSON.parse(responseText);\n  }\n}\n\nexport default new ResourceLoader();\n","import { RootAppState } from 'store/types';\n\nexport const getTimerStatus = (state: RootAppState) => state.timer?.status;\n\nexport const getTimerElapsed = (state: RootAppState) => state.timer?.elapsed;\n","export const POPUP_ID_IMAGE_PREVIEW = 'image-preview';\nexport const POPUP_ID_CLOSE_COURSE = 'close-course';\nexport const POPUP_ID_NPS_POPUP = 'nps-popup';\nexport const POPUP_ID_CONTINUE_LATER = 'continue-later';\nexport const POPUP_ID_START_NEW_ATTEMPT = 'start-new-attempt';\nexport const POPUP_ID_CONTINUE_LATER_IN_SCORM = 'continue-later-in-scorm';\nexport const POPUP_ID_CLOSE_RESOURCE = 'close-resource-popup';\nexport const POPUP_ID_START_OVER = 'start-over';\nexport const POPUP_ID_TIMED_OUT = 'timed-out';\n","export type AppState = {\n  isLoading: boolean;\n  isLoaded: boolean;\n  isLoadingFailed: boolean;\n  isLowResolution: boolean;\n  isOffline: boolean;\n};\n\nexport enum ActionTypes {\n  APP_LOADED = 'APP_LOADED',\n  APP_LOADING_FAILED = 'APP_LOADING_FAILED',\n  APP_RESOLUTION_CHANGED = 'APP_RESOLUTION_CHANGED',\n  APP_OFFLINE_OR_SERVER_ERROR = 'APP_OFFLINE_OR_SERVER_ERROR',\n  APP_ONLINE = 'APP_ONLINE'\n}\n\ntype AppLoadedAction = {\n  type: ActionTypes.APP_LOADED;\n  payload?: { [key: string]: any };\n};\n\ntype AppResolutionChangedAction = {\n  type: ActionTypes.APP_RESOLUTION_CHANGED;\n  payload: {\n    isLowResolution: boolean;\n  };\n};\n\ntype AppLoadingFailed = {\n  type: ActionTypes.APP_LOADING_FAILED;\n  reason: any;\n  payload?: { [key: string]: any };\n};\n\ntype AppOfflineOrServerError = {\n  type: ActionTypes.APP_OFFLINE_OR_SERVER_ERROR;\n  payload?: {\n    isOffline: boolean;\n  };\n};\n\ntype AppOnline = {\n  type: ActionTypes.APP_ONLINE;\n  payload?: {\n    isOffline: boolean;\n  };\n};\n\nexport type AppActionTypes =\n  | AppLoadedAction\n  | AppResolutionChangedAction\n  | AppLoadingFailed\n  | AppOfflineOrServerError\n  | AppOnline;\n","import styled, { createGlobalStyle, css } from 'styled-components';\nimport media from 'components/mixins/media';\nimport { headerBackground } from 'components/mixins/backgrounds';\nimport { transparentize } from 'utils/color';\n\ntype LayoutBaseStylesProps = {\n  shouldEnableHyphenation: boolean;\n};\n\nexport const LayoutBaseStyles = createGlobalStyle<LayoutBaseStylesProps>`\n  * {\n    hyphens: ${props => (props.shouldEnableHyphenation ? 'auto' : 'none')};\n  }\n`;\n\nexport const fullSizeAbsoluteBlock = css`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const LayoutContainer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  z-index: 10;\n  ${media.small`\n    position: fixed;\n    width: 100vw;\n    height: 100%;\n  `};\n\n  & > .reviewable-container {\n    display: flex;\n  }\n`;\n\ntype BackgroundContainerProps = {\n  background: any;\n};\nexport const BackgroundContainer = styled.div<BackgroundContainerProps>`\n  position: relative;\n  flex: 0 0 50%;\n  height: 100vh;\n  ${props => headerBackground(props.background)};\n  ${media.tablet`\n    flex: 1 1 100%;\n  `};\n`;\n\nexport const PageSidebarChild = styled.div.attrs({\n  'data-sidebar-child': true\n})`\n  ${fullSizeAbsoluteBlock};\n  ${media.tablet`\n    position: relative;\n    width: 100%;\n    height: auto;\n  `};\n`;\n\nexport const PageContentChild = styled.div.attrs({\n  'data-content-child': true\n})`\n  ${fullSizeAbsoluteBlock};\n  ${media.tablet`\n    position: relative;\n    width: 100%;\n    height: auto;\n  `};\n`;\n\nexport const PageContainer = styled.div`\n  ${fullSizeAbsoluteBlock};\n  overflow: hidden;\n`;\n\nexport const PageSidebarContainer = styled.aside.attrs({ 'data-sidebar': true })``;\n\nexport const PageContentContainer = styled.div.attrs({\n  'data-content': true\n})``;\n\ntype BasicStylesSidebarProps = {\n  background?: any;\n};\nexport const BasicStylesSidebar = styled.aside.attrs({ 'data-sidebar': true })<\n  BasicStylesSidebarProps\n>`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 50%;\n  height: 100%;\n  overflow-y: auto;\n  background-color: ${props =>\n    props.background.header.coverOverlay.enabled\n      ? transparentize(\n          props.background.header.coverOverlay.color,\n          props.background.header.coverOverlay.opacity\n        )\n      : null};\n`;\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { bodyBackground } from 'components/mixins/backgrounds';\nimport { Layout, BasicStyledSidebar, PageContent } from 'components/shell/Layout';\nimport { PageContentChild } from 'components/shell/Layout/Layout.styled'\nimport { centerAbsoluteElement } from 'components/mixins/placement';\nimport Icon from 'components/common/Icon';\nimport { getCustomScrollbars } from 'components/mixins/customScrollbars';\nimport { transparentize } from 'utils/color';\n\nexport const PageSidebar = styled(BasicStyledSidebar)``;\n\nexport const LayoutWrapper = styled(Layout)``;\n\ntype PageContentWrapperProps = {\n  background: any\n}\nexport const PageContentWrapper = styled(PageContent)<PageContentWrapperProps>`\n  position: absolute;\n  top: 0;\n  left: 50%;\n  height: 100%;\n  width: 50%;\n  z-index: 100;\n  overflow-y: auto;\n  ${getCustomScrollbars()}\n  ${props => bodyBackground(props.background.body)};\n  ${media.tablet`\n    position: relative;\n    width: 100%;\n    left: 0;\n  `}\n  ${PageContentChild} {\n    ${media.tablet`\n      height: 100%;\n  `}\n  }\n`;\n\nexport const PageSection = styled.section`\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n`;\n\ntype LogoProps = {\n  altText: string;\n  logoUrl: string;\n}\nexport const LogoSidebar = styled.img.attrs((props: LogoProps) => ({\n  alt: props.altText,\n  src: props.logoUrl\n})) <LogoProps>`\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n  margin: 0 auto;\n`;\n\nexport const LogoSidebarWrapper = styled.div`\n  width: 360px;\n  height: 200px;\n  position: absolute;\n  ${centerAbsoluteElement};\n`;\n\nexport const ErrorContainer = styled.div`\n  width: 440px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid ${props => transparentize(props.theme.colors.textColor, 0.1)};\n  ${media.mobile`\n    & {\n      width: 100%;\n      padding: 0 20px;\n    }\n  `};\n`;\n\nexport const ErrorIcon = styled(Icon)`\n  opacity: 0.5;\n`;\n\nexport const ErrorTitle = styled.h1`\n  word-wrap: break-word;\n  font-size: 32px;\n  text-align: center;\n  line-height: 1.4;\n  margin: 40px 0 16px;\n  width: 100%;\n  font-family: ${props => props.theme.fonts.mainFont.fontFamily};\n  color: ${props => props.theme.colors.textColor};\n  ${media.medium`\n    & {\n      font-size: 28px;\n    }\n  `};\n  ${media.mobile`\n    & {\n      font-size: 22px;\n    }\n  `};\n`;\n\nexport const ErrorDescription = styled.h3`\n  width: 100%;\n  opacity: 0.7;\n  font-size: 16px;\n  line-height: 1.4;\n  text-align: center;\n  margin-bottom: 82px;\n  font-family: ${props => props.theme.fonts.mainFont.fontFamily};\n  color: ${props => props.theme.colors.textColor};\n  ${media.medium`\n    & {\n      font-size: 14px;\n    }\n  `};\n  ${media.mobile`\n    & {\n      font-size: 12px;\n    }\n  `};\n`;\n\n","import React, { Fragment, PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { localize } from 'core/localization';\nimport { ThemeProvider } from 'styled-components';\nimport {\n  isSettingsLoadingFailed,\n  getBackground,\n  getAlternativeLogo,\n  getColors,\n  getFonts,\n  isTrackingEnabled,\n  isScormMode,\n  isResource\n} from 'store/settings/selectors';\nimport { getPopupVisibility } from 'store/popup/selectors';\nimport { isAuthenticated } from 'store/user/selectors';\nimport { isReviewEnabled } from 'store/modules/selectors';\nimport { isCourseAccessLimited } from 'store/course/selectors';\nimport {\n  LayoutWrapper,\n  PageSidebar,\n  PageContentWrapper,\n  LogoSidebar,\n  LogoSidebarWrapper,\n  PageSection,\n  ErrorContainer,\n  ErrorIcon,\n  ErrorTitle,\n  ErrorDescription\n} from './SomethingWentWrongPage.styled';\nimport { RootAppState } from 'store/types';\nimport {\n  DEFAULT_SOMETHING_WENT_WRONG_TITLE_TEXT,\n  DEFAULT_LOGO_TEXT,\n  DEFAULT_PLEASE_TRY_TY_REFRESH_THE_PAGE_TEXT\n} from 'constants/defaults';\n\ntype SomethingWentWrongPageProps = {\n  settingsLoadingFailed: boolean;\n  background: { [key: string]: any };\n  alternativeLogoUrl: string;\n  colors: any;\n  fonts: any;\n  isUserAuthenticated: boolean;\n  popupExpanded: boolean;\n  trackingEnabled: boolean;\n  isAccessLimited: boolean;\n  isScorm: boolean;\n  reviewMode: boolean;\n  hasUnhandledError: boolean;\n  isResourceType: boolean;\n};\n\nexport class SomethingWentWrongPage extends PureComponent<SomethingWentWrongPageProps, {}> {\n  componentDidMount() {\n    document.title = !this.props.settingsLoadingFailed\n      ? localize('[something went wrong title]')\n      : DEFAULT_SOMETHING_WENT_WRONG_TITLE_TEXT;\n  }\n\n  render() {\n    const { settingsLoadingFailed, background, alternativeLogoUrl, colors, fonts } = this.props;\n    return (\n      <Fragment>\n        <ThemeProvider theme={{ colors, fonts }}>\n          <LayoutWrapper {...this.props}>\n            <PageSidebar background={background}>\n              <LogoSidebarWrapper>\n                <LogoSidebar\n                  altText={!settingsLoadingFailed ? localize('[logo]') : DEFAULT_LOGO_TEXT}\n                  logoUrl={alternativeLogoUrl}\n                />\n              </LogoSidebarWrapper>\n            </PageSidebar>\n            <PageContentWrapper background={background}>\n              <PageSection>\n                <ErrorContainer>\n                  <ErrorIcon name=\"attention\" size={64} color=\"textColor\" />\n                  <ErrorTitle>\n                    {!settingsLoadingFailed\n                      ? localize('[something went wrong title]')\n                      : DEFAULT_SOMETHING_WENT_WRONG_TITLE_TEXT}\n                  </ErrorTitle>\n                  <ErrorDescription>\n                    {!settingsLoadingFailed\n                      ? localize('[please try to refresh the page]')\n                      : DEFAULT_PLEASE_TRY_TY_REFRESH_THE_PAGE_TEXT}\n                  </ErrorDescription>\n                </ErrorContainer>\n              </PageSection>\n            </PageContentWrapper>\n          </LayoutWrapper>\n        </ThemeProvider>\n      </Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    settingsLoadingFailed: isSettingsLoadingFailed(state),\n    background: getBackground(state),\n    alternativeLogoUrl: getAlternativeLogo(state),\n    colors: getColors(state),\n    fonts: getFonts(state),\n    popupExpanded: getPopupVisibility(state),\n    isUserAuthenticated: isAuthenticated(state),\n    trackingEnabled: isTrackingEnabled(state),\n    isAccessLimited: isCourseAccessLimited(state),\n    isScorm: isScormMode(state),\n    reviewMode: isReviewEnabled(state),\n    isResourceType: isResource(state)\n  };\n}\n\nexport default connect(mapStateToProps)(SomethingWentWrongPage);\n","import * as React from 'react';\n\ntype Props = {\n  location: { [key: string]: any }\n}\n\nfunction withScrollOnRedirect<T>(WrappedComponent: React.ComponentType<T>): any {\n  return class ScrollToTop extends React.Component<Props & T, {}> {\n    componentDidUpdate(prevProps: Props & T) {\n      if (this.props.location !== prevProps.location) {\n        window.scrollTo(0, 0);\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n\n    static propTypes: Props;\n  };\n}\n\nexport default withScrollOnRedirect;\n","import styled, { css } from 'styled-components';\nimport media from 'components/mixins/media';\nimport { ShapedIcon, Text } from 'components/common';\nimport { transparentize } from 'utils/color';\n\ntype IconProps = {\n  ariaLabel?: string;\n  name: string;\n  size: any;\n  shape: any;\n  shapeColor: any;\n};\n\nexport const Figure = styled.div`\n  margin: 40px 0 55px 0;\n  text-align: center;\n  ${media.mobile`\n    ${css`\n      margin: 40px 0 30px;\n    `}\n  `}\n`;\n\nexport const ReconnectedIcon = styled(ShapedIcon).attrs((props: IconProps) => ({\n  'aria-label': props.ariaLabel\n}))<IconProps>`\n  flex-shrink: 0;\n  margin-right: 9px;\n`;\n\nexport const TextElement = styled(Text)`\n  max-width: 475px;\n  padding: 24px 0 0;\n  text-align: center;\n`;\n\nexport const ReconnectionWrapper = styled.div`\n  position: fixed;\n  top: 40px;\n  left: 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  justify-items: center;\n  text-align: center;\n\n  ${media.mobile`\n  ${css`\n    top: 0;\n    background-color: ${props => props.theme.colors.contentBodyColor};\n  `}\n  `}\n`;\n\nexport const CircleWrapper = styled.div`\n  width: 100%;\n  max-width: 560px;\n  min-height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 15px;\n  background: ${props => transparentize(props.theme.colors.incorrectColor, 0.1)};\n  border: 1px solid ${props => transparentize(props.theme.colors.incorrectColor, 0.3)};\n\n  &.Online {\n    background: ${props => transparentize(props.theme.colors.correctColor, 0.1)};\n    border: 1px solid ${props => transparentize(props.theme.colors.correctColor, 0.3)};\n  }\n\n  ${TextElement} {\n    padding: 0;\n  }\n\n  > div {\n    position: relative;\n    left: auto;\n    top: auto;\n    margin: 0 20px 0 0;\n  }\n`;\n\nexport const HeaderElement = styled(Text)`\n  color: ${props => props.theme.colors.textColor};\n  font-weight: normal !important;\n  text-align: center;\n\n  ${media.mobile`\n    ${css`\n      text-align: center;\n    `}\n  `}\n`;\n\nexport const ButtonsWrapper = styled.div`\n  display: inline-block;\n  margin-top: 40px;\n\n  & > button {\n    width: 100%;\n    display: block;\n    margin: 0 0 20px;\n  }\n`;\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: max-content;\n  height: 100%;\n\n  ${media.mobile`\n  ${css`\n    height: auto;\n  `}`}\n`;\n\nexport const ContentWrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  z-index: 1;\n\n  ${media.mobile`\n    ${css`\n      &::before {\n        content: '';\n        width: 100%;\n        height: 40px;\n      }\n\n      &::after {\n        content: '';\n        width: 100%;\n        height: 110px;\n      }\n    `}\n  `}\n`;\n\nexport const NoteWrapper = styled.div`\n  position: fixed;\n  bottom: 28px;\n  left: 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  justify-items: center;\n  text-align: center;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.7)};\n\n  ${media.mobile`\n  ${(props: any) =>\n    css`\n      background-color: ${props.theme.colors.contentBodyColor};\n      bottom: 0;\n      padding: 24px 0;\n\n      &::after {\n        content: '';\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        background-color: ${transparentize(props.theme.colors.textColor, 0.1)};\n        z-index: -1;\n      }\n    `}\n  `}\n`;\n\nexport const Note = styled(Text)`\n  width: 100%;\n\n  b {\n    font-weight: bold;\n  }\n\n  ${media.mobile`\n    ${css`\n      max-width: 260px;\n    `}\n  `}\n`;\n","import React from 'react';\nimport { withTheme } from 'styled-components';\nimport { localize } from 'core/localization';\nimport { Figure } from './Figure.styled';\n\ntype LostConnectionProps = {\n  theme: { [key: string]: any };\n};\nexport const LostConnection = (props: LostConnectionProps) => (\n  <Figure\n    width=\"260px\"\n    height=\"135px\"\n    viewBox=\"0 0 260 135\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    role=\"img\"\n    arialabel={`${localize('[continue later aria label]')}`}\n  >\n    <title>2F4B8814-1795-4431-B359-0884AE1D4E74</title>\n    <desc>Created with sketchtool.</desc>\n    <defs>\n      <linearGradient id=\"ljzn3byk2g\" x1=\"50%\" x2=\"50%\" y1=\"0%\" y2=\"59.083%\">\n        <stop offset=\"0%\" stopColor=\"#FFF\" />\n        <stop offset=\"100%\" stopColor=\"#FBFBFC\" />\n      </linearGradient>\n      <filter\n        id=\"lmn9khmtja\"\n        width=\"100%\"\n        height=\"100%\"\n        x=\"0%\"\n        y=\"0%\"\n        filterUnits=\"objectBoundingBox\"\n      >\n        <feGaussianBlur in=\"SourceGraphic\" />\n      </filter>\n    </defs>\n    <g fill=\"none\" fillRule=\"evenodd\">\n      <g>\n        <g>\n          <g fill=\"#363E4E\" opacity=\".02\">\n            <g>\n              <path\n                d=\"M74.48.423H20.984s-9.378 1.012-9.378 8.467c0 7.454 9.378 8.466 9.378 8.466l31.828.06s7.447 1.452 7.447 7.983c0 6.53-7.447 8.466-7.447 \n                  8.466H36.368s-13.348.815-13.348 8.89c0 8.074 13.348 9.312 13.348 9.312H9.479S0 53.7 0 60.473C0 67.246 9.48 69 9.48 69h207.865s11.703-1.33 \n                  11.703-8.527c0-7.196-11.703-8.406-11.703-8.406H197.02s-11.868-.707-12.08-8.042c-.211-7.336 12.08-8.709 12.08-8.709l23.586-.816s12.31 1.814 \n                  12.31-8.376-11.325-8.768-11.325-8.768l28.253.06S260 16.806 260 8.89C260 .973 249.844 0 249.844 0L74.479.423z\"\n                filter=\"url(#lmn9khmtja)\"\n                transform=\"translate(-590 -196) translate(590 199) translate(0 36) translate(0 6)\"\n              />\n            </g>\n          </g>\n          <g transform=\"translate(-590 -186) translate(590 199) translate(71 5)\">\n            <ellipse cx=\"59\" cy=\"110\" fill=\"#F5F7FB\" rx=\"20\" ry=\"4\" />\n            <g fillRule=\"nonzero\">\n              <circle\n                fill=\"#F85D67\"\n                opacity=\"0.8\"\n                id=\"tcpqn4dule\"\n                cx=\"59.034\"\n                cy=\"82.618\"\n                r=\"6.585\"\n              />\n            </g>\n          </g>\n          <g fillRule=\"nonzero\" transform=\"translate(-590 -186) translate(590 199)\">\n            <path\n              id=\"b1bmyi6zbf\"\n              fill=\"#fff\"\n              d=\"M129.5 0h1c3.314 0 6 2.686 6 6v63c0 3.314-2.686 6-6 6h-1c-3.314 0-6-2.686-6-6V6c0-3.314 2.686-6 6-6z\"\n            />\n            <path\n              fill=\"#F85D67\"\n              fillOpacity=\".7\"\n              fillRule=\"evenodd\"\n              stroke=\"url(#ljzn3byk2g)\"\n              strokeWidth=\"3\"\n              d=\"M130.5-1.5c2.071 0 3.946.84 5.303 2.197C137.161 2.054 138 3.929 138 6h0v63c0 2.071-.84 3.946-2.197 5.303-1.357 1.358-3.232 \n              2.197-5.303 2.197h0-1c-2.071 0-3.946-.84-5.303-2.197C122.839 72.946 122 71.071 122 69h0V6c0-2.071.84-3.946 \n              2.197-5.303C125.554-.661 127.429-1.5 129.5-1.5h0z\"\n            />\n          </g>\n        </g>\n      </g>\n    </g>\n  </Figure>\n);\n\nexport default withTheme(LostConnection);\n","import React, { Fragment, PureComponent } from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { localize } from 'core/localization';\nimport { Button } from 'components/common';\nimport {\n  TextElement,\n  HeaderElement,\n  Container,\n  ContentWrapper,\n  ButtonsWrapper,\n  Figure,\n  NoteWrapper,\n  Note,\n  CircleWrapper,\n  ReconnectionWrapper,\n  ReconnectedIcon\n} from './ConnectionAlert.styled';\nimport { getColors, getFonts } from 'store/settings/selectors';\nimport CircleLoader from 'components/common/CircleLoader';\nimport LostConnection from 'assets/figures/LostConnection';\nimport { BUTTON, ICON, SIZES } from 'constants/components';\nimport { RootAppState } from 'store/types';\nimport * as popupActions from 'store/popup/actions';\nimport { ThemeProvider } from 'styled-components';\n\ntype ConnectionAlertProps = {\n  popupAction: { [key: string]: any };\n  isOffline: boolean;\n  colors: any;\n  fonts: any;\n};\n\nexport class ConnectionOverlay extends PureComponent<ConnectionAlertProps, {}> {\n  static defaultProps = {\n    isOffline: false\n  };\n\n  state = {\n    closeCourse: false\n  };\n\n  closeCourse = () => {\n    this.setState({\n      closeCourse: true\n    });\n  };\n\n  render() {\n    const { isOffline, colors, fonts } = this.props;\n    const { closeCourse } = this.state;\n\n    return (\n      <Fragment>\n        <ThemeProvider theme={{ colors, fonts }}>\n          <Container>\n            {closeCourse && (\n              <TextElement appearance=\"p\" font=\"mainFont\">\n                {localize('[close course text]')}\n              </TextElement>\n            )}\n            {!closeCourse && (\n              <ContentWrapper>\n                <ReconnectionWrapper>\n                  <CircleWrapper className={isOffline ? 'Offline' : 'Online'}>\n                    {isOffline ? (\n                      <CircleLoader iconSize={20} />\n                    ) : (\n                      <ReconnectedIcon\n                        name=\"ok\"\n                        size={SIZES.SMALL}\n                        shape={ICON.SHAPES.ROUND_FULL_COLOR}\n                        shapeColor={'correctColor'}\n                        fontSize={7}\n                      />\n                    )}\n                    <TextElement appearance=\"span\" size={14} font=\"mainFont\">\n                      {isOffline\n                        ? localize('[trying to reconnect]')\n                        : localize('[reconnected successfully]')}\n                    </TextElement>\n                  </CircleWrapper>\n                </ReconnectionWrapper>\n\n                <Figure>\n                  <LostConnection />\n                </Figure>\n\n                <HeaderElement appearance=\"h1\">{localize('[check connection]')}</HeaderElement>\n                <TextElement appearance=\"p\" font=\"mainFont\">\n                  {localize('[close course connection lost]')}\n                </TextElement>\n\n                <ButtonsWrapper>\n                  <Button layout={BUTTON.LAYOUT.SECONDARY} onClick={() => this.closeCourse()}>\n                    {localize('[close course]')}\n                  </Button>\n                </ButtonsWrapper>\n\n                <NoteWrapper>\n                  <Note appearance=\"span\">\n                    <b>{localize('[connection note]')} </b>\n                    {localize('[note use same course]')}\n                  </Note>\n                </NoteWrapper>\n              </ContentWrapper>\n            )}\n          </Container>\n        </ThemeProvider>\n      </Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    colors: getColors(state),\n    fonts: getFonts(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    popupAction: bindActionCreators(popupActions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConnectionOverlay);\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport throttle from 'lodash.throttle';\nimport { getColors, getFonts, getBackground, isResource } from 'store/settings/selectors';\nimport SomethingWentWrong from 'pages/errors/somethingWentWrong';\nimport { withRouter } from 'react-router-dom';\nimport * as actions from 'store/app/actions';\nimport { isAppLoading, isAppLoadingFailed, isOffline } from 'store/app/selectors';\nimport withScrollOnRedirect from 'components/hocs/withScrollOnRedirect';\nimport { getTreeOfContentVisibility } from 'store/treeOfContent/selectors';\nimport { isAuthenticated } from 'store/user/selectors';\nimport { isCourseAccessLimited } from 'store/course/selectors';\nimport withNavigation from 'components/hocs/withNavigation';\nimport { RootAppState } from 'store/types';\nimport ConnectionOverlay from 'pages/errors/ConnectionAlert';\nimport { CircleLoader } from '../common';\n\nconst Course = React.lazy(() => import('../../pages/course/Course'));\nconst Resource = React.lazy(() => import('../../pages/resource/Resource'));\n\ntype ShellProps = {\n  colors: { [key: string]: any };\n  fonts: { [key: string]: any };\n  background: { [key: string]: any };\n  actions: { [key: string]: any };\n  isLoading: boolean;\n  isLoadingFailed: boolean;\n  isOffline: boolean;\n  isLowResolution: boolean;\n  isTocExpanded: boolean;\n  isUserAuthenticated: boolean;\n  location: { [key: string]: any };\n  userAccessIsLimited: boolean;\n  navigateToUrl(url: string): void;\n  resources: { [key: string]: any };\n  isResource: { [key: string]: any };\n  courseLaunched: boolean;\n  popupActions: { [key: string]: any };\n  isCourseProgressRestoreFailed: boolean;\n  navigateToIndex(): void;\n};\n\ntype ShellState = {\n  hasError: boolean;\n  showAlert: boolean;\n};\n\nexport class Shell extends React.Component<ShellProps, ShellState> {\n  constructor(props: ShellProps) {\n    super(props);\n    this.state = {\n      hasError: false,\n      showAlert: false\n    };\n  }\n\n  windowResizeHandler = throttle(() => {\n    this.props.actions.resolutionChanged();\n  }, 500);\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.windowResizeHandler);\n  }\n\n  async componentDidMount() {\n    window.addEventListener('resize', this.windowResizeHandler);\n    this.props.actions.resolutionChanged();\n\n    await this.props.actions.load();\n  }\n\n  componentDidUpdate(prevProps: ShellProps): void {\n    if (this.props.isOffline && prevProps.isOffline !== this.props.isOffline) {\n      this.setState({ showAlert: true });\n    }\n\n    if (prevProps.isOffline && prevProps.isOffline !== this.props.isOffline) {\n      setTimeout(() => {\n        this.setState({\n          showAlert: false\n        });\n      }, 2000);\n    }\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(`Component did catch: ${error}, ${errorInfo}`);\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    const { isLoading, isLoadingFailed, isOffline } = this.props;\n    const { hasError, showAlert } = this.state;\n\n    if (showAlert) {\n      return <ConnectionOverlay isOffline={isOffline} />;\n    }\n\n    if (isLoading) {\n      return <CircleLoader iconSize={96} />;\n    }\n\n    if (isLoadingFailed || hasError) {\n      return <SomethingWentWrong hasUnhandledError={hasError} />;\n    }\n\n    return (\n      <React.Suspense fallback={<CircleLoader iconSize={96} />}>\n        {this.props.isResource ? <Resource {...this.props} /> : <Course {...this.props} />}\n      </React.Suspense>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    colors: getColors(state),\n    fonts: getFonts(state),\n    isOffline: isOffline(state),\n    isLoading: isAppLoading(state),\n    isLoadingFailed: isAppLoadingFailed(state),\n    isLowResolution: state.app.isLowResolution,\n    isTocExpanded: getTreeOfContentVisibility(state),\n    background: getBackground(state),\n    isUserAuthenticated: isAuthenticated(state),\n    userAccessIsLimited: isCourseAccessLimited(state),\n    isResource: isResource(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default withRouter(\n  withNavigation(connect(mapStateToProps, mapDispatchToProps)(withScrollOnRedirect(Shell)))\n);\n","import { css } from 'styled-components';\nimport media from 'components/mixins/media';\nimport 'focus-visible';\n\nconst commonCSS = css`\n  * {\n    box-sizing: border-box;\n    word-wrap: break-word;\n    -webkit-overflow-scrolling: touch; /* smooth scrolling on safari */\n  }\n  html,\n  body,\n  #root {\n    width: 100%;\n    height: 100%;\n    font-size: 16px;\n    line-height: 32px;\n  }\n\n  &:focus {\n    outline: 1px solid black;\n  }\n\n  &.js-focus-visible :focus:not(.focus-visible) {\n    outline: none;\n  }\n\n  div.resource-layout-offset {\n    margin-top: 76px;\n    height: calc(100% - 76px);\n  }\n\n  ${media.small`\n    div.resource-layout-offset {\n      margin-top: 62px;\n      height: calc(100% - 62px);\n    }\n  `}\n`;\n\nexport default commonCSS;\n","import { css } from 'styled-components';\nimport { transition } from 'components/mixins/interactivity';\n\nconst animationsCSS = css`\n  /*fade*/\n  .fade-enter,\n  .fade-appear {\n    opacity: 0;\n  }\n\n  .fade-enter.fade-enter-active,\n  .fade-appear.fade-appear-active {\n    ${transition('opacity', '0.4s')};\n    opacity: 1;\n  }\n\n  .fade-exit {\n    opacity: 1;\n  }\n\n  .fade-exit.fade-exit-active {\n    ${transition('opacity', '0.4s')};\n    opacity: 0.01;\n  }\n\n  /*slideInDown*/\n  .slideInDown-enter,\n  .slideInDown-appear {\n    transform: translateY(-10px);\n  }\n\n  .slideInDown-enter.slideInDown-enter-active,\n  .slideInDown-appear.slideInDown-appear-active {\n    ${transition('transform', '0.4s')};\n    transform: translateY(0px);\n  }\n\n  .slideInDown-exit {\n    transform: translateY(0px);\n  }\n\n  .slideInDown-exit.slideInDown-exit-active {\n    ${transition('transform', '0.4s')};\n    transform: translateY(-10px);\n  }\n\n  /*fadeInDown*/\n  .fadeInDown-enter,\n  .fadeInDown-appear {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n\n  .fadeInDown-enter.fadeInDown-enter-active,\n  .fadeInDown-appear.fadeInDown-appear-active {\n    ${transition('all', '0.3s')};\n    opacity: 1;\n    transform: translateY(0px);\n  }\n\n  .fadeInDown-exit {\n    opacity: 1;\n    transform: translateY(0px);\n  }\n\n  .fadeInDown-exit.fadeInDown-exit-active {\n    ${transition('all', '0.3s')};\n    opacity: 0.01;\n    transform: translateY(-10px);\n  }\n`;\n\nexport default animationsCSS;\n","import { createGlobalStyle } from 'styled-components';\nimport resetCss from 'styled-reset';\nimport commonCss from './common';\nimport animationsCss from './animations';\nimport './icons';\n\nconst BaseStyles = createGlobalStyle`\n  ${resetCss};\n  ${commonCss};\n  ${animationsCss};\n`;\n\nexport default BaseStyles;\n","import 'babel-polyfill';\nimport 'react-app-polyfill/ie11';\nimport 'webfontloader';\nimport 'react-hot-loader/patch';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'react-router-redux';\nimport { HashRouter } from 'react-router-dom';\nimport { AppContainer } from 'react-hot-loader';\nimport Shell from './components/shell';\nimport store, { history } from './store';\nimport 'react-circular-progressbar/dist/styles.css';\n\nimport BaseStyles from './assets/styles';\n\nconst render = (Component: any) => {\n  ReactDOM.render(\n    <React.Fragment>\n      <BaseStyles />\n      <AppContainer>\n        <Provider store={store}>\n          <ConnectedRouter history={history}>\n            <HashRouter>\n              <Component />\n            </HashRouter>\n          </ConnectedRouter>\n        </Provider>\n      </AppContainer>\n    </React.Fragment>,\n    document.querySelector('#root')\n  );\n};\n\nrender(Shell);\n\nif (module.hot) {\n  module.hot.accept('components/shell', () => {\n    /* eslint-disable global-require */\n    const NextShell = require('components/shell').default;\n    render(NextShell);\n  });\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  const axe = require('react-axe');\n  const config = {\n    rules: [\n      {\n        id: 'heading-order',\n        enabled: false\n      },\n      {\n        id: 'tabindex',\n        enabled: false\n      },\n      {\n        id: 'button-name',\n        enabled: false\n      },\n      {\n        id: 'color-contrast',\n        enabled: false\n      }\n    ]\n  };\n  axe(React, ReactDOM, 1000, config);\n}\n","import * as courseActions from 'store/course/actions';\nimport * as sectionActions from 'store/sections/actions';\nimport * as contentActions from 'store/contents/actions';\nimport { getContents } from 'store/contents/selectors';\nimport eventEmitter, { events } from 'core/events/eventEmitter';\nimport { getSection } from 'store/sections/selectors';\nimport { INFORMATION_CONTENT } from 'constants/questionTypes';\nimport progressStorage from 'core/progressStorage';\nimport {\n  isQuestionPoolEnabled,\n  isScoringOfContentPagesAllowed,\n  isAnswersFromPreviousAttemptEnabled,\n  shouldSubmitAllQuestions\n} from '../settings/selectors';\nimport {\n  getQuestion,\n  getScore,\n  hasBeenOpened,\n  getQuestionAttempt,\n  getQuestions,\n  getQuestionRetries,\n  getPoolQuestions\n} from './selectors';\nimport { getCourseAttempt } from '../course/selectors';\nimport * as CourseTypes from '../course/types';\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const questionsLoaded = (questions: any): ThunkResult => (dispatch, getState) => {\n  const scoreContentPages = isScoringOfContentPagesAllowed(getState());\n  if (scoreContentPages && questions) {\n    Object.keys(questions).forEach(key => {\n      const question = questions[key];\n      if (question.type === INFORMATION_CONTENT) {\n        question.affectsProgress = scoreContentPages;\n      }\n      question.attemptNumber = question.attemptNumber ? question.attemptNumber : 0;\n    });\n  }\n  dispatch({\n    type: ActionTypes.QUESTIONS_LOADED,\n    payload: questions\n  });\n};\n\nexport const answer = (questionId: string): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  const question = getQuestion(getState(), questionId);\n  const score = getScore(getState(), question);\n  const attempt = getQuestionAttempt(getState(), questionId) + 1;\n  dispatch({\n    type: ActionTypes.QUESTION_ANSWERED,\n    payload: { id: question.id, score, attempt }\n  });\n\n  const questionContent = getContents(getState(), question.questionContent);\n  eventEmitter.emit(events.QUESTION_ANSWERED, [\n    getQuestion(getState(), questionId),\n    getSection(getState(), question.sectionId),\n    questionContent,\n    attempt\n  ]);\n\n  dispatch(sectionActions.updateProgress(question.sectionId));\n  await dispatch(courseActions.updateProgress());\n};\n\nexport const answerBeforeSubmit = (questionId: string): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  const question = getQuestion(getState(), questionId);\n  const attempt = getCourseAttempt(getState());\n  dispatch({\n    type: ActionTypes.QUESTION_ANSWERED_BEFORE_SUBMIT,\n    payload: { id: question.id, attempt }\n  });\n\n  const questionContent = getContents(getState(), question.questionContent);\n  eventEmitter.emit(events.SUBMIT_ONCE_QUESTION_ANSWERED, [\n    getQuestion(getState(), questionId),\n    getSection(getState(), question.sectionId),\n    questionContent,\n    attempt\n  ]);\n\n  dispatch(sectionActions.updateSection(question.sectionId));\n  await dispatch(courseActions.updateProgress());\n};\n\nexport const updateScore = (questionId: string): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  const question = getQuestion(getState(), questionId);\n  const score = getScore(getState(), question);\n  const attempt = getCourseAttempt(getState());\n  dispatch({\n    type: ActionTypes.QUESTION_ANSWERED,\n    payload: { id: question.id, score, attempt }\n  });\n\n  const questionContent = getContents(getState(), question.questionContent);\n  eventEmitter.emit(events.QUESTION_ANSWERED, [\n    getQuestion(getState(), questionId),\n    getSection(getState(), question.sectionId),\n    questionContent,\n    attempt\n  ]);\n\n  if (question.type === INFORMATION_CONTENT && isScoringOfContentPagesAllowed(getState())) {\n    const section = getSection(getState(), question.sectionId);\n    eventEmitter.emit(events.INFORMATION_CONTENT_EXPERIENCED, [question, section]);\n  }\n\n  dispatch(sectionActions.updateProgress(question.sectionId));\n};\n\nexport const submitAllAtOnce = (): ThunkResult => (dispatch, getState) => {\n  dispatch(courseActions.makeSubmitAtOnce());\n  dispatch(courseActions.updateSubmitAtOnceAttemptNumber());\n  const questions = isQuestionPoolEnabled(getState())\n    ? getPoolQuestions(getState())\n    : getQuestions(getState());\n  questions.forEach(({ id }: any) => {\n    dispatch(updateScore(id));\n  });\n  dispatch(courseActions.updateProgress());\n\n  eventEmitter.emit(events.SUBMIT_ONCE_QUESTION_SUBMITTED, [true]);\n  return true;\n};\n\nexport const informationContentExperienced = (\n  questionId: string\n): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  if (!isScoringOfContentPagesAllowed(getState())) {\n    return;\n  }\n\n  dispatch({\n    type: ActionTypes.QUESTION_ANSWERED,\n    payload: { id: questionId, score: 100, attempt: 1 }\n  });\n\n  const question = getQuestion(getState(), questionId);\n\n  if (shouldSubmitAllQuestions(getState())) {\n    dispatch(sectionActions.updateSection(question.sectionId));\n  } else {\n    const section = getSection(getState(), question.sectionId);\n    eventEmitter.emit(events.INFORMATION_CONTENT_EXPERIENCED, [question, section]);\n    dispatch(sectionActions.updateProgress(question.sectionId));\n  }\n\n  await dispatch(courseActions.updateProgress());\n};\n\nexport const markAsOpened = (questionId: string): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  if (hasBeenOpened(getState(), questionId)) {\n    return;\n  }\n\n  dispatch({\n    type: ActionTypes.QUESTION_OPENED,\n    payload: { questionId, hasBeenOpened: true }\n  });\n\n  const questionType = getQuestion(getState(), questionId).type;\n  if (questionType === INFORMATION_CONTENT) {\n    dispatch(informationContentExperienced(questionId));\n  }\n};\n\nexport const resetProgress = (question: any): ThunkResult => (dispatch, getState) => {\n  const initialScore = question.score;\n  if (!isAnswersFromPreviousAttemptEnabled(getState())) {\n    const isPoolQuestion = () => !!question.isPoolQuestion;\n    dispatch({\n      type: ActionTypes.QUESTION_PROGRESS_RESET,\n      payload: { id: question.id, isPoolQuestion: isPoolQuestion(), type: question.type }\n    });\n    eventEmitter.emit(events.RESET_QUESTION_PROGRESS, question.id);\n  } else {\n    dispatch({\n      type: ActionTypes.QUESTION_PROGRESS_RESET_KEEP_ANSWER,\n      payload: { id: question.id }\n    });\n  }\n\n  if (initialScore === 0) {\n    return;\n  }\n\n  dispatch(sectionActions.updateProgress(question.sectionId));\n  dispatch(courseActions.updateProgress());\n};\n\nexport const cleanup = (questionId: string): ThunkResult => (dispatch, getState) => {\n  const question = getQuestion(getState(), questionId);\n  const isPoolQuestion = () => !!question.isPoolQuestion;\n  dispatch({\n    type: ActionTypes.QUESTION_PROGRESS_RESET,\n    payload: { id: question.id, isPoolQuestion: isPoolQuestion(), type: question.type }\n  });\n\n  dispatch({\n    type: ActionTypes.QUESTION_PROGRESS_RESET_ATTEMPT,\n    payload: { id: question.id }\n  });\n\n  dispatch({\n    type: ActionTypes.QUESTION_OPENED,\n    payload: { questionId, hasBeenOpened: false }\n  });\n};\n\nexport const cleanupKeepAnswers = (questionId: string): ThunkResult => (dispatch, getState) => {\n  const question = getQuestion(getState(), questionId);\n\n  dispatch({\n    type: ActionTypes.QUESTION_PROGRESS_RESET_KEEP_ANSWER,\n    payload: { id: question.id }\n  });\n\n  dispatch({\n    type: ActionTypes.QUESTION_OPENED,\n    payload: { questionId, hasBeenOpened: false }\n  });\n};\n\nexport const loadFeedback = (questionId: string): ThunkResult => (dispatch, getState) => {\n  const state = getState();\n  const question = getQuestion(state, questionId);\n  if (question.correctFeedback.length) {\n    dispatch(contentActions.loadContents(getContents(state, question.correctFeedback)));\n  }\n  if (question.incorrectFeedback.length) {\n    dispatch(contentActions.loadContents(getContents(state, question.incorrectFeedback)));\n  }\n  if (question.explanationBlocks.length) {\n    dispatch(contentActions.loadContents(getContents(state, question.explanationBlocks)));\n  }\n};\n\nexport const restoreProgress = (\n  questionId: string,\n  questionAnswers: any,\n  attempt: number,\n  showPrevAnswer: boolean\n): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  try {\n    if (!showPrevAnswer) {\n      dispatch({\n        type: ActionTypes.QUESTION_RESTORE_RESPONSE,\n        payload: { id: questionId, response: questionAnswers, attempt }\n      });\n    } else {\n      dispatch({\n        type: ActionTypes.QUESTION_RESTORE_SHOW_PREV_ANSWER,\n        payload: { id: questionId, response: questionAnswers }\n      });\n    }\n\n    const question = getQuestion(getState(), questionId);\n    const { allQuestionsSubmitted } = progressStorage;\n    const isSubmitAllAtOnce = shouldSubmitAllQuestions(getState());\n    if (isSubmitAllAtOnce && !allQuestionsSubmitted) {\n      dispatch({\n        type: ActionTypes.QUESTION_PROGRESS_RESTORE_BEFORE_SUBMIT,\n        payload: { id: questionId, attempt }\n      });\n    } else {\n      const score = getScore(getState(), question);\n      dispatch({\n        type: ActionTypes.QUESTION_PROGRESS_RESTORE,\n        payload: { id: questionId, score, attempt }\n      });\n    }\n  } catch (e) {\n    console.error(e);\n    dispatch({ type: CourseTypes.ActionTypes.COURSE_PROGRESS_RESTORE_FAILED, reason: e });\n  }\n};\n\nexport const animateFeedback = (data: {\n  questionId: string;\n  isAnimating: boolean;\n}): ThunkResult => dispatch => {\n  const { questionId, isAnimating } = data;\n  dispatch({\n    type: ActionTypes.FEEDBACK_ANIMATING,\n    payload: { id: questionId, isFeedbackAnimating: isAnimating }\n  });\n};\n\nexport const updateRetries = (questionId: string): ThunkResult => (dispatch, getState) => {\n  const questionRetries = getQuestionRetries(getState(), questionId);\n  dispatch({\n    type: ActionTypes.QUESTION_UPDATE_RETRY,\n    payload: { questionId, retries: questionRetries + 1 }\n  });\n};\n","class Color {\n  r: number;\n  g: number;\n  b: number;\n  a: number | undefined;\n\n  constructor(r: number, g: number, b: number, a?: number) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a;\n  }\n\n  toString() {\n    return this.a !== undefined\n      ? `rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`\n      : `rgb(${this.r}, ${this.g}, ${this.b})`;\n  }\n}\n\n/* eslint-disable import/prefer-default-export */\nexport const transparentize = (hex: string, opacity?: number, options: { [key: string]: any } = { solidColor: false }): string => {\n  let color = hex2rgba(hex, opacity);\n  if (!color) {\n    return '';\n  }\n  if (options.solidColor) {\n    const white = new Color(255, 255, 255);\n    color = rgba2rgb(white, color);\n  }\n\n  return color.toString();\n};\n\nfunction hex2rgba(hexColor: string, alpha = 1) {\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  const hex = hexColor.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  if (!result) {\n    return null;\n  }\n  return new Color(\n    parseInt(result[1], 16),\n    parseInt(result[2], 16),\n    parseInt(result[3], 16),\n    alpha\n  );\n}\n\nfunction rgba2rgb(rgbBackground: any, rgbaColor: any) {\n  const alpha = rgbaColor.a;\n\n  return new Color(\n    parseInt(((1 - alpha) * rgbBackground.r + alpha * rgbaColor.r).toString(), 10),\n    parseInt(((1 - alpha) * rgbBackground.g + alpha * rgbaColor.g).toString(), 10),\n    parseInt(((1 - alpha) * rgbBackground.b + alpha * rgbaColor.b).toString(), 10)\n  );\n}\n","import styled, { keyframes, css } from 'styled-components';\n\nconst defaultBorderColor = '#F6842C';\n\nconst getBorderColor = (theme: any) =>\n  (theme && theme.colors && theme.colors.mainColor) || defaultBorderColor;\n\nconst circleRotate = keyframes`\n  0% {\n        transform: rotate(0deg);\n  }\n  100% {\n        transform: rotate(360deg);\n  }\n`;\n\nconst strokeRotate = keyframes`\n  0% {\n        transform: rotate(0deg);\n  }\n  100% {\n        transform: rotate(1080deg);\n  }\n`;\n\nconst strokeFix = keyframes`\n  0% {\n        transform: rotate(0deg);\n  }\n  50% {\n        transform: rotate(135deg);\n  }\n  100% {\n        transform: rotate(270deg);\n  }\n`;\n\nconst strokeLeftGrow = keyframes`\n  0% {\n        transform: rotate(-5deg);\n  }\n  50% {\n        transform: rotate(-140deg);\n  }\n  100% {\n        transform: rotate(-5deg);\n  }\n`;\n\nconst strokeRightGrow = keyframes`\n  0% {\n        transform: rotate(5deg);\n  }\n  50% {\n        transform: rotate(140deg);\n  }\n  100% {\n        transform: rotate(5deg);\n  }\n`;\n\nexport const getGeneralLineStyle = (width?: number, height?: number) => css`\n  width: ${width || 24}px;\n  height: ${height || 24}px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -${width ? width / 2 : 12}px;\n  margin-left: -${width ? width / 2 : 12}px;\n  z-index: 300;\n`;\n\nexport const lineStyle = css`\n  content: '';\n  display: block;\n  border-style: solid;\n  border-width: 3px;\n`;\n\nexport const getLineStyleStrokeRight = (iconSize?: number) => css`\n  position: absolute;\n  clip: rect(${iconSize ? `0 ${iconSize}px ${iconSize}px ${iconSize / 2}px` : `0 24px 24px 12px`});\n`;\n\nexport const getLineStyleStrokeLeft = (iconSize?: number) => css`\n  position: absolute;\n  clip: rect(${iconSize ? `0 ${iconSize / 2}px ${iconSize}px 0` : `0 12px 24px 0`});\n`;\n\nexport const getLineStyleStroke = (iconSize?: number) => css`\n  position: absolute;\n  clip: rect(\n    ${iconSize ? `0 ${iconSize / 2}px ${iconSize / 2}px ${iconSize / 2}px` : `0 12px 12px 12px`}\n  );\n`;\n\nexport const generalAnimationCircle = css`\n  animation: ${circleRotate} 1200ms linear infinite both;\n`;\n\nexport const generalAnimation = css`\n  animation: ${strokeFix} 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;\n`;\n\nexport const generalAnimationStroke = css`\n  animation: ${strokeRotate} 5332ms steps(4) infinite both;\n`;\n\nexport const generalAnimationRight = css`\n  animation: ${strokeRightGrow} 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;\n`;\n\nexport const generalAnimationLeft = css`\n  animation: ${strokeLeftGrow} 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;\n`;\n\ninterface LoaderProps {\n  iconSize?: number\n}\n\nexport const LoaderCircle = styled.div.attrs(() => ({\n  'data-test': 'circle-loader'\n}))`\n  ${(props: LoaderProps) => getGeneralLineStyle(props.iconSize, props.iconSize)} ${generalAnimationCircle};\n`;\n\nexport const LoaderStroke = styled.div<LoaderProps>`\n  ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n  ${generalAnimationStroke}\n  \n  &:before{\n    ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n    ${lineStyle}\n    ${props => getLineStyleStroke(props.iconSize)}\n    ${generalAnimation}\n    border-color: ${props => getBorderColor(props.theme)}\n`;\n\nexport const LoaderStrokeLeft = styled.div<LoaderProps>`\n  ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n  ${props => getLineStyleStrokeLeft(props.iconSize)}\n  ${generalAnimation}\n  \n  &:before{\n    ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n    ${lineStyle}\n    ${props => getLineStyleStrokeRight(props.iconSize)}\n    ${generalAnimationLeft}\n    border-color: ${props => getBorderColor(props.theme)}\n  }\n`;\n\nexport const LoaderStrokeRight = styled.div<LoaderProps>`\n  ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n  ${props => getLineStyleStrokeRight(props.iconSize)}\n  ${generalAnimation}\n  \n  &:before{\n    ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n    ${lineStyle}\n    ${props => getLineStyleStrokeLeft(props.iconSize)}\n    ${generalAnimationRight}\n    border-color: ${props => getBorderColor(props.theme)}\n`;\n","import * as React from 'react';\nimport {\n  LoaderCircle,\n  LoaderStroke,\n  LoaderStrokeLeft,\n  LoaderStrokeRight\n} from './CircleLoader.styled';\n\nexport interface CircleLoader {\n  iconSize?: number\n}\n\nexport const CircleLoader = (props: Readonly<CircleLoader>) => {\n  const { iconSize } = props;\n  return (\n    <LoaderCircle iconSize={iconSize}>\n      <LoaderStroke iconSize={iconSize}>\n        <LoaderStrokeLeft iconSize={iconSize} />\n        <LoaderStrokeRight iconSize={iconSize} />\n      </LoaderStroke>\n    </LoaderCircle>\n  );\n};\n\n\nexport default CircleLoader;\n","export { default } from './CircleLoader';\n","import eventEmitter, { events } from 'core/events/eventEmitter';\nimport { INFORMATION_CONTENT } from 'constants/questionTypes';\nimport { ProgressStatus } from 'constants/progressStatus';\nimport * as courseSelectors from 'store/course/selectors';\nimport { getTimerStatus } from 'store/timer/selectors';\nimport { TimerStatus } from 'constants/timer';\nimport {\n  getAffectProgressQuestions,\n  getSection,\n  getSectionProgress,\n  isSectionAnswered,\n  isSectionFailed\n} from './selectors';\nimport * as settingsSelector from '../settings/selectors';\nimport { isAttemptSubmitted, getCourseAttempt } from '../course/selectors';\n\nimport { ActionTypes } from './types';\nimport { RootAppState, ThunkResult } from '../types';\n\nconst checkSectionFailed = (state: RootAppState, sectionId: string) => {\n  if (settingsSelector.shouldSubmitAllQuestions(state)) {\n    return (\n      settingsSelector.isAttemptsLimited(state) &&\n      isAttemptSubmitted(state) &&\n      getCourseAttempt(state) >= settingsSelector.getLimitedAttemptsNumber(state)\n    );\n  }\n  return isSectionFailed(state, sectionId);\n};\n\nconst checkSectionFailedTimedOut = (state: RootAppState, score: number) => {\n  const isOverallMasteryScore = settingsSelector.isOverallMasteryScore(state);\n  const masteryScore = settingsSelector.getMasteryScoreValue(state);\n  if (settingsSelector.getTimerEnabled(state)) {\n    return (\n      ((isOverallMasteryScore && score < 100) ||\n        (!isOverallMasteryScore && score < masteryScore)) &&\n      getTimerStatus(state) === TimerStatus.STOPPED\n    );\n  }\n  return false;\n};\n\nexport const updateScore = (sectionId: string): ThunkResult => (dispatch, getState) => {\n  const isOverallMasteryScore = settingsSelector.isOverallMasteryScore(getState());\n  const masteryScore = settingsSelector.getMasteryScoreValue(getState());\n  const questions = getAffectProgressQuestions(getState(), sectionId);\n\n  const correctQuestions = questions.filter((question: any) =>\n    question.type === INFORMATION_CONTENT ? question.hasBeenOpened : question.isAnsweredCorrectly\n  );\n  const score = questions.length\n    ? Math.floor((correctQuestions.length * 100) / questions.length)\n    : 100;\n\n  let status = ProgressStatus.IN_PROGRESS;\n\n  if (\n    (isOverallMasteryScore && score === 100) ||\n    (!isOverallMasteryScore && score >= masteryScore)\n  ) {\n    status = ProgressStatus.PASSED;\n  } else if (\n    checkSectionFailed(getState(), sectionId) ||\n    checkSectionFailedTimedOut(getState(), score)\n  ) {\n    status = ProgressStatus.FAILED;\n  }\n  dispatch({\n    type: ActionTypes.SECTION_SCORE_UPDATED,\n    payload: {\n      id: sectionId,\n      score,\n      status\n    }\n  });\n};\n\nexport const updateSectionAnsweredProgress = (sectionId: string): ThunkResult => (\n  dispatch,\n  getState\n) => {\n  const sectionProgress = getSectionProgress(getState(), sectionId);\n\n  dispatch({\n    type: ActionTypes.SECTION_ANSWERED_SCORE,\n    payload: {\n      id: sectionId,\n      sectionProgress\n    }\n  });\n};\n\nexport const sectionAnswered = (sectionId: string): ThunkResult => (dispatch, getState) => {\n  dispatch({\n    type: ActionTypes.SECTION_ANSWERED,\n    payload: {\n      id: sectionId,\n      isSectionAnswered: isSectionAnswered(getState(), sectionId)\n    }\n  });\n};\n\nexport const updateSection = (sectionId: string): ThunkResult => dispatch => {\n  dispatch(updateScore(sectionId));\n  dispatch(sectionAnswered(sectionId));\n  dispatch(updateSectionAnsweredProgress(sectionId));\n};\n\nexport const updateProgress = (sectionId: string): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  await dispatch(updateSection(sectionId));\n  const section = getSection(getState(), sectionId);\n  let xapiStatus = section.status;\n  if (\n    isAttemptSubmitted(getState()) &&\n    courseSelectors.isInProgress(getState()) &&\n    settingsSelector.shouldSubmitAllQuestions(getState())\n  ) {\n    xapiStatus = ProgressStatus.FAILED;\n  }\n  await eventEmitter.emit(events.SECTION_PROGRESSED, { section, xapiStatus });\n};\n\nexport const onSectionIsPassed = (sectionId: string): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.SECTION_IS_PASSED,\n    payload: {\n      id: sectionId,\n      status: ProgressStatus.PASSED\n    }\n  });\n};\n\nexport const sectionsLoaded = (sections: any): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.SECTIONS_LOADED, payload: sections });\n};\n\nexport const cleanup = (sectionId: string): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.SECTION_SCORE_UPDATED,\n    payload: {\n      id: sectionId,\n      score: 0,\n      status: ProgressStatus.IN_PROGRESS\n    }\n  });\n\n  dispatch({\n    type: ActionTypes.SECTION_ANSWERED,\n    payload: {\n      id: sectionId,\n      isSectionAnswered: false\n    }\n  });\n\n  dispatch({\n    type: ActionTypes.SECTION_ANSWERED_SCORE,\n    payload: {\n      id: sectionId,\n      sectionProgress: 0\n    }\n  });\n};\n","export type SettingsTime = {\n  hours: number;\n  minutes: number;\n  seconds: number;\n};\n\nexport type TimeLimitFormat = 'hr' | 'min' | 'sec';\n\nconst truncate = (x: number) => {\n  if (!Math.trunc) {\n    return x < 0 ? Math.ceil(x) : Math.floor(x);\n  }\n  return Math.trunc(x);\n};\n\nexport const getMillisecondsFromTime = (\n  { hours, minutes, seconds }: SettingsTime = { hours: 0, minutes: 0, seconds: 0 }\n) => (hours * 60 * 60 + minutes * 60 + seconds) * 1000;\n\nexport const getTimeFromMilliseconds = (\n  milliSeconds: number,\n  format?: TimeLimitFormat\n): SettingsTime | number => {\n  const totalSeconds = Math.floor(milliSeconds / 1000);\n  const totalMinutes = totalSeconds / 60;\n  const totalHours = totalMinutes / 60;\n\n  if (milliSeconds < 0) {\n    return 0;\n  }\n\n  switch (format) {\n    case 'sec':\n      return totalSeconds;\n    case 'min':\n      return Math.round(totalMinutes * 10) / 10;\n    case 'hr':\n      return totalHours;\n    default:\n      return {\n        hours: Math.floor(totalHours % 60),\n        minutes: Math.floor(totalMinutes % 60),\n        seconds: Math.floor(totalSeconds % 60)\n      };\n  }\n};\n\nexport const calculateTimeLeft = (\n  timeLimit: number,\n  currentTimeElapsed: number,\n  previousTimeElapsed: number\n) => timeLimit - (currentTimeElapsed + previousTimeElapsed);\n\nexport const calculateTimeElapsed = (startedAt: number, updatedAt: number) =>\n  truncate((updatedAt - startedAt) / 100) * 100;\n\nexport const getElapsedTimeInPercentage = (timeLeft: number, timeLimit: number) =>\n  Math.ceil(((timeLimit - timeLeft) / timeLimit) * 100);\n","import eventEmitter, { events } from 'core/events/eventEmitter';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const navigatedToUrl = (\n  prevUrl: string,\n  currentUrl: string\n): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  await eventEmitter.emit(events.APP_NAVIGATED, { url: currentUrl, state: getState() });\n  dispatch({ type: ActionTypes.NAVIGATED_INSIDE_THE_APP, payload: { prevUrl, currentUrl } });\n};\n\nexport const goToUrl = (url: string): ThunkResult => () => {\n  window.open(url, '_self');\n};\n\nexport const poolUrlReset = (questions: any): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.POOL_URL_LOADED, payload: questions });\n}\n\nexport const updateElementIdInViewPort = (\n  elementIdInViewport: string\n): ThunkResult<Promise<void>> => async dispatch => {\n  dispatch({ type: ActionTypes.ELEMENT_ID_IN_VIEWPORT_UPDATED, payload: { elementIdInViewport } });\n};\n","import styled, { css } from 'styled-components';\nimport * as typography from 'components/mixins/typography';\n\nconst normalizeFocus = () => css`\n  &:focus {\n    outline: none;\n    border: none;\n  }\n`;\n\ntype HeadersProps = {\n  title: string;\n  tabIndex: string | number;\n};\nexport const Header1 = styled.h1.attrs(({ tabIndex = 1, title }: HeadersProps) => ({\n  title,\n  tabIndex\n}))`\n  ${normalizeFocus};\n  ${typography.mainFontH1};\n`;\n\nexport const Header2 = styled.h2.attrs(() => ({\n  tabIndex: 0\n}))`\n  ${normalizeFocus};\n  ${typography.mainFontH2};\n`;\n\nexport const Header3 = styled.h3.attrs(() => ({\n  tabIndex: 0\n}))`\n  ${normalizeFocus};\n  ${typography.mainFontH3};\n`;\n\nexport const Header4 = styled.h4`\n  ${typography.mainFontH4};\n  ${normalizeFocus};\n`;\n\nexport const Span = styled.span`\n  ${typography.secondaryFontSmallText};\n  line-height: normal;\n`;\n\nexport const Paragraph = styled.p`\n  ${typography.secondaryFontText};\n`;\n\nexport const ellipsisMixin = css`\n  display: inline-block;\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nexport const sizeMixin = (size: number) => css`\n  font-size: ${size}px;\n`;\n\nexport const fontMixin = (fontName: string) => css`\n  font-family: ${props => props.theme.fonts[fontName].fontFamily};\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { getShortString } from 'utils/string';\nimport { isIframe } from 'utils/window';\nimport {\n  Header1,\n  Header2,\n  Header3,\n  Header4,\n  Span,\n  Paragraph,\n  ellipsisMixin,\n  sizeMixin,\n  fontMixin\n} from './Text.styled';\n\nconst components = {\n  h1: Header1,\n  h2: Header2,\n  h3: Header3,\n  h4: Header4,\n  p: Paragraph,\n  span: Span\n};\n\ninterface TextAppearance {\n  h1: string;\n  h2: string;\n  h3: string;\n  h4: string;\n  span: string;\n  p: string;\n}\n\ntype TextProps = {\n  appearance: keyof TextAppearance;\n  ellipsis?: boolean;\n  children: React.ReactNode;\n  maxLength?: number;\n  size?: number;\n  font?: string;\n  title?: string;\n  inverted?: any;\n  theme?: any;\n  className?: string;\n  tabIndex?: number;\n  ignoreFocus?: boolean;\n  id?: string;\n};\n\nexport class Text extends React.PureComponent<TextProps, {}> {\n  refElement: any;\n  children: string;\n\n  constructor(props: TextProps) {\n    super(props);\n    this.refElement = React.createRef();\n    this.children = '';\n  }\n\n  static defaultProps = {\n    appearance: 'span',\n    ignoreFocus: false\n  };\n\n  componentDidMount() {\n    if (\n      !this.props.ignoreFocus &&\n      (this.props.appearance === 'h1' ||\n        this.props.appearance === 'h2' ||\n        this.props.appearance === 'h3')\n    ) {\n      !isIframe() && this.refElement.current.focus();\n    }\n  }\n\n  render() {\n    const { appearance, children, maxLength, font, ...other } = this.props;\n    if (maxLength && typeof children === 'string') {\n      this.children = getShortString(children, maxLength);\n    }\n    let Wrapper = styled(components[appearance])`\n      ${font && fontMixin(font)};\n      ${(p: any) => p.ellipsis && ellipsisMixin};\n      ${(p: any) => p.size && sizeMixin(p.size)};\n    `;\n    return (\n      <Wrapper ref={this.refElement} {...other}>\n        {children}\n      </Wrapper>\n    );\n  }\n}\n\nexport default Text;\n","export { default } from './Text';\n","export const HYPHENATED_LANGUAGES: string[] = ['de'];\n","import { useState, useEffect } from 'react';\n\ntype TimerProgressProviderProps = {\n  valueStart: number;\n  valueEnd: number;\n  children(url: number): JSX.Element;\n};\n\nconst TimerProgressProvider = ({\n  valueStart = 0,\n  valueEnd = 0,\n  children\n}: TimerProgressProviderProps) => {\n  const [value, setValue] = useState(valueStart);\n  useEffect(() => {\n    setValue(valueEnd);\n  }, [valueEnd]);\n\n  return children(value);\n};\n\nexport default TimerProgressProvider;\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\n\ntype ContainerProps = {\n  isTimerStopped: boolean;\n};\nexport const Container = styled.div<ContainerProps>`\n  width: 22px;\n  height: 22px;\n  margin: ${props => props.isTimerStopped ? '9px 7px 9px 8px' : '9px 11px 11px 16px'};\n`;\n\nexport const ProgressContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const Progress = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const Content = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n`;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { RootAppState } from 'store/types';\nimport { getColors } from 'store/settings/selectors';\nimport CircularProgressbar from 'react-circular-progressbar';\nimport Icon from 'components/common/Icon';\nimport TimerProgressProvider from './TimerProgressProvider';\nimport { Container, ProgressContainer, Progress, Content } from './AnalogTimer.styled';\n\ntype AnalogTimerProps = {\n  timeElapsed: number;\n  isTimerStopped: boolean;\n  colors: { [key: string]: any };\n  onClick(): void;\n};\n\nexport const AnalogTimer: React.FunctionComponent<AnalogTimerProps> = ({ timeElapsed, isTimerStopped, colors, onClick }: AnalogTimerProps) => {\n  return (\n    <Container isTimerStopped={isTimerStopped} onClick={onClick}>\n      <ProgressContainer>\n        <Progress>\n          <TimerProgressProvider valueStart={0} valueEnd={timeElapsed}>\n            {(value: number) => (\n              <CircularProgressbar\n                percentage={value}\n                strokeWidth={8}\n                styles={{\n                  path: {\n                    stroke: colors.mainColor,\n                    strokeLinecap: 'butt',\n                    transition: 'stroke-dashoffset 0.5s ease 0s'\n                  },\n                  trail: { stroke: 'transparent' }\n                }}\n              />\n            )}\n          </TimerProgressProvider>\n        </Progress>\n        <Content>\n          <Icon name=\"timer\" size={16} />\n        </Content>\n      </ProgressContainer>\n    </Container>\n  );\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    colors: getColors(state)\n  };\n}\n\nexport default connect(mapStateToProps)(AnalogTimer);\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\n\ntype ContainerProps = {\n  isTimerStopped: boolean;\n};\nexport const Container = styled.div<ContainerProps>`\n  display: flex;\n  margin: ${props => (props.isTimerStopped ? '8px 20px 8px 8px' : '8px 20px')};\n`;\n\nexport const DigitContainer = styled.div`\n  display: flex;\n  width: 21px;\n  height: 24px;\n  border-radius: 4px;\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.1)};\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Digits = styled.span.attrs({\n  'data-test': 'digital-timer-value'\n})`\n  display: flex;\n  height: 100%;\n  font-size: 12px;\n  font-weight: 700;\n  font-family: ${props => props.theme.fonts.secondaryFont.fontFamily};\n  color: ${props => props.theme.colors.textColor};\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Separator = styled.span`\n  display: flex;\n  height: 24px;\n  content: ':';\n  font-size: 12px;\n  font-weight: 700;\n  font-family: ${props => props.theme.fonts.secondaryFont.fontFamily};\n  color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n  align-items: center;\n  justify-content: center;\n  margin: 0 4px;\n`;\n","import * as React from 'react';\nimport { getTimeFromMilliseconds, SettingsTime } from 'utils/timer';\nimport { DigitContainer, Digits, Container, Separator } from './DigitalTimer.styled';\n\ntype DigitProps = {\n  value: number;\n};\n\nconst Digit: React.FunctionComponent<DigitProps> = ({ value }: DigitProps) => {\n  const digit = value >= 10 ? value.toString() : `0${value}`;\n  return (\n    <DigitContainer>\n      <Digits>{digit}</Digits>\n    </DigitContainer>\n  );\n}\n\ntype DigitalTimerProps = {\n  timeLeft: number;\n  isTimerStopped: boolean;\n};\n\nexport const DigitalTimer: React.FunctionComponent<DigitalTimerProps> = ({\n  timeLeft,\n  isTimerStopped\n}: DigitalTimerProps) => {\n  const { hours = 0 , minutes = 0, seconds = 0 } = getTimeFromMilliseconds(timeLeft) as SettingsTime;\n  return (\n    <Container isTimerStopped={isTimerStopped}>\n      <Digit value={hours} />\n      <Separator>:</Separator>\n      <Digit value={minutes} />\n      <Separator>:</Separator>\n      <Digit value={seconds} />\n    </Container>\n  );\n}\n\nexport default DigitalTimer;\n","import styled from 'styled-components';\nimport Icon from 'components/common/Icon';\n\nexport const Container = styled.div`\n  margin-left: 8px;\n`;\n\nexport const PauseIcon = styled(Icon)`\n  margin-left: 8px;\n  font-size: 8px;\n`;\n","import * as React from 'react';\nimport AnalogTimer from 'components/timer/Analog';\nimport DigitalTimer from 'components/timer/Digital';\nimport { getElapsedTimeInPercentage } from 'utils/timer';\nimport { PauseIcon } from './Timer.styled';\nimport { TimerBlockProps } from './types';\n\nexport const TimerBlock: React.FunctionComponent<TimerBlockProps> = ({\n  isTimerStopped,\n  isLowResolution,\n  showDigitalTimer,\n  timeLeft,\n  timeLimit,\n  onClick\n}: TimerBlockProps) => (\n  <>\n    {isTimerStopped && <PauseIcon size={10} name=\"pause\" />}\n    {!isLowResolution || showDigitalTimer ? (\n      <DigitalTimer isTimerStopped={isTimerStopped} timeLeft={timeLeft} />\n    ) : (\n      <AnalogTimer isTimerStopped={isTimerStopped}\n        timeElapsed={getElapsedTimeInPercentage(timeLeft, timeLimit)}\n        onClick={onClick}\n      />\n    )}\n  </>\n);\n\nexport default TimerBlock;\n","import { useEffect, useRef } from 'react';\n\ntype Delay = number;\ntype TimerHandler = () => void;\n\nconst noop = () => {\n  // do nothing\n};\n\nconst useInterval = (callback: TimerHandler, delay: Delay) => {\n  const savedCallbackRef = useRef<TimerHandler>();\n\n  useEffect(() => {\n    savedCallbackRef.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    const handler = () => {\n      if (savedCallbackRef.current) {\n        return savedCallbackRef.current();\n      }\n      return noop();\n    };\n    const intervalId = setInterval(handler, delay);\n    return () => clearInterval(intervalId);\n  }, [delay]);\n};\n\nexport default useInterval;\n","import { useEffect, useRef } from 'react';\nimport { TimerStatus } from 'constants/timer';\n\ntype Delay = number;\ntype TimerHandler = () => void;\n\nconst noop = () => {\n  // do nothing\n};\n\nconst useTimeout = (\n  callback: TimerHandler,\n  delay: Delay,\n  timerStatus: TimerStatus,\n  updatedAt: number,\n  isPageVisible: boolean\n) => {\n  const savedCallbackRef = useRef<TimerHandler>();\n\n  useEffect(() => {\n    savedCallbackRef.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    const handler = () => {\n      if (savedCallbackRef.current) {\n        return savedCallbackRef.current();\n      }\n      return noop();\n    };\n    const intervalId = setTimeout(handler, delay);\n    return () => clearInterval(intervalId);\n  }, [delay, timerStatus, updatedAt]);\n};\n\nexport default useTimeout;\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { usePageVisibility } from 'react-page-visibility';\nimport { RootAppState } from 'store/types';\nimport { getTimerLimit, shouldSubmitAllQuestions } from 'store/settings/selectors';\nimport { getTimerElapsed, getTimerStatus } from 'store/timer/selectors';\nimport { getCourseStructure, getScore, getTimerProgressKey } from 'store/course/selectors';\nimport {\n  getUnansweredQuestions,\n  isAllQuestionsFailed,\n  isAllSurveyQuestionsAnswered\n} from 'store/questions/selectors';\nimport * as courseTimerActions from 'store/timer/actions';\nimport * as courseQuestionActions from 'store/questions/actions';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { getTimeFromMilliseconds, calculateTimeLeft, calculateTimeElapsed } from 'utils/timer';\nimport {\n  TimerStatus,\n  PROGRESS_STORAGE_TIMER_UPDATE_INTERVAL,\n  APP_STORE_TIMER_UPDATE_INTERVAL\n} from 'constants/timer';\nimport * as treeOfContentActions from 'store/treeOfContent/actions';\nimport { TimerProps } from './types';\nimport TimerBlock from './TimerBlock';\nimport useInterval from './useInterval';\nimport useTimeout from './useTimeout';\n\nexport const Timer: React.FunctionComponent<TimerProps> = ({\n  timeLimit,\n  timerStatus,\n  timeElapsed,\n  isLowResolution,\n  timerActions,\n  courseScore,\n  hasAllQuestionsFailed,\n  timerProgressKey,\n  isAllSurveyQuestionsAnswered\n}: TimerProps) => {\n  const isPageVisible = usePageVisibility();\n  const [showDigitalTimer, setShowDigitalTimer] = useState(false);\n  const onClick = () => setShowDigitalTimer(true);\n  const [startedAt, setStartedAt] = useState(0);\n  const [updatedAt, setUpdatedAt] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(calculateTimeLeft(timeLimit, timeElapsed, 0));\n  const [previousTimeElapsed] = useState(timeElapsed);\n  const [previousTimerStatus] = useState(timerStatus);\n  const isTimerStopped = timerStatus === TimerStatus.STOPPED;\n\n  useInterval(() => {\n    if (timerStatus === TimerStatus.STARTED) {\n      timerActions.setTimerElapsed(timeLimit - timeLeft);\n      timerActions.updateTimerProgress();\n    }\n  }, PROGRESS_STORAGE_TIMER_UPDATE_INTERVAL);\n\n  useInterval(() => {\n    if (timerStatus === TimerStatus.STARTED) {\n      timerActions.setTimerElapsed(timeLimit - timeLeft);\n    }\n  }, APP_STORE_TIMER_UPDATE_INTERVAL);\n\n  useTimeout(\n    () => {\n      const currentTimeElapsed = calculateTimeElapsed(startedAt, updatedAt);\n      const timeRemaining = calculateTimeLeft(timeLimit, currentTimeElapsed, previousTimeElapsed);\n      if (timerStatus === TimerStatus.STARTED) {\n        if (timeRemaining > 0) {\n          const now = Math.ceil(performance.now());\n          if (!startedAt) {\n            setStartedAt(now);\n          }\n          setUpdatedAt(now);\n          setTimeLeft(timeRemaining);\n          localStorage.setItem(timerProgressKey, `${timeLimit - timeRemaining}`);\n        } else {\n          setTimeLeft(0);\n          localStorage.setItem(timerProgressKey, `${timeLimit}`);\n        }\n      }\n    },\n    1000,\n    timerStatus,\n    updatedAt,\n    isPageVisible\n  );\n\n  useEffect(() => {\n    if (timerStatus === TimerStatus.STARTED && getTimeFromMilliseconds(timeLeft, 'sec') <= 1) {\n      timerActions.setTimerStatus(TimerStatus.TIMED_OUT);\n      timerActions.setTimerElapsed(timeLimit);\n      setTimeLeft(0);\n      timerActions.updateTimerProgress();\n    }\n  }, [timerStatus, timeLeft, timeLimit, timerActions]);\n\n  useEffect(() => {\n    if (previousTimerStatus !== TimerStatus.STOPPED && timerStatus === TimerStatus.STOPPED) {\n      timerActions.setTimerElapsed(timeLimit - timeLeft);\n      timerActions.updateTimerProgress();\n    }\n  }, [timerStatus]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (\n      timerStatus === TimerStatus.STARTED &&\n      (courseScore === 100 || hasAllQuestionsFailed) &&\n      isAllSurveyQuestionsAnswered\n    ) {\n      timerActions.setTimerStatus(TimerStatus.STOPPED);\n      timerActions.updateTimerProgress();\n    }\n  }, [timerStatus, courseScore, hasAllQuestionsFailed, timerActions, isAllSurveyQuestionsAnswered]);\n\n  return (\n    <TimerBlock\n      isTimerStopped={isTimerStopped}\n      isLowResolution={isLowResolution}\n      showDigitalTimer={showDigitalTimer}\n      timeLeft={timeLeft}\n      timeLimit={timeLimit}\n      onClick={onClick}\n    ></TimerBlock>\n  );\n};\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    timeLimit: getTimerLimit(state),\n    timerStatus: getTimerStatus(state),\n    timeElapsed: getTimerElapsed(state),\n    submitAllQuestionsEnabled: shouldSubmitAllQuestions(state),\n    courseStructure: getCourseStructure(state),\n    isLowResolution: state.app.isLowResolution,\n    unansweredQuestions: getUnansweredQuestions(state),\n    courseScore: getScore(state),\n    hasAllQuestionsFailed: isAllQuestionsFailed(state),\n    timerProgressKey: getTimerProgressKey(state),\n    isAllSurveyQuestionsAnswered: isAllSurveyQuestionsAnswered(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    timerActions: bindActionCreators(courseTimerActions, dispatch),\n    tocActions: bindActionCreators(treeOfContentActions, dispatch),\n    questionActions: bindActionCreators(courseQuestionActions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Timer);\n","import React from 'react';\nimport { withTheme } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { localize } from 'core/localization';\nimport { Figure } from './Figure.styled';\n\ntype SecretLinkProps = {\n  theme: { [key: string]: any }\n};\nexport const SecretLink = (props: SecretLinkProps) => (\n  <Figure\n    width=\"260px\"\n    height=\"113px\"\n    viewBox=\"0 0 260 113\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    role=\"img\"\n    arialabel={`${localize('[aria label secret link]')}`}\n  >\n    <title>D18580DD-1FBB-400C-AF63-2F51E37FA0CF</title>\n    <desc>Created with sketchtool.</desc>\n    <defs>\n      <filter id=\"a\" width=\"100%\" height=\"100%\" x=\"0%\" y=\"0%\" filterUnits=\"objectBoundingBox\">\n        <feGaussianBlur in=\"SourceGraphic\" />\n      </filter>\n      <filter id=\"b\" width=\"100%\" height=\"100%\" x=\"0%\" y=\"0%\" filterUnits=\"objectBoundingBox\">\n        <feGaussianBlur in=\"SourceGraphic\" />\n      </filter>\n    </defs>\n    <g fill=\"none\" fillRule=\"evenodd\">\n      <path\n        fill={props.theme.colors.textColor}\n        d=\"M74.48 18.423H20.984s-9.378 1.012-9.378 8.467c0 7.454 9.378 8.466 9.378 8.466l31.828.06s7.447 1.452 7.447 7.983c0 6.53-7.447 8.466-7.447 \n        8.466H36.368s-13.348.815-13.348 8.89c0 8.074 13.348 9.312 13.348 9.312H9.479S0 71.7 0 78.473C0 85.246 9.48 87 9.48 87h207.865s11.703-1.33 \n        11.703-8.527c0-7.196-11.703-8.406-11.703-8.406H197.02s-11.868-.707-12.08-8.042c-.211-7.336 12.08-8.709 12.08-8.709l23.586-.816s12.31 1.814 \n        12.31-8.376-11.325-8.768-11.325-8.768l28.253.06S260 34.806 260 26.89c0-7.917-10.156-8.89-10.156-8.89l-175.365.423z\"\n        filter=\"url(#a)\"\n        opacity=\".02\"\n      />\n      <ellipse\n        cx=\"130\"\n        cy=\"109\"\n        fill={props.theme.colors.textColor}\n        filter=\"url(#b)\"\n        opacity=\".1\"\n        rx=\"35\"\n        ry=\"4\"\n      />\n      <path\n        fill={transparentize(props.theme.colors.mainColor, 0.85)}\n        fillRule=\"nonzero\"\n        d=\"M169.97 76.529c0 .997-.333 1.828-.999 2.493-.666.498-1.332.83-2.331.83H93.372c-.833 \n        0-1.665-.332-2.331-.83-.666-.665-1-1.496-1-2.493V27.836h79.929V76.53z\"\n      />\n      <path\n        fill={props.theme.colors.mainColor}\n        fillRule=\"nonzero\"\n        d=\"M168.971 79.022c-.666.498-1.332.83-2.331.83H93.372c-.833 0-1.665-.332-2.331-.83l38.965-33.404 38.965 33.404z\"\n      />\n      <path\n        fill={props.theme.colors.mainColor}\n        fillRule=\"nonzero\"\n        d=\"M169.97 27.836l-11.323 8.143-26.476 18.946a3.753 3.753 0 0 1-4.496 0l-26.31-18.946-11.323-8.143 \n        11.323-8.143 24.644-17.616 1.832-1.33a3.753 3.753 0 0 1 4.496 0l1.832 1.33 11.823 8.476 5.828 4.154 6.827 4.986 11.323 8.143z\"\n      />\n      <g transform=\"translate(101.286 1.143)\">\n        <path\n          fill={props.theme.colors.contentBodyColor}\n          fillRule=\"nonzero\"\n          stroke={transparentize(props.theme.colors.textColor, 0.05)}\n          strokeOpacity=\".2\"\n          strokeWidth=\"1.143\"\n          d=\"M56.79 11.478L46.637 1.506H3.409A2.765 2.765 0 0 0 .65 4.258v30.286l26.081 18.78a3.185 3.185 0 0 0 3.821-.007L56.79 34.543V11.478z\"\n        />\n        <circle\n          cx=\"28.714\"\n          cy=\"29.714\"\n          r=\"14.857\"\n          fill={transparentize(props.theme.colors.mainColor, 0.7)}\n          opacity=\".8\"\n        />\n        <path\n          fill={props.theme.colors.buttonTextColor}\n          fillRule=\"nonzero\"\n          d=\"M25.281 28.358l-2.913 2.924a1.922 1.922 0 0 0 0 2.724l2.04 2.04c.366.366.85.566 \n          1.368.566.52 0 1.003-.2 1.368-.566l2.901-2.924c.366-.366.566-.85.566-1.368 0-.024 0-.035-.012-.059.024 0 .036.012.06.012.518 0 \n          1.002-.2 1.367-.566l2.925-2.925a1.922 1.922 0 0 0 0-2.724l-2.04-2.04a1.956 1.956 0 0 0-1.368-.554c-.52 0-.99.2-1.356.566l-2.925 \n          2.913a1.917 1.917 0 0 0-.566 1.368c0 .023 0 .035.012.059-.024 0-.035-.012-.059-.012-.519 0-1.002.2-1.368.566zm2.724-1.238l2.925-2.925a.884.884 0 \n          0 1 1.25 0l2.04 2.04a.875.875 0 0 1 0 1.239l-2.937 2.924a.898.898 0 0 1-1.238 0l-.648-.649.59-.59c.2-.2.2-.542 0-.742-.201-.2-.543-.2-.744 \n          0l-.59.59-.648-.65a.884.884 0 0 1-.26-.624c0-.236.095-.448.26-.613zm-.743 1.98l.649.65-.59.589c-.2.2-.2.542 0 .743a.509.509 0 0 0 .366.153.49.49 \n          0 0 0 .365-.153l.59-.59.648.649a.884.884 0 0 1 0 1.25l-2.924 2.924a.898.898 0 0 1-1.238 0L23.1 33.263a.875.875 0 0 1 0-1.238l2.924-2.924a.884.884 \n          0 0 1 .625-.26c.224 0 .448.095.613.26z\"\n        />\n      </g>\n      <path\n        fill={transparentize(props.theme.colors.textColor, 0.1)}\n        fillRule=\"nonzero\"\n        d=\"M148.323 9.722c0 1.496 1.165 2.659 2.664 2.659h7.66L148.323 2.077v7.645z\"\n      />\n    </g>\n  </Figure>\n);\n\nexport default withTheme(SecretLink);\n","import styled from 'styled-components';\nimport { Button, Text } from 'components/common';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { transparentize } from 'utils/color';\n\nexport const ButtonElement = styled(Button)`\n  ${buttonDefaultStyle};\n  flex: 0 0 auto;\n  min-width: 200px;\n  background-color: ${props => props.theme.colors.mainColor};\n  font-size: 14px;\n  margin-bottom: 24px;\n  &:hover,\n  &:focus {\n    outline: 1px solid black;\n    background-color: ${props => transparentize(props.theme.colors.mainColor, 0.9)};\n  }\n  &:focus:not(:focus-visible) {\n    outline: none;\n  }\n`;\n\nexport const EmailWrapper = styled.span`\n  color: ${props => props.theme.colors.mainColor};\n`;\n\nexport const DescriptionElement = styled(Text)`\n  font-weight: normal;\n  line-height: 1.71;\n  text-align: center;\n  color: ${props => props.theme.colors.textColor};\n`;\n\nexport const DescriptionWrapper = styled(Text)`\n  display: flex;\n  flex-direction: column;\n  flex: 0 0 auto;\n  line-height: 1.71;\n  margin-bottom: 40px;\n`;\n\nexport const TitleElement = styled(Text)`\n  font-weight: 300;\n  line-height: 1.03;\n  text-align: center;\n  margin-bottom: 32px;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n`;\n\nexport const Figure = styled.div`\n  margin-bottom: 54px;\n`;\n\nexport const ContinueLaterWrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  z-index: 1;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { localize } from 'core/localization';\nimport SecretLink from 'assets/figures/SecretLink';\nimport { Link, StatusTooltip } from 'components/common';\nimport { BUTTON, LINK, TOOLTIP } from 'constants/components';\nimport { POPUP_ID_CLOSE_COURSE } from 'constants/popups';\nimport { getEmail } from 'store/user/selectors';\nimport progressStorage from 'core/progressStorage';\nimport { STATUS_OK } from 'constants/progressStorage';\nimport { RootAppState } from 'store/types';\nimport CloseCoursePopup from '../closeCourse';\nimport {\n  ButtonElement,\n  EmailWrapper,\n  DescriptionElement,\n  DescriptionWrapper,\n  TitleElement,\n  Figure,\n  ContinueLaterWrapper\n} from './ContinueLater.styled';\n\nconst constants = {\n  emailSeparator: '{email}'\n};\n\ntype ContinueLaterProps = {\n  actions: { [key: string]: any };\n  closePopup(): void;\n  email: string;\n};\n\ntype ContinueLaterState = {\n  emailSent: boolean;\n  emailSentError: boolean;\n};\n\nexport class ContinueLater extends React.Component<ContinueLaterProps, ContinueLaterState> {\n  constructor(props: ContinueLaterProps) {\n    super(props);\n\n    this.state = {\n      emailSent: false,\n      emailSentError: false\n    };\n  }\n\n  onSendSecretLink = async () => {\n    this.setState({ emailSent: false, emailSentError: false });\n\n    const status = await progressStorage.sendSecretLink();\n    const emailSent = status === STATUS_OK;\n\n    this.setState({\n      emailSent,\n      emailSentError: !emailSent\n    });\n  };\n\n  onCloseCourse = () => {\n    this.props.closePopup();\n    this.props.actions.openPopup({\n      popupId: POPUP_ID_CLOSE_COURSE,\n      popupAriaLabelKey: '[aria label close course popup]',\n      component: CloseCoursePopup,\n      disablePopupClosing: true\n    });\n  };\n\n  hideMessage = () => {\n    this.setState({\n      emailSent: false,\n      emailSentError: false\n    });\n  };\n\n  render() {\n    return (\n      <ContinueLaterWrapper>\n        <Figure>\n          <SecretLink />\n        </Figure>\n        <TitleElement appearance=\"span\" size={35}>\n          {localize('[continue on this device]')}\n        </TitleElement>\n        {this.renderDescription()}\n        {this.renderSecretLink()}\n        <Link\n          text={localize('[close course]')}\n          layout={LINK.LAYOUT.FORM}\n          onClick={this.onCloseCourse}\n        />\n      </ContinueLaterWrapper>\n    );\n  }\n\n  renderDescription = () => {\n    const { email } = this.props;\n\n    const localizedText = localize('[get secret link to]');\n    const descriptionElements = localizedText.split(constants.emailSeparator);\n    descriptionElements.splice(1, 0, <EmailWrapper key={Math.random()}>{email}</EmailWrapper>);\n\n    return (\n      <DescriptionWrapper appearance=\"p\">\n        <DescriptionElement appearance=\"span\" size={14}>\n          {descriptionElements}\n        </DescriptionElement>\n        <DescriptionElement appearance=\"span\" size={14}>\n          {localize('[get a secret link to explanation]')}\n        </DescriptionElement>\n      </DescriptionWrapper>\n    );\n  };\n\n  renderSecretLink = () => {\n    const { emailSent, emailSentError } = this.state;\n\n    const showTooltip = emailSent || emailSentError;\n    let tooltipType: any = TOOLTIP.CORRECT;\n    let tooltipMessageKey = '[secret link email sent success]';\n\n    if (emailSentError) {\n      tooltipType = TOOLTIP.INCORRECT;\n      tooltipMessageKey = '[error secret link email sending]';\n    }\n\n    return (\n      <StatusTooltip\n        popoverPosition={'top'}\n        layout={tooltipType}\n        showTooltip={showTooltip}\n        message={localize(tooltipMessageKey)}\n        onRequestClose={() => this.hideMessage()}\n        popoverButton={\n          <ButtonElement\n            layout={BUTTON.LAYOUT.PRIMARY}\n            onClick={this.onSendSecretLink}\n            data-test=\"send-me-the-link-button\"\n            tabIndex={0}\n          >\n            {localize('[send me the link]')}\n          </ButtonElement>\n        }\n      />\n    );\n  };\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    email: getEmail(state)\n  };\n}\n\nexport default connect(mapStateToProps)(ContinueLater);\n","import styled from 'styled-components';\nimport { Text, Button } from 'components/common';\nimport { transparentize } from 'utils/color';\n\nexport const TitleElement = styled(Text)`\n  font-weight: 300;\n  line-height: 1.43;\n  text-align: center;\n  margin-bottom: 48px;\n  color: ${props => props.theme.colors.textColor};\n`;\n\nexport const ButtonElement = styled(Button)`\n  background-color: ${props => props.theme.colors.mainColor};\n  margin: 48px 0 32px 0;\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.mainColor, 0.9)};\n  }\n`;\n\nexport const ContinueLaterWrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  z-index: 1;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { POPUP_ID_CLOSE_COURSE } from 'constants/popups';\nimport { localize } from 'core/localization';\nimport { Link } from 'components/common';\nimport { LINK } from 'constants/components';\nimport * as popupActions from 'store/popup/actions';\nimport * as courseActions from 'store/course/actions';\nimport { closeWindow } from 'utils/window';\nimport CloseCoursePopup from '../closeCourse';\nimport DescriptionWithBackground from '../descriptionWithBackground';\nimport { TitleElement, ButtonElement, ContinueLaterWrapper } from './ContinueLaterInScorm.styled';\n\ntype ContinueLaterInScormProps = {\n  popupAction: { [key: string]: any };\n  courseAction: { [key: string]: any };\n  closePopup(): void;\n};\n\nexport class ContinueLaterInScorm extends React.PureComponent<ContinueLaterInScormProps, {}> {\n  closeCourse = async () => {\n    const { courseAction, popupAction } = this.props;\n    this.props.closePopup();\n    popupAction.openPopup({\n      popupId: POPUP_ID_CLOSE_COURSE,\n      popupAriaLabelKey: '[aria label close course popup]',\n      component: CloseCoursePopup,\n      disablePopupClosing: true\n    });\n\n    await courseAction.finalized();\n    closeWindow();\n  };\n\n  render() {\n    return (\n      <ContinueLaterWrapper>\n        <TitleElement appearance=\"span\" size={35}>\n          {localize('[note that]')}\n        </TitleElement>\n        <DescriptionWithBackground\n          iconName=\"rounded-info\"\n          iconSize={12}\n          descriptionText={localize('[note]')}\n        />\n        <ButtonElement tabIndex={0} onClick={this.closeCourse}>\n          {localize('[ok close course]')}\n        </ButtonElement>\n        <Link\n          onClick={() => this.props.closePopup()}\n          text={localize('[cancel go back to the course]')}\n          layout={LINK.LAYOUT.FORM}\n        />\n      </ContinueLaterWrapper>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    courseAction: bindActionCreators(courseActions, dispatch),\n    popupAction: bindActionCreators(popupActions, dispatch)\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(ContinueLaterInScorm);\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { Button, Text } from 'components/common';\nimport { TextElement } from 'components/common/Button/Button.styled';\nimport { secondaryFont } from 'components/mixins/typography';\nimport { transparentize } from 'utils/color';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nexport const IconContainer = styled.div`\n  display: flex;\n  width: 15px;\n  height: 100%;\n  align-items: center;\n  padding: 3px;\n  opacity: 0.3;\n  transition: opacity 0.2s linear;\n`;\n\nexport const ItemText = styled(Text)`\n  text-align: left;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.7)};\n`;\n\ntype ListItemProps = {\n  tabIndex: string;\n};\n\nexport const ListItem = styled(Button).attrs((props: ListItemProps) => ({\n  tabIndex: props.tabIndex\n}))`\n  ${buttonDefaultStyle};\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: auto;\n  padding: 16px;\n  border-radius: 0;\n  line-height: 0;\n  cursor: pointer;\n\n  ${TextElement} {\n    display: flex;\n    align-items: center;\n    font-weight: normal;\n  }\n\n  ${IconContainer} {\n    opacity: 0.5;\n    margin-right: 8px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.textColor, 0.05)};\n    ${IconContainer} {\n      opacity: 1;\n    }\n\n    ${ItemText} {\n      color: ${props => transparentize(props.theme.colors.textColor, 1)};\n    }\n  }\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.textColor, 0.05)};\n    outline: 1px solid black;\n    ${IconContainer} {\n      opacity: 1;\n    }\n\n    ${ItemText} {\n      color: ${props => transparentize(props.theme.colors.textColor, 1)};\n    }\n  }\n  &:focus:not(:focus-visible) {\n    outline: none;\n  }\n`;\n\nexport const ActionListContainer = styled.div.attrs({\n  'data-test': 'action-list-container'\n})`\n  position: relative;\n  width: 225px;\n  border-radius: 2px;\n  padding: 0;\n  background-color: ${props => props.theme.colors.contentBodyColor};\n`;\n\nexport const AvatarLetterElement = styled.span`\n  font-size: 12px;\n  ${secondaryFont};\n  font-weight: bold;\n  color: ${props => props.theme.colors.buttonTextColor};\n`;\n\nexport const AvatarLetterContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 34px;\n  height: 34px;\n  margin-right: 4px;\n  background-color: ${props => props.theme.colors.mainColor};\n  border-radius: 20px;\n`;\n\nexport const TimerContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\ntype ExpandableWrapperProps = {\n  ariaHidden?: any;\n  tabIndex?: number;\n};\nexport const ExpandableWrapper = styled.button.attrs((props: ExpandableWrapperProps) => ({\n  'aria-hidden': props.ariaHidden,\n  'data-test': 'user-menu-dropdown-toggler',\n  tabIndex: props.tabIndex\n}))<ExpandableWrapperProps>`\n  ${buttonDefaultStyle};\n  display: flex;\n  padding: 0;\n  align-items: center;\n  border-radius: 20px;\n  cursor: pointer;\n  transition: all 0.1s ease-out, focus 0s;\n\n  &:hover,\n  &:active {\n    outline: none;\n    ${IconContainer} {\n      opacity: 0.7;\n    }\n  }\n  &:focus {\n    outline: 1px solid black;\n    background: none;\n    ${IconContainer} {\n      opacity: 0.7;\n    }\n  }\n  &:focus:not(:focus-visible) {\n    outline: none;\n  }\n`;\n\ntype MenuContainerProps = {\n  ariaHidden?: any;\n};\nexport const MenuContainer = styled.div.attrs((props: MenuContainerProps) => ({\n  'aria-hidden': props.ariaHidden\n}))<MenuContainerProps>`\n  display: flex;\n  align-items: center;\n  height: 40px;\n  padding: 3px;\n  position: absolute;\n  background-color: ${props => props.theme.colors.contentBodyColor};\n  box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n  border-radius: 20px;\n  top: 20px;\n  right: 30px;\n  z-index: 105;\n\n  ${media.mobile`\n    top: 10px;\n    right: 10px;\n  `};\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { withTheme } from 'styled-components';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport * as userActions from 'store/user/actions';\nimport { isAppLoadingFailed } from 'store/app/selectors';\nimport { shouldSaveCrossDevice, isAnonymous } from 'store/user/selectors';\nimport {\n  isScormMode,\n  isNpsEnabled,\n  getLearnServiceUrl,\n  isPreviewMode,\n  getTimerEnabled\n} from 'store/settings/selectors';\nimport { isFinalized, isCourseLaunched } from 'store/course/selectors';\nimport * as popupActions from 'store/popup/actions';\nimport * as courseActions from 'store/course/actions';\nimport * as navigationActions from 'store/navigation/actions';\nimport Icon from 'components/common/Icon';\nimport { localize } from 'core/localization';\nimport {\n  POPUP_ID_CONTINUE_LATER,\n  POPUP_ID_CONTINUE_LATER_IN_SCORM,\n  POPUP_ID_CLOSE_COURSE,\n  POPUP_ID_NPS_POPUP\n} from 'constants/popups';\nimport { Tooltip } from 'components/common';\nimport Timer from 'components/timer';\nimport { RootAppState } from 'store/types';\nimport { isLtiInitialized } from 'store/modules/selectors';\nimport { KEYS } from 'constants/common';\nimport ContinueLater from '../popups/continueLater';\nimport ContinueLaterInScorm from '../popups/continueLaterInScorm';\nimport CloseCoursePopup from '../popups/closeCourse';\nimport NpsPopup from '../popups/nps';\n\nimport {\n  MenuContainer,\n  ExpandableWrapper,\n  AvatarLetterContainer,\n  AvatarLetterElement,\n  IconContainer,\n  ActionListContainer,\n  ListItem,\n  ItemText,\n  TimerContainer\n} from './UserMenu.styled';\nimport { getAvatarLetter } from '../../store/user/selectors';\n\nconst constants = {\n  defaultAvatarLetter: 'A'\n};\n\nconst closeCoursePopupSettings = {\n  popupId: POPUP_ID_CLOSE_COURSE,\n  popupAriaLabelKey: '[aria label close course popup]',\n  component: CloseCoursePopup,\n  disablePopupClosing: true\n};\n\nconst npsPopupSettings = {\n  popupId: POPUP_ID_NPS_POPUP,\n  popupAriaLabelKey: '[aria label close nps popup]',\n  component: NpsPopup,\n  fromDownloadCertificateButton: false,\n  disablePopupClosing: true,\n  disableBottomLine: true\n};\n\ntype UserMenuProps = {\n  actions: { [key: string]: any };\n  courseAction: { [key: string]: any };\n  saveCrossDevice: boolean;\n  avatarLetter: string;\n  isScorm: boolean;\n  isLti: boolean;\n  previewMode: boolean;\n  courseIsFinalized: boolean;\n  npsEnabled: boolean;\n  popupActions: { [key: string]: any };\n  navigationActions: { [key: string]: any };\n  theme?: any;\n  ariaHidden?: any;\n  learnServiceUrl?: string;\n  isLoadingFailed: boolean;\n  hasUnhandledError: boolean;\n  hasCourseLaunched: boolean;\n  isTimerEnabled: boolean;\n  isAnonymous: boolean;\n};\n\ntype UserMenuState = {\n  isExpanded: boolean;\n};\n\nexport class UserMenu extends React.Component<UserMenuProps, UserMenuState> {\n  templateTheme: any;\n\n  constructor(props: UserMenuProps) {\n    super(props);\n    this.templateTheme = props.theme;\n    this.state = {\n      isExpanded: false\n    };\n    this.keyDown = this.keyDown.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.keyDown, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.keyDown, false);\n  }\n\n  toggle = () => {\n    this.setState({\n      isExpanded: !this.state.isExpanded\n    });\n  };\n\n  closePopup = () => {\n    this.setState({\n      isExpanded: false\n    });\n  };\n\n  keyDown(event: any) {\n    if (\n      event.key?.toLowerCase() === KEYS.ESCAPE.toLowerCase() ||\n      (event.key?.toLowerCase() === KEYS.TAB.toLowerCase() &&\n        this.state.isExpanded &&\n        document\n          .getElementById('action-list')\n          ?.lastElementChild?.classList.contains('focus-visible'))\n    ) {\n      this.closePopup();\n    }\n  }\n\n  onLogout = async () => {\n    this.props.actions.notSkipAuthentication();\n    await this.props.actions.logout();\n    this.toggle();\n  };\n\n  onContinueLater = () => {\n    this.props.popupActions.openPopup({\n      popupId: POPUP_ID_CONTINUE_LATER,\n      popupAriaLabelKey: '[continue later aria label]',\n      component: ContinueLater\n    });\n    this.toggle();\n  };\n\n  onContinueLaterInScorm = () => {\n    this.props.popupActions.openPopup({\n      popupId: POPUP_ID_CONTINUE_LATER_IN_SCORM,\n      popupAriaLabelKey: '[continue later aria label]',\n      component: ContinueLaterInScorm\n    });\n    this.toggle();\n  };\n\n  onSubmitResult = async () => {\n    const { npsEnabled } = this.props;\n    await this.props.courseAction.finished();\n\n    this.props.popupActions.openPopup(npsEnabled ? npsPopupSettings : closeCoursePopupSettings);\n\n    if (!npsEnabled) {\n      await this.props.courseAction.finalized();\n    }\n    this.toggle();\n  };\n\n  renderListItem(clickAction: any, itemTextKey: any, iconSettings?: any, additionalProps?: any) {\n    return (\n      <ListItem theme={this.templateTheme} {...additionalProps} onClick={clickAction}>\n        {iconSettings && (\n          <IconContainer>\n            <Icon\n              theme={this.templateTheme}\n              name={iconSettings.name}\n              size={iconSettings.size}\n              color={iconSettings.color}\n            />\n          </IconContainer>\n        )}\n        <ItemText theme={this.templateTheme} appearance=\"span\" size={13}>\n          {localize(itemTextKey)}\n        </ItemText>\n      </ListItem>\n    );\n  }\n\n  render() {\n    const {\n      avatarLetter,\n      saveCrossDevice,\n      isScorm,\n      isLti,\n      previewMode,\n      courseIsFinalized,\n      ariaHidden,\n      navigationActions,\n      learnServiceUrl,\n      hasCourseLaunched,\n      isTimerEnabled,\n      isAnonymous\n    } = this.props;\n    const { isExpanded } = this.state;\n\n    return (\n      <MenuContainer ariaHidden={ariaHidden}>\n        {isTimerEnabled && hasCourseLaunched && (\n          <TimerContainer data-test=\"course-timer-container\">\n            <Timer />\n          </TimerContainer>\n        )}\n        <Tooltip\n          trigger={'manual'}\n          open={isExpanded}\n          onRequestClose={this.closePopup}\n          arrow={true}\n          position={'bottom-end'}\n          style={{ display: 'block' }}\n          interactive\n          html={\n            <ActionListContainer theme={this.templateTheme} id=\"action-list\">\n              {!isScorm &&\n                !previewMode &&\n                !isLti &&\n                !isAnonymous &&\n                this.renderListItem(\n                  () => navigationActions.goToUrl(learnServiceUrl),\n                  '[my courses]',\n                  null,\n                  {\n                    'data-test': 'my-courses-button'\n                  }\n                )}\n              {!this.shouldHideListItem() &&\n                !isScorm &&\n                saveCrossDevice &&\n                this.renderListItem(this.onContinueLater, '[continue later with link]', null, {\n                  'data-test': 'continue-later-button'\n                })}\n\n              {!isScorm &&\n                this.renderListItem(\n                  this.onLogout,\n                  '[logout]',\n                  {\n                    name: 'logout',\n                    size: 10,\n                    color: 'textColor'\n                  },\n                  {\n                    'data-test': 'logout-button'\n                  }\n                )}\n\n              {!this.shouldHideListItem() &&\n                isScorm &&\n                (courseIsFinalized\n                  ? this.renderListItem(this.onSubmitResult, '[user menu submit result]')\n                  : this.renderListItem(this.onContinueLaterInScorm, '[continue course later]'))}\n            </ActionListContainer>\n          }\n        >\n          <ExpandableWrapper ariaHidden={false} onClick={this.toggle} tabIndex={0}>\n            <AvatarLetterContainer>\n              <AvatarLetterElement>\n                {avatarLetter || constants.defaultAvatarLetter}\n              </AvatarLetterElement>\n            </AvatarLetterContainer>\n            <IconContainer>\n              <Icon name={isExpanded ? 'chevron-up' : 'chevron-down'} size={5} color=\"textColor\" />\n            </IconContainer>\n          </ExpandableWrapper>\n        </Tooltip>\n      </MenuContainer>\n    );\n  }\n\n  shouldHideListItem() {\n    return this.props.isLoadingFailed || this.props.hasUnhandledError;\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    avatarLetter: getAvatarLetter(state),\n    saveCrossDevice: shouldSaveCrossDevice(state),\n    isScorm: isScormMode(state),\n    isLti: isLtiInitialized(state),\n    courseIsFinalized: isFinalized(state),\n    npsEnabled: isNpsEnabled(state),\n    learnServiceUrl: getLearnServiceUrl(state),\n    previewMode: isPreviewMode(state),\n    isLoadingFailed: isAppLoadingFailed(state),\n    hasCourseLaunched: isCourseLaunched(state),\n    isTimerEnabled: getTimerEnabled(state),\n    isAnonymous: isAnonymous(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(userActions, dispatch),\n    courseAction: bindActionCreators(courseActions, dispatch),\n    navigationActions: bindActionCreators(navigationActions, dispatch),\n    popupActions: bindActionCreators(popupActions, dispatch)\n  };\n}\n\nexport default withTheme(connect(mapStateToProps, mapDispatchToProps)(UserMenu));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Popup from 'components/common/Popup';\nimport { getPopupVisibility } from 'store/popup/selectors';\nimport {\n  getBackground,\n  isTrackingEnabled,\n  isScormMode,\n  isResource,\n  getSelectedLanguage\n} from 'store/settings/selectors';\nimport { isAuthenticated } from 'store/user/selectors';\nimport { isReviewEnabled } from 'store/modules/selectors';\nimport { isCourseAccessLimited } from 'store/course/selectors';\nimport { isLoaderVisibility } from 'store/loader/selectors';\nimport Reviewable from 'components/review/Reviewable';\nimport { HINT_FOR_GENERAL_COMMENT } from 'constants/review';\nimport { HYPHENATED_LANGUAGES } from 'constants/language';\nimport { RootAppState } from 'store/types';\nimport UserMenu from '../../userMenu';\nimport {\n  LayoutBaseStyles,\n  LayoutContainer,\n  BackgroundContainer,\n  PageContainer,\n  PageContentContainer,\n  PageContentChild,\n  PageSidebarContainer,\n  PageSidebarChild,\n  BasicStylesSidebar\n} from './Layout.styled';\n\ntype PageSidebarProps = {\n  children: any;\n  className?: string;\n  props?: any;\n};\nexport const PageSidebar = ({ children, className, ...props }: PageSidebarProps) => (\n  <PageSidebarContainer className={className} {...props}>\n    <PageSidebarChild>{children}</PageSidebarChild>\n  </PageSidebarContainer>\n);\n\ntype BasicStyledSidebarProps = {\n  children?: any;\n  className?: string;\n  background?: any;\n};\nexport const BasicStyledSidebar = ({\n  children,\n  className = '',\n  ...props\n}: BasicStyledSidebarProps) => (\n  <BasicStylesSidebar className={className} {...props}>\n    <PageSidebarChild>{children}</PageSidebarChild>\n  </BasicStylesSidebar>\n);\n\ntype PageContentProps = {\n  children: any;\n  className?: string;\n  props?: any;\n};\nexport const PageContent = ({ children, ...props }: PageContentProps) => (\n  <PageContentContainer {...props}>\n    <PageContentChild>{children}</PageContentChild>\n  </PageContentContainer>\n);\n\ntype LayoutProps = {\n  children: any;\n  background: { [key: string]: any };\n  isUserAuthenticated: boolean;\n  popupExpanded: boolean;\n  trackingEnabled: boolean;\n  isAccessLimited: boolean;\n  isLoaderVisible?: boolean;\n  isScorm: boolean;\n  reviewMode: boolean;\n  isResourceType: boolean;\n  className?: string;\n  hasUnhandledError?: boolean;\n  selectedLanguage?: string;\n};\n\nexport class Layout extends Component<LayoutProps, {}> {\n  render() {\n    const {\n      background,\n      children,\n      popupExpanded,\n      className,\n      hasUnhandledError,\n      isLoaderVisible,\n      isResourceType\n    } = this.props;\n    const bgHeader = background.header;\n    return (\n      <>\n        <LayoutBaseStyles shouldEnableHyphenation={this.shouldEnableHyphenation()} />\n        <LayoutContainer className={className}>\n          <Reviewable isGeneral={true} hintName={HINT_FOR_GENERAL_COMMENT}>\n            {!isLoaderVisible && !isResourceType && (\n              <BackgroundContainer background={bgHeader} aria-hidden={popupExpanded} />\n            )}\n            <PageContainer aria-hidden={popupExpanded}>{children}</PageContainer>\n            {this.shouldRenderUserMenu() && !isLoaderVisible && (\n              <UserMenu ariaHidden={popupExpanded} hasUnhandledError={hasUnhandledError || false} />\n            )}\n            {popupExpanded && <Popup />}\n          </Reviewable>\n        </LayoutContainer>\n      </>\n    );\n  }\n\n  shouldEnableHyphenation = () => {\n    const { selectedLanguage = 'en' } = this.props;\n    return HYPHENATED_LANGUAGES.includes(selectedLanguage);\n  };\n\n  shouldRenderUserMenu() {\n    const {\n      isUserAuthenticated,\n      trackingEnabled,\n      isAccessLimited,\n      isScorm,\n      isResourceType\n    } = this.props;\n\n    return (\n      (isUserAuthenticated && trackingEnabled && !isAccessLimited && !isResourceType) || isScorm\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    background: getBackground(state),\n    popupExpanded: getPopupVisibility(state),\n    isUserAuthenticated: isAuthenticated(state),\n    trackingEnabled: isTrackingEnabled(state),\n    isAccessLimited: isCourseAccessLimited(state),\n    isLoaderVisible: isLoaderVisibility(state),\n    isScorm: isScormMode(state),\n    reviewMode: isReviewEnabled(state),\n    isResourceType: isResource(state),\n    selectedLanguage: getSelectedLanguage(state)\n  };\n}\n\nexport default connect(mapStateToProps)(Layout);\n","import { ProgressStatus } from 'constants/progressStatus';\n\nexport const isPassed = (status: number) => status === ProgressStatus.PASSED;\n\nexport const isFailed = (status: number) => status === ProgressStatus.FAILED;\n\nexport const isInProgress = (status: number) => status === ProgressStatus.IN_PROGRESS;\n"],"sourceRoot":""}